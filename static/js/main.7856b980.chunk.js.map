{"version":3,"sources":["assets/logo.png","assets/pokemon-opening.mp3","assets/pokemon-opening.ogg","assets/pokeball.png","assets/art.webp","assets/sprites.webp","assets/types.webp","components/Buttons/index.js","components/Helmet.js","constants/routes.js","utils/media.js","components/HeaderBar/NavigationMenu.js","constants/strings.js","constants/settings.js","utils/common.js","components/HeaderBar/index.js","components/AlertContainer.js","components/Footer/index.js","hooks/useKonami.js","components/EasterEgg/index.js","constants/pokedex.js","components/Filters/index.js","constants/dndType.js","components/DragAndDrop/Target.js","components/DragAndDrop/Source.js","components/DragAndDrop/supportsTouch.js","components/DragAndDrop/index.js","components/List.js","context/index.js","components/TypeBlock/index.js","components/TeamBreakdownPanel/TeamBreakdownPanelUtils.js","components/TeamBreakdownPanel/EffectiveTypePanel.js","components/TeamBreakdownPanel/StatPanel.js","constants/generations.js","constants/evolutions.js","components/TeamBreakdown/TeamBreakdownUtils.js","components/TeamBreakdown/index.js","utils/selectors.js","components/ArtCard/index.js","constants/orders.js","constants/party.js","data/idGenerators.js","constants/types.js","constants/regions.js","constants/index.js","utils/derivedData.js","utils/lists.js","utils/generateEvolutionOptions.js","components/TeamMember/index.js","components/Team/index.js","components/Sprite/index.js","views/TeamPlanner/TeamPlannerUtils.js","views/TeamPlanner/index.js","utils/feedback.js","components/TeamViewerMessage/index.js","views/TeamViewer/utils.js","views/TeamViewer/SavedTeams.js","data/mappers.js","constants/idPrefixes.js","utils/sorters.js","data/transformers.js","data/index.js","views/TeamViewer/TrainerTeams.js","views/TeamViewer/index.js","views/Settings.js","views/Pokedex/PokedexMember.js","views/Pokedex/index.js","views/Pokedex/generateVanillaDex.js","views/Pokedex/buildControlText.js","utils/getPageTitle.js","components/App.js","utils/logData.js","registerServiceWorker.js","preloadImages.js","driver.js","index.js"],"names":["module","exports","Button","className","isAction","props","classNames","IconButton","ClearButton","icon","Icons","cross","ArrowButton","help","aria-label","title","LeftButton","left","RightButton","right","ButtonisedNavLink","withButtonisation","LusHelmet","description","titleTemplate","name","content","displayName","Object","freeze","base","teams","savedTeams","trainerTeams","lusamineTeam","settings","pokedex","media","Map","n","isXS","get","PLANNER","POKEDEX","TEAMS","SETTINGS","teamsUrl","Routes","pokedexUrl","settingsUrl","NavigationLinks","onItemClick","Fragment","key","id","exact","to","onClick","menuIcon","menuLabel","nano","put","padding","NavigationMenu","size","useWindowSize","width","align","closeMenu","emptyList","large","small","idPrefix","regular","mega","variant","empty","typeBreakdown","weakTo","resists","unaffectedBy","savedTeamsStorage","settingsStorage","pageTitle","planner","pageDescription","scoreModifier","none","low","medium","high","readMessages","canDragAndDrop","canUseArrows","canEvolve","defaultPokedex","getWindowScrollPosition","window","scrollY","pageYOffset","document","documentElement","scrollTop","getUrlQueryStringAsObject","location","search","constructObjectFromSearchParams","createIdStringFromSet","idSet","newValue","values","ids","Set","combineValuesIntoSet","Array","from","join","createSetFromIdString","str","split","iterateMapToArray","m","iterateKeysToArray","keys","iterateMapToArrayEntries","entries","swapArrayPositions","arr","list","slice","fromValue","moveToNewArrayPosition","x","splice","length","arrayMove","teamsStore","Store","Strings","upgrade","teamKeys","some","k","isString","reduce","p","data","generateUniqueId","idString","settingsStore","SETTINGS_DEFAULTS","selectMembersFromPokedex","dex","memberIds","map","selectMembersFromPokedexAllowDuplicates","i","customId","d","HeaderBar","React","Component","constructor","super","this","state","windowScrollPosition","componentDidMount","scrollListeners","createListeners","setState","listen","componentWillUnmount","remove","render","isPageScrolled","headerClasses","leftAlignTitle","navLeft","alt","src","Logo","navRight","AlertContainer","alerts","timer","handleTriggeredAlert","bind","handleDismiss","alert","clearTimeout","setTimeout","alertId","prev","filter","actions","dismissAlertMessage","messageClassName","children","Footer","href","up","konami","EasterEgg","useState","isPlaying","setPlaying","show","setShow","queue","setQueue","useEffect","listeners","e","code","includes","queueLastTen","every","useKonami","usedKonamiCode","reset","htmlFor","controls","autoPlay","onPlay","onPause","mp3","type","ogg","btnStyle","Pokedex","national","kanto","new","johto","hoenn","hoenn_oras","sinnoh","sinnoh_pt","unova","unova_n","kalos","alola","alola_u","pokedexOptions","value","text","capitaliseEachWord","FILTERS_INPUT_CLASS","Filters","hideOnCertainScreens","hiddenOn","shouldHide","pokedexProps","options","containerClassName","searchProps","label","placeholder","generationProps","typeProps","resistsProps","evolutionsProps","includeMegaProps","includeVariantsProps","startersOnlyProps","teamMember","memberTarget","hover","monitor","component","getItem","dragItem","dragIndex","index","hoverItem","hoverIndex","canDrop","hoverBoundingRect","findDOMNode","getBoundingClientRect","hoverMiddleX","hoverClientX","getClientOffset","moveDnD","isEmpty","withDropTarget","DropTarget","DnDType","connect","connectDropTarget","dropTarget","isOver","memberSource","beginDrag","canDrag","withDragSource","DragSource","connectDragSource","dragSource","connectDragPreview","dragPreview","isDragging","isTouchDevice","confirmed","navigator","maxTouchPoints","msMaxTouchPoints","getElementsByTagName","classList","add","HTML5DND","DragDropContext","HTML5Backend","TouchDND","TouchBackend","List","items","itemTemplate","hasItems","PokedexContext","createContext","TypeContext","TypeBlock","memo","BREAKDOWN_ITEM_CLASS","getScoreModifier","num","EffectiveTypeBreakdownPanel","types","panelModifier","onMouseState","listOfMemberIds","t","score","typeStatusClass","modifier","TBPU","mod","mouseState","StatBreakdownPanel","nameSource","sort","shouldWrap","columns","gen1","gen2","gen3","gen4","gen5","gen6","gen7","gen8","leveling","levelingHighFriendship","levelingWithMove","levelingAtLocation","levelingAtTime","levelingWithItem","levelingGender","levelingGame","levelingUniqueCondition","levelingAdditionalFactor","stone","stoneGender","trade","tradeWithItem","tradeForPokemon","EvolutionForms","notEvolved","fullyEvolved","withFilterZeroes","filterZeroes","filteredEntries","buildGenerationCounts","members","genCounts","result","mem","has","generation","set","buildEvolutionFormCounts","counts","evolutions","TeamBreakdown","isCollapsed","uniqueId","handleToggle","handleMouseEnterLeave","context","contentClassName","alwaysOpen","typeBreakdownOnly","renderNonTypes","noMembers","showToggle","showContent","breakdownDescription","onMouseEnter","onMouseLeave","statCounts","getKeyName","val","getKeyByValue","Generations","separateAndCapitaliseAll","TBU","weaknessCounts","typesMapEmpty","c","typeIds","maps","unaffectedIds","tId","weakIds","resistsIds","v","u","w","r","unaffectedCounts","weakCounts","resistCounts","goodCountModifier","aria-describedby","teamName","item","EffectiveTypePanel","contextType","defaultProps","constructNameClass","form","pokemonName","replace","constructNameClassForSprite","constructNameClassForArtCard","constructTypeClasses","indexToText","trim","constructTypeClassesForSprite","constructTypeClassesForArtCard","ArtCard","backgroundPosition","artPosition","artCardClasses","buildSelectorsForArtCard","style","moveLeft","moveRight","MAX_SIZE","START_INDEX","END_INDEX","defaultIdSuffix","o","nationalPokedexNumber","constructId","fn","dataMap","obj","generatePokemonId","generateVariantPokemonId","generateMegaPokemonId","suffix","generateEmptyPokemonId","normal","grass","fire","water","fighting","flying","poison","ground","rock","bug","ghost","electric","psychic","ice","dragon","dark","steel","fairy","Types","Regions","Evolutions","Party","Constants","GEN2_START","GEN3_START","GEN4_START","GEN5_START","GEN6_START","GEN7_START","GEN8_START","getGeneration","dexNum","createEmptyPokemon","generateEmptySlots","emptySlots","fill","checkPokemonId","check","mon","startsWith","isMegaPokemon","isVariantPokemon","isAltFormPokemon","merge","a","distinct","b","findIndex","formsForNPN","mons","npn","generateEvolutionOptions","exhaustive","pokemon","isMega","isVariant","variantExists","forms","variants","push","megaIds","targetIds","vId","evolvesTo","pId","hasV","xIds","devolveIds","megas","pkmId","evolves","initial","includeForms","devolves","asList","count","TeamMember","forwardRef","ref","partyEndIndex","isHighlighted","move","evolve","useContext","displayEvolveMenu","setDisplayEvolveMenu","hasData","hasCustomActions","renderCustomActions","canRemove","canReOrder","isFirst","isLast","useMemo","disableEvolve","idSource","disabled","Orders","pokeball","height","TeamMemberDraggable","WrappedComponent","instance","element","highlightDefaultState","dataType","dataId","DnDBackend","HTML5DragDrop","PureComponent","emptyMembers","highlight","handleMemberRemove","handleMemberMove","handleMemberEvolve","handleMemberDnD","handleMouseState","nextProps","prevState","padPartyToSixMembers","emptys","delete","onMembersUpdate","direction","oldIndex","newOrderMembers","evolveToId","newMembers","highlightMembers","lastMemberIndex","removeMember","evolveMember","moveMember","moveMemberDnD","Member","Sprite","spritePosition","spriteId","spriteClasses","buildSelectorsForSprite","hasClick","spriteClick","capitalisedName","contentId","delay","center","aria-labelledby","padInt","padStart","applyDexFilters","filters","typeMatches","currentTeamIds","generations","includeMega","includeVariants","startersOnly","isStarter","resistsForType","pEvolutions","evolutionFilters","isExcludedEvolutionType","iteratePokedexToList","dexKey","regions","activePokedex","formSuffix","acc","getAllEnumValues","getEnumOptions","generationOptions","capitalise","generationDefaults","typeOptions","typeDefaults","evolutionOptions","evolutionDefaults","selectRandomSetOfIds","dexData","randomTeam","team","randomIndex","Math","floor","random","selected","resolvePokedex","params","pokedexKey","getKey","PlannerPage","currentTeamName","TPU","handleNameInput","handleSearchInput","handleMultiSelectFilter","handleTickboxFilter","handleSpriteSelection","handleMembersUpdate","handleClearTeam","handleRandomTeam","handleSaveTeam","handleChangePokedex","updateTeamQueryString","newId","history","idStr","pathname","target","toLowerCase","checked","sendAlert","message","detail","membersIds","match","randomSetOfIds","saveTeamData","pokeData","dexFilters","filterProps","onChange","onUpdate","Consumer","filteredSprites","TeamViewerMessage","link","createTeamUrl","mapTrainerTeamsToDisplayModel","TeamViewer","loadedTeams","handleDeleteTeam","teamId","updatedTeams","TVU","mapTypesToPokemon","find","mapEvolutionsToPokemon","mechanism","getIdPrefix","sortCombinedData","aId","bId","aNPN","bNPN","aPrefix","bPrefix","aEnum","IdPrefixes","bEnum","transformPokemonData","IdGenerators","starters","pokemonTypes","pokemonEvolutions","Mappers","transformMegaPokemonData","basePokemon","transformVariantPokemonData","regionName","regionId","reduceMapsToArray","combined","aMap","SPRITES_PER_ROW","ART_PER_ROW","constructPokedex","mapper","combinedData","combineAndSortMaps","order","sy","sx","ay","ax","regionalVariants","johto_og","kalos_ce","kalos_co","kalos_mo","TrainerTeamViewer","query","activeTab","tab","Container","url","View","isActive","SavedTeams","TrainerTeams","Settings","handleUserInput","handleSelectChange","PokedexMember","currentPath","FIRST_ID","lastId","baseDex","dexOptions","generateVanillaDex","isXSmall","activeId","activeMon","typeSourceId","typeSourceMon","changeActivePokemon","isPre","pref","suff","monName","buildControlText","backward","forward","evoOptions","hasDevolves","hasEvolves","hasMegas","aria-hidden","BRANCH","process","VERSION","systemMessages","App","useGlobalStyles","typeMatchups","userMessages","setUserMessages","path","pageHeader","getPageTitleForCurrentPath","messages","hasMessages","console","groupCollapsed","log","groupEnd","logData","Provider","messageId","triggerAlert","branch","version","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","preload","Image","clickOn","selector","el","getElementById","warn","getElement","click","navigate","randomise","save","clear","toggleBreakdown","baseUrl","origin","newSearch","toggleCanDnD","art","sprites","forEach","Lusamine","Driver","ReactDOM","URL","addEventListener","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.7856b980.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/pokemon-opening.7140bc35.mp3\";","module.exports = __webpack_public_path__ + \"static/media/pokemon-opening.0d0730eb.ogg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/art.f0c60420.webp\";","module.exports = __webpack_public_path__ + \"static/media/sprites.96ef307e.webp\";","module.exports = __webpack_public_path__ + \"static/media/types.ecadccdc.webp\";","import classNames from 'classnames';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { withButtonisation, Button as MButton, Icons } from 'mko';\r\n\r\nimport './Button.scss';\r\n\r\nexport const Button = ({ className, isAction, ...props }) => (\r\n  <MButton\r\n    className={classNames(\r\n      'lusamine-button',\r\n      { 'lusamine-button--action': isAction },\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n);\r\n\r\nexport const IconButton = ({ className, ...props }) => (\r\n  <MButton\r\n    className={classNames('lusamine-button', 'lusamine-icon-button', className)}\r\n    {...props}\r\n  />\r\n);\r\n\r\nexport const ClearButton = ({ className, ...props }) => (\r\n  <IconButton\r\n    icon={Icons.cross}\r\n    className={classNames('clear-button', className)}\r\n    {...props}\r\n  />\r\n);\r\n\r\nconst ArrowButton = ({ className, help, ...props }) => (\r\n  <IconButton\r\n    className={classNames('arrow-button', className)}\r\n    aria-label={help}\r\n    title={help}\r\n    {...props}\r\n  />\r\n);\r\n\r\nexport const LeftButton = (props) => (\r\n  <ArrowButton {...props} icon={Icons.left} help=\"Move Left\" />\r\n);\r\n\r\nexport const RightButton = (props) => (\r\n  <ArrowButton {...props} icon={Icons.right} help=\"Move Right\" />\r\n);\r\n\r\nexport const ButtonisedNavLink = withButtonisation(\r\n  ({ className, ...props }) => (\r\n    <NavLink\r\n      className={classNames('lusamine-button-link', className)}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Helmet, HelmetProvider } from 'react-helmet-async';\r\n\r\nfunction LusHelmet({ title, description }) {\r\n  return (\r\n    <HelmetProvider>\r\n      <Helmet title={title} titleTemplate=\"%s | Lusamine\">\r\n        <meta name=\"description\" content={description} />\r\n      </Helmet>\r\n    </HelmetProvider>\r\n  );\r\n}\r\n\r\nLusHelmet.displayName = 'AppHelmet';\r\nLusHelmet.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired\r\n};\r\n\r\nexport default LusHelmet;\r\n","export default Object.freeze({\r\n  base: '/lusamine',\r\n  teams: '/teams',\r\n  savedTeams: '/teams?tab=saved',\r\n  trainerTeams: '/teams?tab=trainer',\r\n  lusamineTeam: '/lusamine/?team=p_36,p_549,p_428,p_350,p_760',\r\n  settings: '/settings',\r\n  pokedex: '/pokedex'\r\n});\r\n","export const media = new Map([\r\n  ['xsmall', (n) => n < 768],\r\n  ['small', (n) => n <= 991],\r\n  ['large', (n) => n > 991]\r\n]);\r\n\r\nexport const isXS = media.get('xsmall');\r\n","import React from 'react';\r\n\r\nimport { DropdownMenu, useWindowSize, nano } from 'mko';\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport Routes from 'constants/routes';\r\nimport { isXS } from 'utils/media';\r\n\r\nconst PLANNER = 'planner';\r\nconst POKEDEX = 'pokedex';\r\nconst TEAMS = 'teams';\r\nconst SETTINGS = 'settings';\r\n\r\nconst teamsUrl = `${Routes.base}${Routes.teams}`;\r\nconst pokedexUrl = `${Routes.base}${Routes.pokedex}`;\r\nconst settingsUrl = `${Routes.base}${Routes.settings}`;\r\n\r\nfunction NavigationLinks({ onItemClick }) {\r\n  return (\r\n    <React.Fragment>\r\n      <ButtonisedNavLink\r\n        key={PLANNER}\r\n        id={PLANNER}\r\n        className=\"header-bar__link\"\r\n        exact\r\n        to={Routes.base}\r\n        onClick={onItemClick}\r\n      >\r\n        Team Planner\r\n      </ButtonisedNavLink>\r\n      <ButtonisedNavLink\r\n        key={POKEDEX}\r\n        id={POKEDEX}\r\n        className=\"header-bar__link\"\r\n        to={pokedexUrl}\r\n        onClick={onItemClick}\r\n      >\r\n        Pokedex\r\n      </ButtonisedNavLink>\r\n      <ButtonisedNavLink\r\n        key={TEAMS}\r\n        id={TEAMS}\r\n        className=\"header-bar__link\"\r\n        to={teamsUrl}\r\n        onClick={onItemClick}\r\n      >\r\n        Teams\r\n      </ButtonisedNavLink>\r\n      <ButtonisedNavLink\r\n        key={SETTINGS}\r\n        id={SETTINGS}\r\n        className=\"header-bar__link\"\r\n        to={settingsUrl}\r\n        onClick={onItemClick}\r\n      >\r\n        Settings\r\n      </ButtonisedNavLink>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst menuIcon = '\\u22EE';\r\nconst menuLabel = 'Open navigation menu';\r\n\r\n// unintrusive centering\r\nnano.put('.dropdown-menu', {\r\n  padding: '6px'\r\n});\r\n\r\nfunction NavigationMenu() {\r\n  const size = useWindowSize();\r\n\r\n  if (isXS(size.width)) {\r\n    return (\r\n      <DropdownMenu\r\n        align=\"right\"\r\n        icon={menuIcon}\r\n        aria-label={menuLabel}\r\n        title={menuLabel}\r\n      >\r\n        {(closeMenu) => <NavigationLinks onItemClick={closeMenu} />}\r\n      </DropdownMenu>\r\n    );\r\n  }\r\n\r\n  return <NavigationLinks />;\r\n}\r\n\r\nexport default NavigationMenu;\r\n","export default {\r\n  emptyList: 'No Pokemon found using the selected filters.',\r\n  // screen sizes\r\n  large: 'large',\r\n  small: 'small',\r\n  idPrefix: {\r\n    regular: 'p',\r\n    mega: 'm',\r\n    variant: 'v',\r\n    empty: 'e'\r\n  },\r\n  typeBreakdown: {\r\n    weakTo: 'weakTo',\r\n    resists: 'resists',\r\n    unaffectedBy: 'unaffectedBy'\r\n  },\r\n  savedTeamsStorage: 'savedTeams',\r\n  settingsStorage: 'lusamineSettings',\r\n  pageTitle: {\r\n    planner: 'Pokmon team planner',\r\n    savedTeams: 'saved Pokmon teams',\r\n    settings: 'settings',\r\n    trainerTeams: 'trainer Pokmon teams',\r\n    pokedex: 'pokdex'\r\n  },\r\n  pageDescription: {\r\n    planner:\r\n      'Pokmon team planning app for casual players. Save and share your Pokmon teams.',\r\n    savedTeams: 'View previously saved pokemon teams',\r\n    trainerTeams: 'View pokemon teams from famous trainers in the games',\r\n    settings: 'Adjustable application settings',\r\n    pokedex: 'Browse the pokedex to view information about each pokemon'\r\n  },\r\n  scoreModifier: {\r\n    none: 'none',\r\n    low: 'low',\r\n    medium: 'medium',\r\n    high: 'high'\r\n  }\r\n};\r\n","export default Object.freeze({\r\n  readMessages: [],\r\n  canDragAndDrop: true,\r\n  canUseArrows: true,\r\n  canEvolve: false,\r\n  defaultPokedex: 'national'\r\n});\r\n","import constructObjectFromSearchParams from 'ayaka/constructObjectFromSearchParams';\r\nimport generateUniqueId from 'ayaka/generateUniqueId';\r\nimport isString from 'ayaka/isString';\r\nimport Store from 'ayaka/localStorage';\r\nimport Strings from 'constants/strings';\r\nimport SETTINGS_DEFAULTS from 'constants/settings';\r\n\r\nexport {\r\n  capitalise,\r\n  capitaliseEachWord,\r\n  separateAndCapitalise,\r\n  separateAndCapitaliseAll\r\n} from 'ayaka/capitalise';\r\n\r\nexport { default as getKeyByValue } from 'ayaka/getKeyByValue';\r\nexport { default as objectsAreEqual } from 'ayaka/objectsAreEqual';\r\nexport { default as createListeners } from 'ayaka/createListeners';\r\n\r\nexport { isString, generateUniqueId };\r\n\r\nexport const getWindowScrollPosition = () =>\r\n  window.scrollY || window.pageYOffset || document.documentElement.scrollTop;\r\n\r\nexport function getUrlQueryStringAsObject(location) {\r\n  if (!location.search) {\r\n    return {};\r\n  }\r\n\r\n  return constructObjectFromSearchParams(location.search);\r\n}\r\n\r\nexport function combineValuesIntoSet(idSet, newValue) {\r\n  const ids = [...idSet];\r\n  const values = newValue ? [...ids, newValue] : ids;\r\n  return new Set(values);\r\n}\r\nexport function createIdStringFromSet(idSet, newValue) {\r\n  const values = combineValuesIntoSet(idSet, newValue);\r\n  return Array.from(values).join(',');\r\n}\r\n\r\nexport const createSetFromIdString = (str = '') =>\r\n  str ? new Set(str.split(',')) : new Set([]);\r\n\r\nexport const iterateMapToArray = (m) => Array.from(m.values());\r\nexport const iterateKeysToArray = (m) => Array.from(m.keys());\r\nexport const iterateMapToArrayEntries = (m) => Array.from(m.entries());\r\n\r\nexport const swapArrayPositions = (arr, from, to) => {\r\n  const list = arr.slice(0);\r\n  const fromValue = list[from];\r\n  list[from] = list[to];\r\n  list[to] = fromValue;\r\n  return list;\r\n};\r\n\r\nfunction arrayMove(x, from, to) {\r\n  x.splice(to < 0 ? x.length + to : to, 0, x.splice(from, 1)[0]);\r\n}\r\nexport const moveToNewArrayPosition = (arr, from, to) => {\r\n  const list = arr.slice(0);\r\n  arrayMove(list, from, to);\r\n  return list;\r\n};\r\n\r\nexport const teamsStore = new Store(Strings.savedTeamsStorage, {});\r\nteamsStore.upgrade((teams) => {\r\n  if (Object.keys(teams).length === 0) {\r\n    return {};\r\n  }\r\n\r\n  const teamKeys = Object.keys(teams);\r\n  const containsV1Data = teamKeys.some((k) => isString(teams[k]));\r\n  if (containsV1Data) {\r\n    return teamKeys.reduce((p, k) => {\r\n      const data = teams[k];\r\n      return {\r\n        ...p,\r\n        [k]: isString(data)\r\n          ? { name: generateUniqueId(), idString: data }\r\n          : data\r\n      };\r\n    }, {});\r\n  } else {\r\n    return teams;\r\n  }\r\n});\r\n\r\nexport const settingsStore = new Store(\r\n  Strings.settingsStorage,\r\n  SETTINGS_DEFAULTS\r\n);\r\nsettingsStore.upgrade((d) => ({ ...SETTINGS_DEFAULTS, ...d }));\r\n\r\nexport function selectMembersFromPokedex(dex, memberIds) {\r\n  return new Map(Array.from(memberIds).map((id) => [id, dex.get(id)]));\r\n}\r\n\r\nexport function selectMembersFromPokedexAllowDuplicates(dex, memberIds) {\r\n  return new Map(\r\n    Array.from(memberIds).map((id, i) => {\r\n      const customId = `${id}-d${i}`;\r\n      return [customId, { ...dex.get(id), id: customId }];\r\n    })\r\n  );\r\n}\r\n","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { Header, Image } from 'mko';\r\nimport NavigationMenu from './NavigationMenu';\r\nimport { createListeners, getWindowScrollPosition } from 'utils/common';\r\nimport Logo from 'assets/logo.png';\r\n\r\nimport './HeaderBar.scss';\r\n\r\nclass HeaderBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      windowScrollPosition: 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scrollListeners = createListeners('scroll', () => {\r\n      const windowScrollPosition = getWindowScrollPosition();\r\n      if (windowScrollPosition !== this.state.windowScrollPosition) {\r\n        this.setState({ windowScrollPosition });\r\n      }\r\n    })();\r\n    this.scrollListeners.listen();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.scrollListeners.remove();\r\n  }\r\n\r\n  render() {\r\n    const isPageScrolled = !!this.state.windowScrollPosition;\r\n    const headerClasses = classNames('header-bar', {\r\n      'header-bar--page-scrolled': isPageScrolled\r\n    });\r\n\r\n    return (\r\n      <Header\r\n        id=\"lusamine-header\"\r\n        className={headerClasses}\r\n        leftAlignTitle\r\n        title={this.props.pageTitle}\r\n        navLeft={<Image className=\"logo\" alt=\"Pokmon Logo\" src={Logo} />}\r\n        navRight={<NavigationMenu />}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nHeaderBar.propTypes = {\r\n  pageTitle: PropTypes.string.isRequired\r\n};\r\n\r\nexport default HeaderBar;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { Alert } from 'mko';\r\n\r\nclass AlertContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      alerts: []\r\n    };\r\n    this.timer = null;\r\n\r\n    this.handleTriggeredAlert = this.handleTriggeredAlert.bind(this);\r\n    this.handleDismiss = this.handleDismiss.bind(this);\r\n  }\r\n\r\n  handleTriggeredAlert(alert) {\r\n    this.setState({ alerts: [alert] }, () => {\r\n      clearTimeout(this.timer);\r\n      this.timer = setTimeout(() => {\r\n        if (this.state.alerts.length) {\r\n          this.setState({ alerts: [] });\r\n        }\r\n      }, 5000);\r\n    });\r\n  }\r\n\r\n  handleDismiss(alertId) {\r\n    this.setState((prev) => ({\r\n      alerts: prev.alerts.filter((x) => x.id !== alertId)\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const actions = {\r\n      dismissAlertMessage: this.handleDismiss\r\n    };\r\n    return (\r\n      <React.Fragment>\r\n        <Alert\r\n          messageClassName=\"lusamine-alert\"\r\n          alerts={this.state.alerts}\r\n          actions={actions}\r\n        />\r\n        {this.props.children(this.handleTriggeredAlert)}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nAlertContainer.propTypes = {\r\n  children: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AlertContainer;\r\n","import React from 'react';\r\n\r\nimport { NewTabLink } from 'mko';\r\n\r\nimport './Footer.scss';\r\n\r\nconst Footer = (props) => {\r\n  return (\r\n    <section className=\"footer\">\r\n      <p>\r\n        Inspired by another{' '}\r\n        <NewTabLink href=\"https://richi3f.github.io/pokemon-team-planner/national_dex.html\">\r\n          Pokmon Team Planner\r\n        </NewTabLink>\r\n      </p>\r\n      <p>Pokmon is  of Nintendo, 1995-2017.</p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { useState, useEffect } from 'react';\r\n\r\nimport { createListeners } from 'utils/common';\r\n\r\nconst up = 'ArrowUp';\r\nconst down = 'ArrowDown';\r\nconst left = 'ArrowLeft';\r\nconst right = 'ArrowRight';\r\nconst b = 'KeyB';\r\nconst a = 'KeyA';\r\nconst konami = [up, up, down, down, left, right, left, right, b, a];\r\n\r\nexport function useKonami() {\r\n  const [queue, setQueue] = useState([]);\r\n\r\n  useEffect(() => {\r\n    function onKeyDown(e) {\r\n      const code = e.code;\r\n      if (konami.includes(code)) {\r\n        setQueue((p) => [...p, code]);\r\n      } else {\r\n        setQueue([]);\r\n      }\r\n    }\r\n\r\n    const listeners = createListeners('keydown', onKeyDown)();\r\n    listeners.listen();\r\n\r\n    return () => listeners.remove();\r\n  }, []);\r\n\r\n  const queueLastTen = queue.slice(-10);\r\n  return [konami.every((x, i) => x === queueLastTen[i]), () => setQueue([])];\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { ClearButton } from 'components/Buttons';\r\nimport { useKonami } from 'hooks/useKonami';\r\n\r\nimport mp3 from 'assets/pokemon-opening.mp3';\r\nimport ogg from 'assets/pokemon-opening.ogg';\r\n\r\nimport './EasterEgg.scss';\r\n\r\nfunction EasterEgg() {\r\n  const [isPlaying, setPlaying] = useState(false);\r\n  const [show, setShow] = useState(false);\r\n  const [usedKonamiCode, reset] = useKonami();\r\n\r\n  useEffect(() => {\r\n    if (usedKonamiCode && !show) {\r\n      setShow(true);\r\n    }\r\n  }, [show, usedKonamiCode]);\r\n\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"easter-egg\">\r\n      <div className=\"easter-egg__player\">\r\n        <label className=\"easter-egg__label\" htmlFor=\"easter-egg\">\r\n          {`${isPlaying ? 'Now Playing' : 'Paused'}: Pokemon Theme`}\r\n        </label>\r\n        <audio\r\n          id=\"easter-egg\"\r\n          className=\"easter-egg__audio\"\r\n          controls\r\n          autoPlay\r\n          onPlay={() => setPlaying(true)}\r\n          onPause={() => setPlaying(false)}\r\n        >\r\n          <source src={mp3} type=\"audio/mp3\" />\r\n          <source src={ogg} type=\"audio/ogg\" />\r\n        </audio>\r\n      </div>\r\n      <ClearButton\r\n        id=\"easter-egg-cancel\"\r\n        aria-label=\"Close easter egg\"\r\n        btnStyle=\"primary\"\r\n        onClick={() => {\r\n          setShow(false);\r\n          reset();\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EasterEgg;\r\n","import { capitaliseEachWord } from 'utils/common';\r\n\r\nexport const Pokedex = Object.freeze({\r\n  national: 'national',\r\n  kanto: 'kanto',\r\n  new: 'new',\r\n  johto: 'johto',\r\n  hoenn: 'hoenn',\r\n  hoenn_oras: 'hoenn ORAS',\r\n  sinnoh: 'sinnoh',\r\n  sinnoh_pt: 'sinnoh platinum',\r\n  unova: 'unova',\r\n  unova_n: 'unova new',\r\n  kalos: 'kalos',\r\n  alola: 'alola',\r\n  alola_u: 'alola ultra'\r\n});\r\n\r\nexport const pokedexOptions = Object.keys(Pokedex).map((k) => ({\r\n  value: k,\r\n  text: capitaliseEachWord(Pokedex[k])\r\n}));\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport {\r\n  ClearableInput,\r\n  Tickbox,\r\n  MultiSelect,\r\n  SelectBox,\r\n  useWindowSize\r\n} from 'mko';\r\nimport Strings from 'constants/strings';\r\nimport { pokedexOptions } from 'constants/pokedex';\r\nimport { media } from 'utils/media';\r\n\r\nimport './Filters.scss';\r\n\r\nconst FILTERS_INPUT_CLASS = 'filters__input';\r\n\r\nfunction Filters(props) {\r\n  const hideOnCertainScreens = !!props.hiddenOn;\r\n  const shouldHide = media.get(props.hiddenOn);\r\n  const size = useWindowSize();\r\n\r\n  if (shouldHide(size.width)) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <section\r\n      className={classNames('filters', {\r\n        [`filters--hide-on_${props.hiddenOn}`]: hideOnCertainScreens\r\n      })}\r\n    >\r\n      <SelectBox\r\n        id=\"active-pokedex\"\r\n        text=\"Active Pokedex\"\r\n        {...props.pokedexProps}\r\n        options={pokedexOptions}\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <ClearableInput\r\n        {...props.searchProps}\r\n        id=\"search\"\r\n        label=\"Search\"\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <MultiSelect\r\n        id=\"generations\"\r\n        name=\"generations\"\r\n        placeholder=\"Select generation(s)\"\r\n        label=\"Generation\"\r\n        {...props.generationProps}\r\n        className={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <MultiSelect\r\n        id=\"types\"\r\n        name=\"types\"\r\n        placeholder=\"Select type(s)\"\r\n        label=\"Type\"\r\n        {...props.typeProps}\r\n        className={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <MultiSelect\r\n        id=\"resists\"\r\n        name=\"resists\"\r\n        placeholder=\"Select resistance(s)\"\r\n        label=\"Resists\"\r\n        {...props.resistsProps}\r\n        className={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <MultiSelect\r\n        id=\"evolutions\"\r\n        name=\"evolutions\"\r\n        placeholder=\"Select evolution form(s)\"\r\n        label=\"Evolution Forms\"\r\n        {...props.evolutionsProps}\r\n        className={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <Tickbox\r\n        id=\"includeMega\"\r\n        name=\"includeMega\"\r\n        text=\"Include Megas\"\r\n        {...props.includeMegaProps}\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <Tickbox\r\n        id=\"includeVariants\"\r\n        name=\"includeVariants\"\r\n        text=\"Include variants\"\r\n        {...props.includeVariantsProps}\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <Tickbox\r\n        id=\"startersOnly\"\r\n        name=\"startersOnly\"\r\n        text=\"Starters only\"\r\n        {...props.startersOnlyProps}\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n    </section>\r\n  );\r\n}\r\n\r\nconst multiselectPropTypes = PropTypes.shape({\r\n  values: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n  ),\r\n  options: PropTypes.arrayOf(PropTypes.object),\r\n  onUpdate: PropTypes.func\r\n}).isRequired;\r\n\r\nconst checkboxPropTypes = PropTypes.shape({\r\n  checked: PropTypes.bool,\r\n  onChange: PropTypes.func\r\n}).isRequired;\r\n\r\nFilters.propTypes = {\r\n  searchProps: PropTypes.shape({\r\n    value: PropTypes.string,\r\n    onChange: PropTypes.func\r\n  }).isRequired,\r\n  generationProps: multiselectPropTypes,\r\n  typeProps: multiselectPropTypes,\r\n  resistsProps: multiselectPropTypes,\r\n  evolutionsProps: multiselectPropTypes,\r\n  includeMegaProps: checkboxPropTypes,\r\n  includeVariantsProps: checkboxPropTypes,\r\n  startersOnlyProps: checkboxPropTypes,\r\n  pokedexProps: PropTypes.shape({\r\n    value: PropTypes.string,\r\n    onChange: PropTypes.func\r\n  }),\r\n  hiddenOn: PropTypes.oneOf([Strings.large, Strings.small])\r\n};\r\n\r\nexport default Filters;\r\n","export default Object.freeze({\r\n  teamMember: 'teamMember'\r\n});\r\n","import { findDOMNode } from 'react-dom';\r\nimport { DropTarget } from 'react-dnd';\r\n\r\nimport DnDType from 'constants/dndType';\r\n\r\nconst memberTarget = {\r\n  hover(props, monitor, component) {\r\n    if (!component) {\r\n      return null;\r\n    }\r\n\r\n    const { data: dragItem, index: dragIndex } = monitor.getItem();\r\n    const { data: hoverItem, index: hoverIndex } = props;\r\n\r\n    if (dragItem.id === hoverItem.id || !monitor.canDrop()) {\r\n      return;\r\n    }\r\n\r\n    const hoverBoundingRect = findDOMNode(component).getBoundingClientRect();\r\n\r\n    const hoverMiddleX = (hoverBoundingRect.right - hoverBoundingRect.left) / 2;\r\n    const clientOffset = monitor.getClientOffset();\r\n    const hoverClientX = clientOffset.x - hoverBoundingRect.left;\r\n\r\n    // Dragging left/right\r\n    if (dragIndex < hoverIndex && hoverClientX < hoverMiddleX) return;\r\n    if (dragIndex > hoverIndex && hoverClientX > hoverMiddleX) return;\r\n\r\n    props.moveDnD(dragIndex, hoverIndex);\r\n\r\n    // Prevents thrashing\r\n    monitor.getItem().index = hoverIndex;\r\n  },\r\n  canDrop(props) {\r\n    return !props.data.isEmpty;\r\n  }\r\n};\r\n\r\nfunction collectTarget(connect, monitor) {\r\n  return {\r\n    connectDropTarget: connect.dropTarget(),\r\n    isOver: monitor.isOver(),\r\n    canDrop: monitor.canDrop()\r\n  };\r\n}\r\n\r\nconst withDropTarget = DropTarget(\r\n  DnDType.teamMember,\r\n  memberTarget,\r\n  collectTarget\r\n);\r\nexport default withDropTarget;\r\n","import { DragSource } from 'react-dnd';\r\n\r\nimport DnDType from 'constants/dndType';\r\n\r\nconst memberSource = {\r\n  beginDrag(props) {\r\n    return { ...props };\r\n  },\r\n  canDrag(props) {\r\n    return !props.data.isEmpty;\r\n  }\r\n};\r\n\r\nfunction collectSource(connect, monitor) {\r\n  return {\r\n    connectDragSource: connect.dragSource(),\r\n    connectDragPreview: connect.dragPreview(),\r\n    isDragging: monitor.isDragging()\r\n  };\r\n}\r\n\r\nconst withDragSource = DragSource(\r\n  DnDType.teamMember,\r\n  memberSource,\r\n  collectSource\r\n);\r\nexport default withDragSource;\r\n","function isBrowser() {\r\n  return typeof window !== 'undefined';\r\n}\r\n\r\nexport default function isTouchDevice() {\r\n  if (isBrowser()) {\r\n    var confirmed =\r\n      'ontouchstart' in window ||\r\n      navigator.maxTouchPoints > 0 ||\r\n      navigator.msMaxTouchPoints > 0;\r\n\r\n    if (confirmed) {\r\n      var html = document.getElementsByTagName('html')[0];\r\n      html.classList.add('touchevents');\r\n    }\r\n\r\n    return confirmed;\r\n  }\r\n\r\n  return false;\r\n}\r\n","import React from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport { DragDropContext } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport { default as TouchBackend } from 'react-dnd-touch-backend';\r\n\r\nimport withDropTarget from './Target';\r\nimport withDragSource from './Source';\r\nimport isTouchDevice from './supportsTouch';\r\n\r\nconst HTML5DND = DragDropContext(HTML5Backend);\r\nconst TouchDND = DragDropContext(TouchBackend);\r\n\r\nexport default function DnDBackend(WrappedComponent) {\r\n  class HTML5DragDrop extends React.Component {\r\n    render() {\r\n      return <WrappedComponent {...this.props} />;\r\n    }\r\n  }\r\n\r\n  if (isTouchDevice()) {\r\n    return TouchDND(HTML5DragDrop);\r\n  } else {\r\n    return HTML5DND(HTML5DragDrop);\r\n  }\r\n}\r\n\r\nexport function withDragAndDrop(WrappedComponent) {\r\n  class DragAndDropWrapper extends React.Component {\r\n    render() {\r\n      const { connectDropTarget, connectDragSource, ...props } = this.props;\r\n\r\n      return (\r\n        <WrappedComponent\r\n          {...props}\r\n          ref={(instance) => {\r\n            const element = findDOMNode(instance);\r\n            connectDragSource(element);\r\n            connectDropTarget(element);\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return withDragSource(withDropTarget(DragAndDropWrapper));\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { List as MkoList } from 'mko';\r\nimport Strings from 'constants/strings';\r\n\r\nconst List = ({ items, itemTemplate, ...props }) => {\r\n  const hasItems = items.length > 0;\r\n\r\n  return (\r\n    <MkoList {...props}>\r\n      {!hasItems && <li key=\"NONE\">{Strings.emptyList}</li>}\r\n      {hasItems && items.map(itemTemplate)}\r\n    </MkoList>\r\n  );\r\n};\r\n\r\nList.propTypes = {\r\n  shouldWrap: PropTypes.bool,\r\n  columns: PropTypes.number,\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([\r\n      PropTypes.object,\r\n      PropTypes.string,\r\n      PropTypes.number,\r\n      PropTypes.arrayOf(PropTypes.any)\r\n    ])\r\n  ).isRequired,\r\n  itemTemplate: PropTypes.func.isRequired\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\n\r\nexport const PokedexContext = React.createContext();\r\nexport const TypeContext = React.createContext();\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport './TypeBlock.scss';\r\n\r\nconst TypeBlock = React.memo(function TypeBlock(props) {\r\n  return (\r\n    <div\r\n      className={classNames('type', `type--${props.value}`)}\r\n      aria-label={`Type: ${props.value}`}\r\n    />\r\n  );\r\n});\r\n\r\nTypeBlock.propTypes = {\r\n  value: PropTypes.string.isRequired\r\n};\r\n\r\nexport default TypeBlock;\r\n","import Strings from 'constants/strings';\r\n\r\nexport const BREAKDOWN_ITEM_CLASS = 'breakdown-panel__item';\r\n\r\nconst getScoreModifier = num =>\r\n  !num\r\n    ? Strings.scoreModifier.none\r\n    : num < 3\r\n      ? Strings.scoreModifier.low\r\n      : num < 5\r\n        ? Strings.scoreModifier.medium\r\n        : Strings.scoreModifier.high;\r\n\r\nexport function getClassForScore(num) {\r\n  const modifier = getScoreModifier(num);\r\n  return `${BREAKDOWN_ITEM_CLASS}--${modifier}`;\r\n}\r\n\r\nexport function getScoreDescription(mod, score) {\r\n  const modifier = getScoreModifier(score);\r\n  return `A good score is ${mod}. This score is ${modifier}`;\r\n}\r\n","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { Grid } from 'mko';\r\nimport TypeBlock from 'components/TypeBlock';\r\nimport * as TBPU from './TeamBreakdownPanelUtils';\r\n\r\nimport './TeamBreakdownPanel.scss';\r\n\r\nfunction EffectiveTypeBreakdownPanel({\r\n  id,\r\n  data,\r\n  types,\r\n  panelModifier,\r\n  onMouseState = {}\r\n}) {\r\n  const listOfMemberIds = [...types.values()].reduce((p, t) => {\r\n    const ids = data.get(t.id);\r\n    if (!ids) {\r\n      return p;\r\n    }\r\n    return [...p, [t, ids]];\r\n  }, []);\r\n\r\n  return (\r\n    <Grid\r\n      className={classNames('breakdown-panel', {\r\n        [`breakdown-panel--good-is_${panelModifier}`]: true,\r\n        [`breakdown-panel--empty`]: listOfMemberIds.length === 0\r\n      })}\r\n      items={listOfMemberIds}\r\n    >\r\n      {([t, memberIds]) => {\r\n        const score = memberIds.length;\r\n        const typeStatusClass = TBPU.getClassForScore(score);\r\n        const title = TBPU.getScoreDescription(panelModifier, score);\r\n        const mouseState = Object.keys(onMouseState).reduce(\r\n          (p, k) => ({ ...p, [k]: () => onMouseState[k](id, t.id, memberIds) }),\r\n          {}\r\n        );\r\n\r\n        return (\r\n          <li\r\n            key={t.id}\r\n            className={classNames(\r\n              TBPU.BREAKDOWN_ITEM_CLASS,\r\n              'list-item-bottom-spacing',\r\n              typeStatusClass\r\n            )}\r\n            title={title}\r\n            {...mouseState}\r\n          >\r\n            <TypeBlock value={t.name} />\r\n            <div className={classNames('breakdown-panel__count')}>{score}</div>\r\n          </li>\r\n        );\r\n      }}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nEffectiveTypeBreakdownPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  panelModifier: PropTypes.string,\r\n  types: PropTypes.object.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  onMouseState: PropTypes.shape({\r\n    onMouseEnter: PropTypes.func.isRequired,\r\n    onMouseLeave: PropTypes.func.isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default EffectiveTypeBreakdownPanel;\r\n","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport List from 'components/List';\r\nimport { iterateKeysToArray } from 'utils/common';\r\n\r\nfunction StatBreakdownPanel({ id, nameSource, data, onMouseState = {} }) {\r\n  const keys = iterateKeysToArray(data).sort();\r\n\r\n  return (\r\n    <List\r\n      shouldWrap\r\n      columns={1}\r\n      items={keys}\r\n      itemTemplate={(key) => {\r\n        const name = nameSource(key);\r\n        const memberIds = data.get(key);\r\n        const value = memberIds.length;\r\n        const mouseState = Object.keys(onMouseState).reduce(\r\n          (p, k) => ({ ...p, [k]: () => onMouseState[k](id, key, memberIds) }),\r\n          {}\r\n        );\r\n\r\n        return (\r\n          <li key={key} className={classNames('padding-5')} {...mouseState}>\r\n            {`${name} - ${value}`}\r\n          </li>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nStatBreakdownPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  nameSource: PropTypes.func.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  onMouseState: PropTypes.shape({\r\n    onMouseEnter: PropTypes.func.isRequired,\r\n    onMouseLeave: PropTypes.func.isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default StatBreakdownPanel;\r\n","export default Object.freeze({\r\n  gen1: 1,\r\n  gen2: 2,\r\n  gen3: 3,\r\n  gen4: 4,\r\n  gen5: 5,\r\n  gen6: 6,\r\n  gen7: 7,\r\n  gen8: 8\r\n});\r\n","export default Object.freeze({\r\n  leveling: 1,\r\n  levelingHighFriendship: 2,\r\n  levelingWithMove: 3,\r\n  levelingAtLocation: 4,\r\n  levelingAtTime: 5,\r\n  levelingWithItem: 6,\r\n  levelingGender: 7,\r\n  levelingGame: 8,\r\n  levelingUniqueCondition: 9,\r\n  levelingAdditionalFactor: 10,\r\n  stone: 11,\r\n  stoneGender: 12,\r\n  trade: 13,\r\n  tradeWithItem: 14,\r\n  tradeForPokemon: 15\r\n});\r\n\r\nexport const EvolutionForms = Object.freeze({\r\n  notEvolved: 1,\r\n  fullyEvolved: 2\r\n});\r\n","import Strings from 'constants/strings';\r\nimport Generations from 'constants/generations';\r\nimport { EvolutionForms } from 'constants/evolutions';\r\nimport {\r\n  iterateMapToArray,\r\n  iterateMapToArrayEntries,\r\n  separateAndCapitaliseAll,\r\n  getKeyByValue\r\n} from 'utils/common';\r\n\r\nfunction withFilterZeroes(m, filterZeroes) {\r\n  if (filterZeroes) {\r\n    const filteredEntries = iterateMapToArrayEntries(m).filter(\r\n      ([_, ids]) => ids.length\r\n    );\r\n    return new Map(filteredEntries);\r\n  }\r\n\r\n  return m;\r\n}\r\n\r\nexport function buildTeamWeaknessCounts(types, members, filterZeroes) {\r\n  const typesMapEmpty = [...types.values()].map((t) => [t.id, []]);\r\n  const memberTypeIds = [...members.values()].reduce(\r\n    (p, c) => [...p, { id: c.id, typeIds: c.types.map((x) => x.id) }],\r\n    []\r\n  );\r\n\r\n  const { unaffectedCounts, weakCounts, resistCounts } = memberTypeIds.reduce(\r\n    (maps, mem) => {\r\n      const unaffectedIds = mem.typeIds.reduce(\r\n        (p, tId) => [\r\n          ...p,\r\n          ...types.get(tId)[Strings.typeBreakdown.unaffectedBy]\r\n        ],\r\n        []\r\n      );\r\n      const weakIds = mem.typeIds.reduce(\r\n        (p, tId) => [...p, ...types.get(tId)[Strings.typeBreakdown.weakTo]],\r\n        []\r\n      );\r\n      const resistsIds = mem.typeIds.reduce(\r\n        (p, tId) => [...p, ...types.get(tId)[Strings.typeBreakdown.resists]],\r\n        []\r\n      );\r\n\r\n      return [...types.keys()].reduce((p, v) => {\r\n        const u = unaffectedIds.filter((x) => x === v).length;\r\n        const w = weakIds.filter((x) => x === v).length;\r\n        const r = resistsIds.filter((x) => x === v).length;\r\n\r\n        if (u > 0) {\r\n          p.unaffectedCounts.set(v, [...p.unaffectedCounts.get(v), mem.id]);\r\n        } else if (w > r) {\r\n          p.weakCounts.set(v, [...p.weakCounts.get(v), mem.id]);\r\n        } else if (w < r) {\r\n          p.resistCounts.set(v, [...p.resistCounts.get(v), mem.id]);\r\n        }\r\n\r\n        return p;\r\n      }, maps);\r\n    },\r\n    {\r\n      unaffectedCounts: new Map(typesMapEmpty.slice()),\r\n      weakCounts: new Map(typesMapEmpty.slice()),\r\n      resistCounts: new Map(typesMapEmpty.slice())\r\n    }\r\n  );\r\n\r\n  return [\r\n    {\r\n      key: Strings.typeBreakdown.weakTo,\r\n      counts: withFilterZeroes(weakCounts, filterZeroes),\r\n      goodCountModifier: Strings.scoreModifier.none\r\n    },\r\n    {\r\n      key: Strings.typeBreakdown.resists,\r\n      counts: withFilterZeroes(resistCounts, filterZeroes),\r\n      goodCountModifier: Strings.scoreModifier.high\r\n    },\r\n    {\r\n      key: Strings.typeBreakdown.unaffectedBy,\r\n      counts: withFilterZeroes(unaffectedCounts, filterZeroes),\r\n      goodCountModifier: Strings.scoreModifier.high\r\n    }\r\n  ];\r\n}\r\n\r\nfunction buildGenerationCounts(members) {\r\n  const genCounts = new Map([]);\r\n  return members.reduce((result, mem) => {\r\n    const values = result.has(mem.generation) ? result.get(mem.generation) : [];\r\n\r\n    return result.set(mem.generation, [...values, mem.id]);\r\n  }, genCounts);\r\n}\r\n\r\nfunction buildEvolutionFormCounts(members) {\r\n  const counts = new Map([\r\n    [EvolutionForms.notEvolved, []],\r\n    [EvolutionForms.fullyEvolved, []]\r\n  ]);\r\n\r\n  return members.reduce((result, mem) => {\r\n    const key = mem.evolutions.length\r\n      ? EvolutionForms.notEvolved\r\n      : EvolutionForms.fullyEvolved;\r\n\r\n    const values = result.get(key);\r\n    return result.set(key, [...values, mem.id]);\r\n  }, counts);\r\n}\r\n\r\nexport function buildStatCounts(members) {\r\n  const items = iterateMapToArray(members);\r\n  return [\r\n    {\r\n      key: 'Generations',\r\n      getKeyName: (val) => {\r\n        const name = getKeyByValue(Generations, val);\r\n        return separateAndCapitaliseAll(name);\r\n      },\r\n      counts: buildGenerationCounts(items)\r\n    },\r\n    {\r\n      key: 'Evolutions',\r\n      getKeyName: (val) => {\r\n        const name = getKeyByValue(EvolutionForms, val);\r\n        return separateAndCapitaliseAll(name);\r\n      },\r\n      counts: buildEvolutionFormCounts(items)\r\n    }\r\n  ];\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { TypeContext } from 'context';\r\nimport { Button } from 'components/Buttons';\r\nimport List from 'components/List';\r\nimport EffectiveTypePanel from 'components/TeamBreakdownPanel/EffectiveTypePanel';\r\nimport StatBreakdownPanel from 'components/TeamBreakdownPanel/StatPanel';\r\nimport * as TBU from './TeamBreakdownUtils';\r\nimport { capitaliseEachWord, generateUniqueId } from 'utils/common';\r\n\r\nimport './TeamBreakdown.scss';\r\n\r\nclass TeamBreakdown extends React.Component {\r\n  static contextType = TypeContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isCollapsed: true,\r\n      uniqueId: generateUniqueId()\r\n    };\r\n\r\n    this.handleToggle = this.handleToggle.bind(this);\r\n    this.handleMouseEnterLeave = this.handleMouseEnterLeave.bind(this);\r\n  }\r\n\r\n  handleToggle() {\r\n    this.setState((prev) => ({ isCollapsed: !prev.isCollapsed }));\r\n  }\r\n\r\n  handleMouseEnterLeave(...values) {\r\n    const { onMouseState } = this.props;\r\n    if (onMouseState) {\r\n      onMouseState(...values);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let types = this.context;\r\n    const {\r\n      className,\r\n      contentClassName,\r\n      alwaysOpen,\r\n      filterZeroes,\r\n      typeBreakdownOnly,\r\n      members\r\n    } = this.props;\r\n\r\n    const isCollapsed = !alwaysOpen && this.state.isCollapsed;\r\n    const renderNonTypes = !typeBreakdownOnly;\r\n    const noMembers = members.size === 0;\r\n    const showToggle = !alwaysOpen && !noMembers;\r\n    const showContent = (!isCollapsed && !noMembers) || alwaysOpen;\r\n    const breakdownDescription = `breakdownDescription_${this.state.uniqueId}`;\r\n\r\n    const mouseState = {\r\n      onMouseEnter: this.handleMouseEnterLeave,\r\n      onMouseLeave: this.handleMouseEnterLeave\r\n    };\r\n\r\n    const statCounts = TBU.buildStatCounts(members);\r\n    const weaknessCounts = TBU.buildTeamWeaknessCounts(\r\n      types,\r\n      members,\r\n      filterZeroes\r\n    );\r\n\r\n    return (\r\n      <div\r\n        className={classNames('team-breakdown', className)}\r\n        aria-describedby={breakdownDescription}\r\n      >\r\n        <p id={breakdownDescription} className=\"for-screenreader-only\">\r\n          This is a breakdown of meta information about{' '}\r\n          {this.props.teamName || 'the team'}. This includes generation counts,\r\n          form counts, and various type weaknesses and strengths.\r\n        </p>\r\n        {showToggle && (\r\n          <Button\r\n            id=\"toggle-breakdown\"\r\n            isAction\r\n            className={classNames('team-breakdown__action')}\r\n            onClick={this.handleToggle}\r\n          >\r\n            {isCollapsed ? `Show team breakdown` : `Hide team breakdown`}\r\n          </Button>\r\n        )}\r\n        {showContent && (\r\n          <div\r\n            className={classNames('team-breakdown__content', contentClassName)}\r\n          >\r\n            {renderNonTypes && (\r\n              <List\r\n                className={classNames(\r\n                  'team-breakdown__list',\r\n                  'stat-breakdown-list'\r\n                )}\r\n                items={statCounts}\r\n                itemTemplate={(item) => (\r\n                  <li\r\n                    key={item.key}\r\n                    className={classNames(\r\n                      'team-breakdown__item',\r\n                      'stat-breakdown-list__item'\r\n                    )}\r\n                  >\r\n                    <div className={classNames('breakdown-item-title')}>\r\n                      <div className={classNames('breakdown-item-title__text')}>\r\n                        {item.key}\r\n                      </div>\r\n                    </div>\r\n                    <StatBreakdownPanel\r\n                      id={item.key}\r\n                      nameSource={item.getKeyName}\r\n                      data={item.counts}\r\n                      onMouseState={{ ...mouseState }}\r\n                    />\r\n                  </li>\r\n                )}\r\n              />\r\n            )}\r\n            <List\r\n              columns={1}\r\n              className={classNames(\r\n                'team-breakdown__list',\r\n                'type-breakdown-list'\r\n              )}\r\n              items={weaknessCounts}\r\n              itemTemplate={(item) => (\r\n                <li\r\n                  key={item.key}\r\n                  className={classNames(\r\n                    'team-breakdown__item',\r\n                    'type-breakdown-list__item'\r\n                  )}\r\n                >\r\n                  <div className={classNames('breakdown-item-title')}>\r\n                    <div className={classNames('breakdown-item-title__text')}>\r\n                      {capitaliseEachWord(item.key)}\r\n                    </div>\r\n                  </div>\r\n                  <EffectiveTypePanel\r\n                    id={item.key}\r\n                    panelModifier={item.goodCountModifier}\r\n                    types={types}\r\n                    data={item.counts}\r\n                    onMouseState={{ ...mouseState }}\r\n                  />\r\n                </li>\r\n              )}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTeamBreakdown.defaultProps = {\r\n  alwaysOpen: false,\r\n  filterZeroes: false,\r\n  typeBreakdownOnly: false\r\n};\r\n\r\nTeamBreakdown.propTypes = {\r\n  className: PropTypes.string,\r\n  contentClassName: PropTypes.string,\r\n  alwaysOpen: PropTypes.bool,\r\n  filterZeroes: PropTypes.bool,\r\n  typeBreakdownOnly: PropTypes.bool,\r\n  teamName: PropTypes.string,\r\n  members: PropTypes.instanceOf(Map),\r\n  onMouseState: PropTypes.func\r\n};\r\n\r\nexport default TeamBreakdown;\r\n","const MEGA = 'mega-';\r\nconst MEGA_X = '-x';\r\nconst MEGA_Y = '-y';\r\nconst ALOLA = 'alola-';\r\n\r\nconst constructNameClass = (className) => (name, form) => {\r\n  let pokemonName = name\r\n    .replace(/ /g, '-')\r\n    .replace(/[.':]/g, '')\r\n    .replace(//g, '-male')\r\n    .replace(//g, '');\r\n\r\n  if (pokemonName.includes(MEGA)) {\r\n    pokemonName = `${pokemonName.replace(MEGA, '')}-mega`;\r\n    if (pokemonName.includes(MEGA_X)) {\r\n      pokemonName = `${pokemonName.replace(MEGA_X, '')}-x`;\r\n    } else if (pokemonName.includes(MEGA_Y)) {\r\n      pokemonName = `${pokemonName.replace(MEGA_Y, '')}-y`;\r\n    }\r\n  } else if (pokemonName.includes(ALOLA)) {\r\n    pokemonName = `${pokemonName.replace(ALOLA, '')}-alola`;\r\n  }\r\n\r\n  return `${className}__pokemon--${pokemonName}${form ? `-${form}` : ''}`;\r\n};\r\n\r\nconst constructNameClassForSprite = constructNameClass('sprite');\r\n\r\nconst constructNameClassForArtCard = constructNameClass('art-card');\r\n\r\nconst indexToText = (i) => (i === 0 ? 'position-first' : 'position-second');\r\nconst constructTypeClasses = (className) => (types) => {\r\n  return types\r\n    .reduce((p, c, i) => `${p} ${className}--${c.name}_${indexToText(i)}`, '')\r\n    .trim();\r\n};\r\n\r\nconst constructTypeClassesForSprite = constructTypeClasses('sprite');\r\n\r\nconst constructTypeClassesForArtCard = constructTypeClasses('art-card');\r\n\r\nexport function buildSelectorsForSprite(data) {\r\n  const types = constructTypeClassesForSprite(data.types);\r\n  const name = constructNameClassForSprite(data.name);\r\n  return {\r\n    types,\r\n    name\r\n  };\r\n}\r\n\r\nexport function buildSelectorsForArtCard(data) {\r\n  const types = constructTypeClassesForArtCard(data.types);\r\n  const name = constructNameClassForArtCard(data.name, data.form);\r\n  return {\r\n    types,\r\n    name\r\n  };\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { capitaliseEachWord } from 'utils/common';\r\nimport { buildSelectorsForArtCard } from 'utils/selectors';\r\n\r\nimport './ArtCard.scss';\r\n\r\nfunction ArtCard({ className, data }) {\r\n  const backgroundPosition = data.artPosition;\r\n  const artCardClasses = buildSelectorsForArtCard(data);\r\n\r\n  return (\r\n    <div className={classNames('art-card', artCardClasses.types)}>\r\n      <div\r\n        className={classNames(\r\n          'art-card__pokemon',\r\n          className,\r\n          artCardClasses.name\r\n        )}\r\n        style={backgroundPosition}\r\n        aria-label={capitaliseEachWord(\r\n          `${data.name}${\r\n            data.form ? ` (${capitaliseEachWord(data.form)})` : ''\r\n          }`\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nArtCard.propTypes = {\r\n  data: PropTypes.object\r\n};\r\n\r\nexport default ArtCard;\r\n","export default Object.freeze({\r\n  moveLeft: -1,\r\n  moveRight: 1\r\n});\r\n","export default Object.freeze({\r\n  MAX_SIZE: 6,\r\n  START_INDEX: 0,\r\n  END_INDEX: 5\r\n});\r\n","import { generateUniqueId } from 'utils/common';\r\nimport Strings from 'constants/strings';\r\n\r\nconst defaultIdSuffix = (o) => o.nationalPokedexNumber;\r\nconst constructId = (c, fn = defaultIdSuffix) => (dataMap, obj) => {\r\n  let num = 0;\r\n  let id = `${c}_${fn(obj)}`;\r\n\r\n  while (dataMap && dataMap.has(id)) {\r\n    num += 1;\r\n    id = `${c}_${fn(obj)}_${num}`;\r\n  }\r\n\r\n  return id;\r\n};\r\n\r\nexport const generatePokemonId = constructId(Strings.idPrefix.regular);\r\nexport const generateVariantPokemonId = constructId(Strings.idPrefix.variant);\r\nexport const generateMegaPokemonId = constructId(\r\n  Strings.idPrefix.mega,\r\n  (o) => `${o.nationalPokedexNumber}${o.suffix}`\r\n);\r\nexport const generateEmptyPokemonId = (id) =>\r\n  constructId(Strings.idPrefix.empty, () => generateUniqueId())(null, id);\r\n","export default Object.freeze({\r\n    normal: 1,\r\n    grass: 2,\r\n    fire: 3,\r\n    water: 4,\r\n    fighting: 5,\r\n    flying: 6,\r\n    poison: 7,\r\n    ground: 8,\r\n    rock: 9,\r\n    bug: 10,\r\n    ghost: 11,\r\n    electric: 12,\r\n    psychic: 13,\r\n    ice: 14,\r\n    dragon: 15,\r\n    dark: 16,\r\n    steel: 17,\r\n    fairy: 18\r\n});","export default Object.freeze({\r\n  kanto: 1,\r\n  johto: 2,\r\n  hoenn: 3,\r\n  sinnoh: 4,\r\n  unova: 5,\r\n  kalos: 6,\r\n  alola: 7\r\n});\r\n","import Types from './types';\r\nimport Regions from './regions';\r\nimport Evolutions from './evolutions';\r\nimport Strings from './strings';\r\nimport Generations from './generations';\r\nimport Party from './party';\r\nimport Routes from './routes';\r\n\r\nexport default {\r\n  Types,\r\n  Regions,\r\n  Evolutions,\r\n  Strings,\r\n  Generations,\r\n  Party,\r\n  Routes\r\n};\r\n","import { generateEmptyPokemonId } from 'data/idGenerators';\r\nimport Constants from 'constants/index';\r\nconst { Party, Generations, Strings } = Constants;\r\n\r\nconst GEN2_START = 152;\r\nconst GEN3_START = 252;\r\nconst GEN4_START = 387;\r\nconst GEN5_START = 494;\r\nconst GEN6_START = 650;\r\nconst GEN7_START = 722;\r\nconst GEN8_START = 810;\r\nexport function getGeneration(dexNum) {\r\n  if (dexNum < GEN2_START) return Generations.gen1;\r\n  if (dexNum < GEN3_START) return Generations.gen2;\r\n  if (dexNum < GEN4_START) return Generations.gen3;\r\n  if (dexNum < GEN5_START) return Generations.gen4;\r\n  if (dexNum < GEN6_START) return Generations.gen5;\r\n  if (dexNum < GEN7_START) return Generations.gen6;\r\n  if (dexNum < GEN8_START) return Generations.gen7;\r\n  return Generations.gen8;\r\n}\r\n\r\nfunction createEmptyPokemon() {\r\n  const id = generateEmptyPokemonId();\r\n  return [\r\n    id,\r\n    {\r\n      id,\r\n      nationalPokedexNumber: 0,\r\n      name: 'empty',\r\n      types: [],\r\n      evolutions: [],\r\n      generation: null,\r\n      isEmpty: true\r\n    }\r\n  ];\r\n}\r\n\r\nexport const generateEmptySlots = () => {\r\n  const emptySlots = Array(Party.MAX_SIZE)\r\n    .fill(null)\r\n    .map(createEmptyPokemon);\r\n\r\n  return new Map(emptySlots);\r\n};\r\n\r\nconst checkPokemonId = (check) => (mon) => mon.id.startsWith(`${check}_`);\r\n\r\nexport const isMegaPokemon = checkPokemonId(Strings.idPrefix.mega);\r\nexport const isVariantPokemon = checkPokemonId(Strings.idPrefix.variant);\r\nexport const isAltFormPokemon = (mon) => mon.id.split('_').length === 3;\r\n\r\nexport function isNotBasePokemon(mon) {\r\n  return isMegaPokemon(mon) || isVariantPokemon(mon) || isAltFormPokemon(mon);\r\n}\r\n","export function merge(...a) {\r\n  return a.reduce((p, c) => [...p, ...c], []);\r\n}\r\n\r\nexport function distinct(k, a) {\r\n  return a.filter((b, i, arr) => arr.findIndex((c) => c[k] === b[k]) === i);\r\n}\r\n","import { isMegaPokemon, isVariantPokemon } from 'utils/derivedData';\r\nimport { iterateMapToArray } from 'utils/common';\r\nimport { merge, distinct } from 'utils/lists';\r\n\r\nfunction formsForNPN(mons, npn) {\r\n  return mons.filter(\r\n    (x) =>\r\n      x.nationalPokedexNumber === npn &&\r\n      !isMegaPokemon(x) &&\r\n      !isVariantPokemon(x)\r\n  );\r\n}\r\n\r\nfunction includeForms(pokemon, initial) {\r\n  const forms = initial.reduce(\r\n    (p, x) => [...p, ...formsForNPN(pokemon, x.nationalPokedexNumber)],\r\n    []\r\n  );\r\n\r\n  return distinct('id', merge(initial, forms));\r\n}\r\n\r\nexport default function generateEvolutionOptions(\r\n  dex,\r\n  data,\r\n  exhaustive = false\r\n) {\r\n  const { nationalPokedexNumber: npn, evolutions } = data;\r\n  const pokemon = iterateMapToArray(dex);\r\n  const isMega = isMegaPokemon(data);\r\n  const isVariant = isVariantPokemon(data);\r\n  const variantExists = dex.has(`v_${npn}`);\r\n\r\n  // Gather all forms of pokemon\r\n  let forms = [];\r\n  if (exhaustive) {\r\n    forms = formsForNPN(pokemon, npn);\r\n  }\r\n\r\n  // Get variants of current pokemon\r\n  const variants = [data];\r\n  if (variantExists && exhaustive) {\r\n    const variant = dex.get(`v_${npn}`);\r\n    variants.push(variant);\r\n  }\r\n\r\n  // Check for mega or devolve from mega\r\n  const megaIds = isMega\r\n    ? [`p_${npn}`]\r\n    : [`m_${npn}`, `m_${npn}x`, `m_${npn}y`];\r\n\r\n  // Generate Evolution Ids\r\n  const targetIds = evolutions.reduce((p, x) => {\r\n    const vId = `v_${x.evolvesTo}`;\r\n    const pId = `p_${x.evolvesTo}`;\r\n    const hasV = dex.has(vId);\r\n\r\n    let xIds = [];\r\n    if (isVariant && !exhaustive) {\r\n      xIds = [vId];\r\n    } else if (hasV && (!variantExists || exhaustive)) {\r\n      xIds = [pId, vId];\r\n    } else {\r\n      xIds = [pId];\r\n    }\r\n\r\n    return [...p, ...xIds];\r\n  }, []);\r\n\r\n  // Walk devolution tree\r\n  const devolveIds = pokemon\r\n    .filter((x) => {\r\n      const canDevolveTo =\r\n        (!isVariant && (!isVariantPokemon(x) || exhaustive)) ||\r\n        (isVariant &&\r\n          (isVariantPokemon(x) || !dex.has(`v_${x.nationalPokedexNumber}`)));\r\n\r\n      return canDevolveTo && x.evolutions.some((e) => e.evolvesTo === npn);\r\n    })\r\n    .map((x) => x.id);\r\n\r\n  const megas = [...megaIds]\r\n    .map((pkmId) => [isMega ? 'Devolve to ' : 'Evolve to ', dex.get(pkmId)])\r\n    .filter((x) => !!x[1]);\r\n\r\n  let evolves = [...targetIds].map((pkmId) => dex.get(pkmId));\r\n  evolves = exhaustive ? includeForms(pokemon, evolves) : evolves;\r\n\r\n  const devolves = [...devolveIds].map((pkmId) => [\r\n    'Devolve to ',\r\n    dex.get(pkmId)\r\n  ]);\r\n\r\n  return {\r\n    forms,\r\n    devolves,\r\n    evolves: evolves.map((x) => ['Evolve to ', x]),\r\n    megas,\r\n    variants,\r\n    asList() {\r\n      return [...this.devolves, ...this.evolves, ...this.megas];\r\n    },\r\n    count() {\r\n      return this.asList().length;\r\n    }\r\n  };\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React, { useState, useContext, useMemo } from 'react';\r\n\r\nimport { Icons } from 'mko';\r\nimport ArtCard from 'components/ArtCard';\r\nimport {\r\n  ClearButton,\r\n  LeftButton,\r\n  RightButton,\r\n  Button,\r\n  IconButton,\r\n  ButtonisedNavLink\r\n} from 'components/Buttons';\r\nimport { withDragAndDrop } from 'components/DragAndDrop';\r\nimport TypeBlock from 'components/TypeBlock';\r\nimport List from 'components/List';\r\nimport Routes from 'constants/routes';\r\nimport Orders from 'constants/orders';\r\nimport Party from 'constants/party';\r\nimport { PokedexContext } from 'context';\r\nimport { capitaliseEachWord } from 'utils/common';\r\nimport generateEvolutionOptions from 'utils/generateEvolutionOptions';\r\nimport { isNotBasePokemon } from 'utils/derivedData';\r\nimport pokeball from 'assets/pokeball.png';\r\n\r\nimport './TeamMember.scss';\r\n\r\nconst TeamMember = React.memo(\r\n  React.forwardRef(function TeamMember(\r\n    {\r\n      className,\r\n      index,\r\n      partyEndIndex,\r\n      data,\r\n      isHighlighted,\r\n      isDragging,\r\n      isOver,\r\n      remove,\r\n      move,\r\n      evolve,\r\n      canDrop,\r\n      ...props\r\n    },\r\n    ref\r\n  ) {\r\n    const { pokedex } = useContext(PokedexContext);\r\n    const [displayEvolveMenu, setDisplayEvolveMenu] = useState(false);\r\n\r\n    const hasData = !data.isEmpty;\r\n    const hasCustomActions = !!props.renderCustomActions;\r\n    const canRemove = hasData && !!remove;\r\n    const canReOrder = hasData && !!move;\r\n    const canEvolve = hasData && !!evolve;\r\n\r\n    const isFirst = index === Party.START_INDEX;\r\n    const isLast = index === partyEndIndex;\r\n\r\n    const evolutions = useMemo(() => generateEvolutionOptions(pokedex, data), [\r\n      pokedex,\r\n      data\r\n    ]);\r\n    const disableEvolve = evolutions.count() === 0;\r\n\r\n    if (displayEvolveMenu) {\r\n      return (\r\n        <li\r\n          ref={ref}\r\n          id={data.id}\r\n          className={classNames(\r\n            'team-member',\r\n            {\r\n              'team-member--highlighted': isHighlighted,\r\n              'team-member--empty': !hasData,\r\n              'team-member--dragging': isDragging,\r\n              'team-member--is-over': isOver && canDrop\r\n            },\r\n            className\r\n          )}\r\n        >\r\n          <div className={classNames('team-member__back-container')}>\r\n            <IconButton\r\n              className=\"team-member__action back-button\"\r\n              icon={Icons.left}\r\n              title=\"Back to member card\"\r\n              aria-label=\"Back to member card\"\r\n              onClick={() => setDisplayEvolveMenu(false)}\r\n            />\r\n          </div>\r\n          <List\r\n            columns={1}\r\n            items={evolutions.asList()}\r\n            itemTemplate={([text, x]) => {\r\n              return (\r\n                <li key={x.id}>\r\n                  <Button\r\n                    className=\"team-member__evolution-button\"\r\n                    aria-label={`${text} ${x.name}`}\r\n                    onClick={() => evolve(data.id, x.id)}\r\n                  >\r\n                    {`${text} #${x.nationalPokedexNumber} ${capitaliseEachWord(\r\n                      x.name\r\n                    )}`}\r\n                  </Button>\r\n                </li>\r\n              );\r\n            }}\r\n          />\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const idSource = isNotBasePokemon(data)\r\n      ? `p_${data.nationalPokedexNumber}`\r\n      : data.id;\r\n\r\n    const pokedexUrl = `${Routes.base}${Routes.pokedex}/${idSource}`;\r\n\r\n    return (\r\n      <li\r\n        ref={ref}\r\n        id={data.id}\r\n        className={classNames(\r\n          'team-member',\r\n          {\r\n            'team-member--highlighted': isHighlighted,\r\n            'team-member--empty': !hasData,\r\n            'team-member--dragging': isDragging,\r\n            'team-member--is-over': isOver && canDrop\r\n          },\r\n          className\r\n        )}\r\n      >\r\n        <div className={classNames('team-member__clear-container')}>\r\n          {hasData && (\r\n            <div\r\n              className={classNames('team-member__npn', {\r\n                'team-member__npn--with-remove': canRemove\r\n              })}\r\n            >\r\n              <p\r\n                id={`pokedexDescription_${data.id}`}\r\n                className=\"for-screenreader-only\"\r\n              >\r\n                Click the national pokedex number of{' '}\r\n                {capitaliseEachWord(data.name)} to go to the corresponding\r\n                pokedex page.\r\n              </p>\r\n              <ButtonisedNavLink\r\n                className=\"team-member__pokedex-link\"\r\n                to={pokedexUrl}\r\n                aria-describedby={`pokedexDescription_${data.id}`}\r\n              >\r\n                {`#${data.nationalPokedexNumber}`}\r\n              </ButtonisedNavLink>\r\n            </div>\r\n          )}\r\n          {canRemove && (\r\n            <ClearButton\r\n              className=\"team-member__action\"\r\n              title=\"Remove member from team\"\r\n              aria-label=\"Remove member from team\"\r\n              onClick={() => remove(data.id)}\r\n            />\r\n          )}\r\n        </div>\r\n        <ArtCard\r\n          className={classNames({ 'team-member__art': hasData })}\r\n          data={data}\r\n        />\r\n        <div className={classNames('team-member__name-bubble')}>\r\n          {capitaliseEachWord(data.name)}\r\n        </div>\r\n        <div className={classNames('team-member__types')}>\r\n          {data.types.map((type) => (\r\n            <TypeBlock key={type.id} value={type.name} />\r\n          ))}\r\n        </div>\r\n        <div\r\n          className={classNames('team-member__action-container')}\r\n          aria-describedby={`memberActions_${data.id}`}\r\n        >\r\n          <p id={`memberActions_${data.id}`} className=\"for-screenreader-only\">\r\n            Here are a range of team member actions including the ability to\r\n            move the team member left or right in the team, and evolve/devolve\r\n            the team member. These actions can be enabled/disabled in the\r\n            settings page.\r\n          </p>\r\n          {hasCustomActions && props.renderCustomActions({ data })}\r\n          {canReOrder && (\r\n            <LeftButton\r\n              className=\"team-member__action\"\r\n              disabled={isFirst}\r\n              onClick={() => move(data.id, Orders.moveLeft)}\r\n            />\r\n          )}\r\n          {canEvolve && (\r\n            <Button\r\n              className=\"team-member__action team-member__evolve\"\r\n              title=\"Open evolve member list\"\r\n              aria-label=\"Open evolve member list\"\r\n              disabled={disableEvolve}\r\n              onClick={() => setDisplayEvolveMenu(true)}\r\n            >\r\n              <img src={pokeball} alt=\"pokeball\" width={24} height={24} />\r\n            </Button>\r\n          )}\r\n          {canReOrder && (\r\n            <RightButton\r\n              className=\"team-member__action\"\r\n              disabled={isLast}\r\n              onClick={() => move(data.id, Orders.moveRight)}\r\n            />\r\n          )}\r\n        </div>\r\n      </li>\r\n    );\r\n  })\r\n);\r\n\r\nTeamMember.propTypes = {\r\n  className: PropTypes.string,\r\n  data: PropTypes.object.isRequired,\r\n  isHighlighted: PropTypes.bool,\r\n  remove: PropTypes.func,\r\n  move: PropTypes.func,\r\n  partyEndIndex: PropTypes.number,\r\n  renderCustomActions: PropTypes.func\r\n};\r\n\r\nexport default TeamMember;\r\nexport const TeamMemberDraggable = withDragAndDrop(TeamMember, ArtCard);\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport DnDBackend from 'components/DragAndDrop';\r\nimport List from 'components/List';\r\nimport TeamBreakdown from 'components/TeamBreakdown';\r\nimport TeamMember, { TeamMemberDraggable } from 'components/TeamMember';\r\nimport { generateEmptySlots } from 'utils/derivedData';\r\nimport {\r\n  iterateMapToArray,\r\n  iterateKeysToArray,\r\n  swapArrayPositions,\r\n  moveToNewArrayPosition,\r\n  settingsStore\r\n} from 'utils/common';\r\n\r\nimport './Team.scss';\r\n\r\nconst highlightDefaultState = {\r\n  dataType: null,\r\n  dataId: null,\r\n  memberIds: []\r\n};\r\n\r\nclass Team extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      emptyMembers: generateEmptySlots(),\r\n      members: new Map([]),\r\n      settings: settingsStore.get(),\r\n      highlight: { ...highlightDefaultState }\r\n    };\r\n\r\n    this.handleMemberRemove = this.handleMemberRemove.bind(this);\r\n    this.handleMemberMove = this.handleMemberMove.bind(this);\r\n    this.handleMemberEvolve = this.handleMemberEvolve.bind(this);\r\n    this.handleMemberDnD = this.handleMemberDnD.bind(this);\r\n    this.handleMouseState = this.handleMouseState.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const members = iterateKeysToArray(nextProps.members);\r\n    const oldMembers = iterateKeysToArray(prevState.members);\r\n\r\n    if (members !== oldMembers) {\r\n      return {\r\n        members: nextProps.members\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  padPartyToSixMembers(members) {\r\n    const emptys = iterateMapToArray(this.state.emptyMembers);\r\n    const memArr = iterateMapToArray(members);\r\n    return [...memArr, ...emptys].slice(0, 6);\r\n  }\r\n\r\n  handleMemberRemove(dataId) {\r\n    const members = new Map([...this.state.members.entries()]);\r\n    members.delete(dataId);\r\n    const memberIds = new Set(iterateKeysToArray(members));\r\n    this.props.onMembersUpdate(memberIds);\r\n  }\r\n\r\n  handleMemberMove(dataId, direction) {\r\n    const members = iterateKeysToArray(this.state.members);\r\n    const oldIndex = members.findIndex((x) => x === dataId);\r\n    const newIndex = oldIndex + direction;\r\n    const newOrderMembers = swapArrayPositions(members, oldIndex, newIndex);\r\n    const memberIds = new Set(newOrderMembers);\r\n    this.props.onMembersUpdate(memberIds);\r\n  }\r\n\r\n  handleMemberEvolve(dataId, evolveToId) {\r\n    const members = iterateKeysToArray(this.state.members);\r\n    const newMembers = members.map((x) => (x === dataId ? evolveToId : x));\r\n    const memberIds = new Set(newMembers);\r\n    this.props.onMembersUpdate(memberIds);\r\n  }\r\n\r\n  handleMemberDnD(dragIndex, hoverIndex) {\r\n    if (dragIndex === hoverIndex) {\r\n      return; // ignore these\r\n    }\r\n\r\n    const members = iterateKeysToArray(this.state.members);\r\n    const newOrderMembers = moveToNewArrayPosition(\r\n      members,\r\n      dragIndex,\r\n      hoverIndex\r\n    );\r\n    const memberIds = new Set(newOrderMembers);\r\n    this.props.onMembersUpdate(memberIds);\r\n  }\r\n\r\n  handleMouseState(dataType, dataId, memberIds) {\r\n    this.setState((prev) => {\r\n      const isSame =\r\n        prev.highlight.dataType === dataType &&\r\n        prev.highlight.dataId === dataId;\r\n\r\n      return isSame\r\n        ? { highlight: { ...highlightDefaultState } }\r\n        : { highlight: { dataType, dataId, memberIds } };\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { highlight, settings } = this.state;\r\n\r\n    const highlightMembers = highlight.memberIds;\r\n    const lastMemberIndex = this.state.members.size - 1;\r\n    const members = this.padPartyToSixMembers(this.state.members);\r\n\r\n    const canRemove = !!this.props.onMembersUpdate;\r\n    const canReOrder = !!this.props.onMembersUpdate;\r\n    const canEvolve = !!this.props.onMembersUpdate && settings.canEvolve;\r\n\r\n    const removeMember = canRemove ? this.handleMemberRemove : null;\r\n    const evolveMember = canEvolve ? this.handleMemberEvolve : null;\r\n    const moveMember =\r\n      canReOrder && settings.canUseArrows ? this.handleMemberMove : null;\r\n    const [moveMemberDnD, Member] =\r\n      canReOrder && settings.canDragAndDrop\r\n        ? [this.handleMemberDnD, TeamMemberDraggable]\r\n        : [null, TeamMember];\r\n\r\n    return (\r\n      <div>\r\n        {this.props.name && <div className=\"team-name\">{this.props.name}</div>}\r\n        <List\r\n          className={classNames('team')}\r\n          items={members}\r\n          itemTemplate={(item, i) => (\r\n            <Member\r\n              key={item.id}\r\n              index={i}\r\n              partyEndIndex={lastMemberIndex}\r\n              data={item}\r\n              isHighlighted={highlightMembers.includes(item.id)}\r\n              remove={removeMember}\r\n              move={moveMember}\r\n              moveDnD={moveMemberDnD}\r\n              evolve={evolveMember}\r\n            />\r\n          )}\r\n        />\r\n        <TeamBreakdown\r\n          teamName={`team ${this.props.name || 'nameless'}`}\r\n          members={this.state.members}\r\n          onMouseState={this.handleMouseState}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTeam.propTypes = {\r\n  name: PropTypes.string,\r\n  types: PropTypes.object.isRequired,\r\n  members: PropTypes.object,\r\n  onMembersUpdate: PropTypes.func\r\n};\r\n\r\nexport default DnDBackend(Team);\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport Tooltip from 'meiko/Tooltip';\r\n// import Tooltip from 'components/Tooltip';\r\nimport { capitaliseEachWord } from 'utils/common';\r\nimport { buildSelectorsForSprite } from 'utils/selectors';\r\n\r\nimport './Sprite.scss';\r\n\r\nconst Sprite = React.memo(function(props) {\r\n  const { data, onClick } = props;\r\n  const backgroundPosition = data.spritePosition;\r\n\r\n  const spriteId = `sprite-${data.id}`;\r\n  const spriteClasses = buildSelectorsForSprite(data);\r\n  const hasClick = !!onClick;\r\n  const spriteClick = hasClick ? () => onClick(data.id) : null;\r\n  const capitalisedName = capitaliseEachWord(\r\n    `${data.name}${data.form ? ` (${capitaliseEachWord(data.form)})` : ''}`\r\n  );\r\n\r\n  return (\r\n    <li className={classNames('margin-one', 'sprite', spriteClasses.types)}>\r\n      <p id={`describe_${spriteId}`} className=\"for-screenreader-only\">\r\n        Click {capitalisedName} to add as a current team member.\r\n      </p>\r\n      <Tooltip\r\n        className=\"tooltip--above\"\r\n        contentId={`tooltip_${spriteId}`}\r\n        delay={500}\r\n        text={capitalisedName}\r\n        center\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          onClick={spriteClick}\r\n          id={spriteId}\r\n          className={classNames(\r\n            'sprite__pokemon',\r\n            {\r\n              'sprite__pokemon--can-click': hasClick\r\n            },\r\n            spriteClasses.name\r\n          )}\r\n          style={backgroundPosition}\r\n          aria-labelledby={`tooltip_${spriteId}`}\r\n          aria-describedby={`describe_${spriteId}`}\r\n        />\r\n      </Tooltip>\r\n    </li>\r\n  );\r\n});\r\n\r\nSprite.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func\r\n};\r\n\r\nexport default Sprite;\r\n","import Types from 'constants/types';\r\nimport Generations from 'constants/generations';\r\nimport { EvolutionForms } from 'constants/evolutions';\r\nimport { capitalise, separateAndCapitaliseAll } from 'utils/common';\r\nimport { isMegaPokemon, isVariantPokemon } from 'utils/derivedData';\r\n\r\nconst padInt = (n) => `${n}`.padStart(3, '0');\r\n\r\nfunction isExcludedEvolutionType(pEvolutions, evolutionFilters) {\r\n  const length = evolutionFilters.length;\r\n  if (length === 2) return false;\r\n  if (length === 0) return true;\r\n\r\n  const filter = evolutionFilters[0];\r\n  return (\r\n    (filter === EvolutionForms.notEvolved && !pEvolutions.length) ||\r\n    (filter === EvolutionForms.fullyEvolved && pEvolutions.length)\r\n  );\r\n}\r\n\r\nfunction applyDexFilters(item, filters, typeMatches) {\r\n  const {\r\n    currentTeamIds,\r\n    generations,\r\n    types,\r\n    resists,\r\n    evolutions,\r\n    search,\r\n    includeMega,\r\n    includeVariants,\r\n    startersOnly\r\n  } = filters;\r\n  if (!includeMega && isMegaPokemon(item)) {\r\n    return true;\r\n  }\r\n  if (!includeVariants && isVariantPokemon(item)) {\r\n    return true;\r\n  }\r\n  if (startersOnly && !item.isStarter) {\r\n    return true;\r\n  }\r\n\r\n  const npn = padInt(item.nationalPokedexNumber);\r\n\r\n  return (\r\n    currentTeamIds.has(item.id) ||\r\n    ![npn, item.name, item.form].some((x) => x.includes(search)) ||\r\n    !generations.includes(item.generation) ||\r\n    !item.types.some((x) => types.includes(x.id)) ||\r\n    !item.types.some((x) => {\r\n      const { resists: resistsForType, unaffectedBy } = typeMatches.get(x.id);\r\n      return (\r\n        resists.some((r) => resistsForType.includes(r)) ||\r\n        resists.some((r) => unaffectedBy.includes(r))\r\n      );\r\n    }) ||\r\n    isExcludedEvolutionType(item.evolutions, evolutions)\r\n  );\r\n}\r\n\r\nexport function iteratePokedexToList(\r\n  { pokedex, regions },\r\n  filters,\r\n  typeMatches\r\n) {\r\n  const dexKey = regions[filters.activePokedex];\r\n  const dex = !dexKey\r\n    ? Array.from(pokedex)\r\n    : dexKey.reduce((p, x) => {\r\n        const pkmId = `p_${x.nationalPokedexNumber}${x.formSuffix}`;\r\n        const m = pokedex.get(pkmId);\r\n        if (!m) {\r\n          return p;\r\n        }\r\n        return [...p, [pkmId, m]];\r\n      }, []);\r\n\r\n  return dex.reduce((acc, [_, item]) => {\r\n    if (applyDexFilters(item, filters, typeMatches)) {\r\n      return acc;\r\n    }\r\n\r\n    return [...acc, item];\r\n  }, []);\r\n}\r\n\r\nconst getAllEnumValues = (obj) => Object.keys(obj).map((k) => obj[k]);\r\n\r\nconst getEnumOptions = (obj, fn) =>\r\n  Object.keys(obj).map((k) => ({\r\n    value: obj[k],\r\n    text: fn(k)\r\n  }));\r\n\r\nexport const generationOptions = getEnumOptions(\r\n  Generations,\r\n  (k) => `${capitalise(k.slice(0, 3))} ${k.slice(-1)}`\r\n);\r\nexport const generationDefaults = getAllEnumValues(Generations);\r\n\r\nexport const typeOptions = getEnumOptions(Types, (k) => capitalise(k));\r\nexport const typeDefaults = getAllEnumValues(Types);\r\n\r\nexport const evolutionOptions = getEnumOptions(EvolutionForms, (k) =>\r\n  separateAndCapitaliseAll(k)\r\n);\r\nexport const evolutionDefaults = getAllEnumValues(EvolutionForms);\r\n\r\nexport const selectRandomSetOfIds = (dexData, filters, typeMatches) => {\r\n  const randomTeam = new Set([]);\r\n  const pokemon = iteratePokedexToList(dexData, filters, typeMatches);\r\n\r\n  return Array(6)\r\n    .fill(null)\r\n    .reduce((team) => {\r\n      const randomIndex = Math.floor(Math.random() * pokemon.length);\r\n      const selected = pokemon[randomIndex];\r\n\r\n      return team.add(selected.id);\r\n    }, randomTeam);\r\n};\r\n","import classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { Grid, ClearableInput } from 'mko';\r\nimport { Button } from 'components/Buttons';\r\nimport Filters from 'components/Filters';\r\nimport Team from 'components/Team';\r\nimport Sprite from 'components/Sprite';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport Constants from 'constants/index';\r\nimport { Pokedex } from 'constants/pokedex';\r\nimport {\r\n  getUrlQueryStringAsObject,\r\n  createSetFromIdString,\r\n  createIdStringFromSet,\r\n  generateUniqueId,\r\n  selectMembersFromPokedex,\r\n  teamsStore,\r\n  settingsStore\r\n} from 'utils/common';\r\nimport { getPartySizeAlertMessage } from 'utils/feedback';\r\nimport * as TPU from './TeamPlannerUtils';\r\n\r\nimport './TeamPlanner.scss';\r\n\r\nconst { Strings, Party, Routes } = Constants;\r\n\r\nconst resolvePokedex = (m) =>\r\n  m.params.pokedexKey ||\r\n  settingsStore.getKey('defaultPokedex') ||\r\n  Pokedex.national;\r\n\r\nclass PlannerPage extends React.Component {\r\n  static contextType = PokedexContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentTeamName: '',\r\n      search: '',\r\n      generations: TPU.generationDefaults,\r\n      types: TPU.typeDefaults,\r\n      resists: TPU.typeDefaults,\r\n      evolutions: TPU.evolutionDefaults,\r\n      includeMega: true,\r\n      includeVariants: true,\r\n      startersOnly: false\r\n    };\r\n\r\n    this.handleNameInput = this.handleNameInput.bind(this);\r\n    this.handleSearchInput = this.handleSearchInput.bind(this);\r\n    this.handleMultiSelectFilter = this.handleMultiSelectFilter.bind(this);\r\n    this.handleTickboxFilter = this.handleTickboxFilter.bind(this);\r\n    this.handleSpriteSelection = this.handleSpriteSelection.bind(this);\r\n    this.handleMembersUpdate = this.handleMembersUpdate.bind(this);\r\n    this.handleClearTeam = this.handleClearTeam.bind(this);\r\n    this.handleRandomTeam = this.handleRandomTeam.bind(this);\r\n    this.handleSaveTeam = this.handleSaveTeam.bind(this);\r\n    this.handleChangePokedex = this.handleChangePokedex.bind(this);\r\n  }\r\n\r\n  updateTeamQueryString(memberIds, newId) {\r\n    const { location, history } = this.props;\r\n    const idStr = createIdStringFromSet(memberIds, newId);\r\n\r\n    history.push(`${location.pathname}?team=${idStr}`);\r\n  }\r\n\r\n  handleNameInput(e) {\r\n    this.setState({ currentTeamName: e.target.value });\r\n  }\r\n\r\n  handleSearchInput(e) {\r\n    this.setState({ search: e.target.value.toLowerCase() });\r\n  }\r\n\r\n  handleMultiSelectFilter(value, name) {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  handleTickboxFilter(e) {\r\n    const { name, checked } = e.target;\r\n    this.setState({ [name]: checked });\r\n  }\r\n\r\n  handleSpriteSelection(dataId) {\r\n    const currentTeamIds = createSetFromIdString(\r\n      getUrlQueryStringAsObject(this.props.location).team\r\n    );\r\n    if (currentTeamIds.size === Party.MAX_SIZE) {\r\n      return this.props.sendAlert(getPartySizeAlertMessage());\r\n    }\r\n\r\n    this.updateTeamQueryString(currentTeamIds, dataId);\r\n  }\r\n\r\n  handleMembersUpdate(membersIds) {\r\n    this.updateTeamQueryString(membersIds);\r\n  }\r\n\r\n  handleClearTeam() {\r\n    this.updateTeamQueryString(new Set([]));\r\n  }\r\n\r\n  handleRandomTeam(dexData, typeMatches) {\r\n    return () => {\r\n      const idString = getUrlQueryStringAsObject(this.props.location).team;\r\n      const currentTeamIds = createSetFromIdString(idString);\r\n      const activePokedex = resolvePokedex(this.props.match);\r\n      const filters = { ...this.state, currentTeamIds, activePokedex };\r\n\r\n      const randomSetOfIds = TPU.selectRandomSetOfIds(\r\n        dexData,\r\n        filters,\r\n        typeMatches\r\n      );\r\n\r\n      this.updateTeamQueryString(randomSetOfIds);\r\n    };\r\n  }\r\n\r\n  handleSaveTeam() {\r\n    const idString = getUrlQueryStringAsObject(this.props.location).team;\r\n    const currentTeamIds = createSetFromIdString(idString);\r\n    if (currentTeamIds.size === 0) {\r\n      return;\r\n    }\r\n\r\n    const teamId = generateUniqueId();\r\n    const saveTeamData = {\r\n      [teamId]: {\r\n        name: this.state.currentTeamName,\r\n        idString\r\n      }\r\n    };\r\n\r\n    teamsStore.set(saveTeamData);\r\n  }\r\n\r\n  handleChangePokedex(e) {\r\n    const { value } = e.target;\r\n    this.props.history.push(`${Routes.base}/${value}`);\r\n  }\r\n\r\n  render() {\r\n    let pokeData = this.context;\r\n    const { location, match } = this.props;\r\n    const activePokedex = resolvePokedex(match);\r\n    const { team } = getUrlQueryStringAsObject(location);\r\n    const currentTeamIds = createSetFromIdString(team);\r\n\r\n    const dexFilters = { ...this.state, currentTeamIds, activePokedex };\r\n\r\n    const filterProps = {\r\n      pokedexProps: {\r\n        value: activePokedex,\r\n        onChange: this.handleChangePokedex\r\n      },\r\n      searchProps: {\r\n        value: dexFilters.search,\r\n        onChange: this.handleSearchInput\r\n      },\r\n      generationProps: {\r\n        values: dexFilters.generations,\r\n        options: TPU.generationOptions,\r\n        onUpdate: this.handleMultiSelectFilter\r\n      },\r\n      typeProps: {\r\n        values: dexFilters.types,\r\n        options: TPU.typeOptions,\r\n        onUpdate: this.handleMultiSelectFilter\r\n      },\r\n      resistsProps: {\r\n        values: dexFilters.resists,\r\n        options: TPU.typeOptions,\r\n        onUpdate: this.handleMultiSelectFilter\r\n      },\r\n      evolutionsProps: {\r\n        values: dexFilters.evolutions,\r\n        options: TPU.evolutionOptions,\r\n        onUpdate: this.handleMultiSelectFilter\r\n      },\r\n      includeMegaProps: {\r\n        checked: dexFilters.includeMega,\r\n        onChange: this.handleTickboxFilter\r\n      },\r\n      includeVariantsProps: {\r\n        checked: dexFilters.includeVariants,\r\n        onChange: this.handleTickboxFilter\r\n      },\r\n      startersOnlyProps: {\r\n        checked: dexFilters.startersOnly,\r\n        onChange: this.handleTickboxFilter\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"team-planner\">\r\n        <div\r\n          className={classNames(\r\n            'team-planner__container',\r\n            'team-planner__container--width_20',\r\n            'team-planner__container--hide-on_small'\r\n          )}\r\n        >\r\n          <Filters hiddenOn={Strings.small} {...filterProps} />\r\n        </div>\r\n        <TypeContext.Consumer>\r\n          {(typeMatches) => {\r\n            const filteredSprites = TPU.iteratePokedexToList(\r\n              pokeData,\r\n              dexFilters,\r\n              typeMatches\r\n            );\r\n\r\n            return (\r\n              <div className=\"team-planner__container team-planner__container--width_80\">\r\n                <p id=\"actionsDescription\" className=\"for-screenreader-only\">\r\n                  Here are actions applicaable to the team creator. You can\r\n                  randomise the team creator members selecting from those\r\n                  available under the current filters, save the current team to\r\n                  the teams tab, or clear all the current team members.\r\n                </p>\r\n                <div\r\n                  className=\"team-planner__button-actions\"\r\n                  aria-describedby=\"actionsDescription\"\r\n                >\r\n                  <Button\r\n                    id=\"randomise-team\"\r\n                    isAction\r\n                    onClick={this.handleRandomTeam(pokeData, typeMatches)}\r\n                  >\r\n                    Randomise\r\n                  </Button>\r\n                  <Button id=\"save-team\" isAction onClick={this.handleSaveTeam}>\r\n                    Save team\r\n                  </Button>\r\n                  <Button\r\n                    id=\"clear-team\"\r\n                    isAction\r\n                    onClick={this.handleClearTeam}\r\n                  >\r\n                    Clear team\r\n                  </Button>\r\n                </div>\r\n                <p\r\n                  id=\"teamCreatorDescription\"\r\n                  className=\"for-screenreader-only\"\r\n                >\r\n                  Create a savable pokemon team with a custom name. Drag and\r\n                  drop or use the direction arrows to reorder team members.\r\n                  Individual pokemon can be evolved or devolved using the\r\n                  evolution button between the reorder buttons.\r\n                </p>\r\n                <div\r\n                  className=\"team-planner__team-creator\"\r\n                  aria-describedby=\"teamCreatorDescription\"\r\n                >\r\n                  <ClearableInput\r\n                    id=\"current-team-name\"\r\n                    name=\"currentTeamName\"\r\n                    label=\"Team Name\"\r\n                    value={this.state.currentTeamName}\r\n                    onChange={this.handleNameInput}\r\n                  />\r\n                  <Team\r\n                    types={typeMatches}\r\n                    members={selectMembersFromPokedex(\r\n                      pokeData.pokedex,\r\n                      currentTeamIds\r\n                    )}\r\n                    onMembersUpdate={this.handleMembersUpdate}\r\n                  />\r\n                </div>\r\n                <Filters hiddenOn={Strings.large} {...filterProps} />\r\n                {!!filteredSprites.length && (\r\n                  <Grid\r\n                    className=\"team-planner__sprite-list\"\r\n                    items={filteredSprites}\r\n                  >\r\n                    {(item) => (\r\n                      <Sprite\r\n                        key={item.id}\r\n                        data={item}\r\n                        onClick={this.handleSpriteSelection}\r\n                      />\r\n                    )}\r\n                  </Grid>\r\n                )}\r\n                {!filteredSprites.length && (\r\n                  <div>No pokemon available for the current filters.</div>\r\n                )}\r\n              </div>\r\n            );\r\n          }}\r\n        </TypeContext.Consumer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlannerPage;\r\n","import { generateUniqueId } from './common';\r\n\r\nexport function getPartySizeAlertMessage() {\r\n  return {\r\n    id: generateUniqueId(),\r\n    type: 'error',\r\n    message: 'Maximum party size reached',\r\n    detail: 'To add another pokemon, please remove one from your team first'\r\n  };\r\n}\r\n","import React from 'react';\r\n\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport Routes from 'constants/routes';\r\n\r\nimport './TeamViewerMessage.scss';\r\n\r\nconst TeamViewerMessage = () => (\r\n  <div className=\"no-data-message\">\r\n    <div className=\"no-data-message__text\">You have no saved teams</div>\r\n    <ButtonisedNavLink to={Routes.base} link>\r\n      Create a team\r\n    </ButtonisedNavLink>\r\n    <ButtonisedNavLink to={Routes.lusamineTeam} link>\r\n      Load an example team\r\n    </ButtonisedNavLink>\r\n  </div>\r\n);\r\n\r\nexport default TeamViewerMessage;\r\n","import Routes from 'constants/routes';\r\nimport { generateUniqueId } from '../../utils/common';\r\n\r\nexport function createTeamUrl(idString) {\r\n  return `${Routes.base}/?team=${idString}`;\r\n}\r\n\r\nexport function mapSavedTeamsToDisplayModel(savedTeams) {\r\n  return Object.keys(savedTeams).map((id) => {\r\n    const { name, idString } = savedTeams[id];\r\n    return {\r\n      id,\r\n      name,\r\n      idString,\r\n      memberIds: idString.split(',')\r\n    };\r\n  });\r\n}\r\n\r\nexport function mapTrainerTeamsToDisplayModel(trainerTeams) {\r\n  return trainerTeams.map((item) => ({\r\n    id: generateUniqueId(),\r\n    ...item,\r\n    idString: item.memberIds.join(',')\r\n  }));\r\n}\r\n","import classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { ClearButton, ButtonisedNavLink } from 'components/Buttons';\r\nimport Team from 'components/Team';\r\nimport TeamViewerMessage from 'components/TeamViewerMessage';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport * as TVU from './utils';\r\nimport { teamsStore, selectMembersFromPokedex } from 'utils/common';\r\n\r\nclass TeamViewer extends React.Component {\r\n  static contextType = PokedexContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadedTeams: false,\r\n      savedTeams: null\r\n    };\r\n\r\n    this.handleDeleteTeam = this.handleDeleteTeam.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      loadedTeams: true,\r\n      savedTeams: teamsStore.get()\r\n    });\r\n  }\r\n\r\n  handleDeleteTeam(teamId) {\r\n    const { savedTeams } = this.state;\r\n    const teams = Object.keys(savedTeams)\r\n      .filter((k) => k !== teamId)\r\n      .reduce(\r\n        (p, c) => ({\r\n          ...p,\r\n          [c]: savedTeams[c]\r\n        }),\r\n        {}\r\n      );\r\n\r\n    const updatedTeams = teamsStore.replace(teams);\r\n    this.setState({ savedTeams: updatedTeams });\r\n  }\r\n\r\n  render() {\r\n    let { pokedex } = this.context;\r\n    const { savedTeams } = this.state;\r\n\r\n    if (!this.state.loadedTeams) {\r\n      return null;\r\n    }\r\n\r\n    if (!savedTeams || Object.keys(savedTeams).length === 0) {\r\n      return <TeamViewerMessage />;\r\n    }\r\n\r\n    const teams = TVU.mapSavedTeamsToDisplayModel(savedTeams);\r\n\r\n    return (\r\n      <TypeContext.Consumer>\r\n        {(typeMatches) => (\r\n          <div className=\"team-viewer\">\r\n            {teams.map((t) => (\r\n              <div\r\n                key={t.id}\r\n                className={classNames('team-viewer__team saved-team')}\r\n              >\r\n                <p id={`loadTeam_${t.id}`} className=\"for-screenreader-only\">\r\n                  Click to open this team in the team creator where you can edit\r\n                  a new copy.\r\n                </p>\r\n                <div className={classNames('saved-team__actions')}>\r\n                  <ButtonisedNavLink\r\n                    to={TVU.createTeamUrl(t.idString)}\r\n                    link\r\n                    aria-describedby={`loadTeam_${t.id}`}\r\n                  >\r\n                    Load team\r\n                  </ButtonisedNavLink>\r\n                  <ClearButton\r\n                    title=\"Delete Team\"\r\n                    aria-label=\"Delete Team\"\r\n                    onClick={() => this.handleDeleteTeam(t.id)}\r\n                  />\r\n                </div>\r\n                <Team\r\n                  name={t.name}\r\n                  types={typeMatches}\r\n                  members={selectMembersFromPokedex(pokedex, t.memberIds)}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </TypeContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TeamViewer;\r\n","import { getKeyByValue } from 'utils/common';\r\n\r\nimport Regions from 'constants/regions';\r\nimport { getGeneration } from 'utils/derivedData';\r\n\r\nfunction mapTypesToPokemon(typeIds, types) {\r\n  return typeIds.map((id) => {\r\n    const type = types.find((x) => x.id === id);\r\n    return {\r\n      id: type.id,\r\n      name: type.name\r\n    };\r\n  });\r\n}\r\n\r\nfunction mapEvolutionsToPokemon(evolutions) {\r\n  return evolutions\r\n    .map((e) => ({\r\n      evolvesTo: e.evolvesTo,\r\n      mechanism: e.mechanism\r\n    }))\r\n    .filter((o, i, arr) => {\r\n      const index = arr.findIndex((x) => x.evolvesTo === o.evolvesTo);\r\n      return index === i;\r\n    });\r\n}\r\n\r\nexport function mapPokemonData(id, data, types, evolutions, isStarter) {\r\n  return {\r\n    id,\r\n    nationalPokedexNumber: data.nationalPokedexNumber,\r\n    name: data.name,\r\n    form: data.form,\r\n    types: mapTypesToPokemon(data.typeIds, types),\r\n    evolutions: mapEvolutionsToPokemon(evolutions),\r\n    generation: getGeneration(data.nationalPokedexNumber),\r\n    isStarter\r\n  };\r\n}\r\n\r\nexport function mapMegaPokemonData(id, data, types, basePokemon) {\r\n  const suffix = data.suffix ? ` ${data.suffix}` : '';\r\n  return {\r\n    id,\r\n    nationalPokedexNumber: data.nationalPokedexNumber,\r\n    name: `mega ${basePokemon.name}${suffix}`,\r\n    form: '',\r\n    types: mapTypesToPokemon(data.typeIds, types),\r\n    evolutions: [],\r\n    generation: getGeneration(data.nationalPokedexNumber)\r\n  };\r\n}\r\n\r\nexport function mapVariantsPokemonData(\r\n  id,\r\n  data,\r\n  types,\r\n  evolutions,\r\n  basePokemon\r\n) {\r\n  const regionName = getKeyByValue(Regions, data.regionId);\r\n  return {\r\n    id,\r\n    nationalPokedexNumber: data.nationalPokedexNumber,\r\n    name: `${regionName} ${basePokemon.name}`,\r\n    form: '',\r\n    types: mapTypesToPokemon(data.typeIds, types),\r\n    evolutions: mapEvolutionsToPokemon(evolutions),\r\n    generation: getGeneration(data.nationalPokedexNumber)\r\n  };\r\n}\r\n","export default Object.freeze({\r\n  p: 1,\r\n  m: 2,\r\n  v: 3\r\n});\r\n","import IdPrefixes from 'constants/idPrefixes';\r\n\r\nconst getIdPrefix = (id) => id.split('_')[0];\r\n\r\nexport default function sortCombinedData([aId, a], [bId, b]) {\r\n  const aNPN = a.nationalPokedexNumber;\r\n  const bNPN = b.nationalPokedexNumber;\r\n  if (aNPN < bNPN) return -1;\r\n  if (aNPN > bNPN) return 1;\r\n\r\n  const aPrefix = getIdPrefix(aId);\r\n  const bPrefix = getIdPrefix(bId);\r\n  const aEnum = IdPrefixes[aPrefix];\r\n  const bEnum = IdPrefixes[bPrefix];\r\n  if (aEnum < bEnum) return -1;\r\n  if (aEnum > bEnum) return 1;\r\n  return 0;\r\n}\r\n","import * as Mappers from './mappers';\r\nimport * as IdGenerators from './idGenerators';\r\nimport sortCombinedData from 'utils/sorters';\r\n\r\nimport pokemon from './raw/pokemon.json';\r\nimport types from './raw/types.json';\r\nimport evolutions from './raw/evolutions.json';\r\nimport starters from './raw/starters.json';\r\n\r\nexport function transformPokemonData(data) {\r\n  return data.reduce((p, c) => {\r\n    const id = IdGenerators.generatePokemonId(p, c);\r\n    const isStarter = starters.includes(c.nationalPokedexNumber);\r\n    const pokemonTypes = types.filter((x) => c.typeIds.includes(x.id));\r\n    const pokemonEvolutions = evolutions.filter(\r\n      (x) => x.nationalPokedexNumber === c.nationalPokedexNumber\r\n    );\r\n\r\n    return p.set(\r\n      id,\r\n      Mappers.mapPokemonData(id, c, pokemonTypes, pokemonEvolutions, isStarter)\r\n    );\r\n  }, new Map());\r\n}\r\n\r\nexport function transformMegaPokemonData(data) {\r\n  return data.reduce((p, c) => {\r\n    const id = IdGenerators.generateMegaPokemonId(p, c);\r\n    const basePokemon = pokemon.find(\r\n      (x) => x.nationalPokedexNumber === c.nationalPokedexNumber\r\n    );\r\n    const pokemonTypes = types.filter((x) => c.typeIds.includes(x.id));\r\n\r\n    return p.set(\r\n      id,\r\n      Mappers.mapMegaPokemonData(id, c, pokemonTypes, basePokemon)\r\n    );\r\n  }, new Map());\r\n}\r\n\r\nexport function transformVariantPokemonData(data) {\r\n  return data.reduce((p, c) => {\r\n    const id = IdGenerators.generateVariantPokemonId(p, c);\r\n    const basePokemon = pokemon.find(\r\n      (x) => x.nationalPokedexNumber === c.nationalPokedexNumber\r\n    );\r\n    const pokemonTypes = types.filter((x) => c.typeIds.includes(x.id));\r\n    const pokemonEvolutions = evolutions.filter(\r\n      (x) => x.nationalPokedexNumber === c.nationalPokedexNumber\r\n    );\r\n\r\n    return p.set(\r\n      id,\r\n      Mappers.mapVariantsPokemonData(\r\n        id,\r\n        c,\r\n        pokemonTypes,\r\n        pokemonEvolutions,\r\n        basePokemon\r\n      )\r\n    );\r\n  }, new Map());\r\n}\r\n\r\nfunction reduceMapsToArray(combined, aMap) {\r\n  return [...combined, ...Array.from(aMap)];\r\n}\r\n\r\nexport function combineAndSortMaps(mapper, ...maps) {\r\n  const combinedData = maps\r\n    .reduce(reduceMapsToArray, [])\r\n    .sort(sortCombinedData)\r\n    .map(mapper);\r\n\r\n  return new Map([...combinedData]);\r\n}\r\n","import {\r\n  transformPokemonData,\r\n  transformMegaPokemonData,\r\n  transformVariantPokemonData,\r\n  combineAndSortMaps\r\n} from './transformers';\r\n\r\nimport pokemon from './raw/pokemon.json';\r\nimport megas from './raw/megaEvolutions.json';\r\nimport regionalVariants from './raw/regionalVariants.json';\r\nimport types from './raw/types.json';\r\nimport trainerTeams from './raw/trainerTeams.json';\r\n\r\nimport kanto from './raw/regionalPokedex/kanto.json';\r\nimport johto_og from './raw/regionalPokedex/new.json';\r\nimport johto from './raw/regionalPokedex/johto.json';\r\nimport hoenn from './raw/regionalPokedex/hoenn.json';\r\nimport hoenn_oras from './raw/regionalPokedex/hoenn_oras.json';\r\nimport sinnoh from './raw/regionalPokedex/sinnoh.json';\r\nimport sinnoh_pt from './raw/regionalPokedex/sinnoh_pt.json';\r\nimport unova from './raw/regionalPokedex/unova.json';\r\nimport unova_n from './raw/regionalPokedex/unova_n.json';\r\nimport kalos_ce from './raw/regionalPokedex/kalos_ce.json';\r\nimport kalos_co from './raw/regionalPokedex/kalos_co.json';\r\nimport kalos_mo from './raw/regionalPokedex/kalos_mo.json';\r\nimport alola from './raw/regionalPokedex/alola.json';\r\nimport alola_u from './raw/regionalPokedex/alola_u.json';\r\n\r\nconst SPRITES_PER_ROW = 30;\r\nconst ART_PER_ROW = 30;\r\n\r\nexport function constructPokedex() {\r\n  const pokemonMap = transformPokemonData(pokemon);\r\n  const megasMap = transformMegaPokemonData(megas);\r\n  const variantsMap = transformVariantPokemonData(regionalVariants);\r\n\r\n  const pokedex = combineAndSortMaps(\r\n    ([id, mon], order) => {\r\n      const sOffset = -41;\r\n      const aOffset = -97;\r\n      const sy = -2 + sOffset * Math.floor(order / SPRITES_PER_ROW);\r\n      const sx = -1 + sOffset * (order % SPRITES_PER_ROW);\r\n      const ay = 0 + aOffset * Math.floor((order + 1) / ART_PER_ROW);\r\n      const ax = -1 + aOffset * ((order + 1) % ART_PER_ROW);\r\n\r\n      return [\r\n        id,\r\n        {\r\n          ...mon,\r\n          spritePosition: { backgroundPosition: `${sx}px ${sy}px` },\r\n          artPosition: { backgroundPosition: `${ax}px ${ay}px` }\r\n        }\r\n      ];\r\n    },\r\n    pokemonMap,\r\n    megasMap,\r\n    variantsMap\r\n  );\r\n\r\n  return {\r\n    pokedex,\r\n    regions: {\r\n      kanto,\r\n      new: johto_og,\r\n      johto,\r\n      hoenn,\r\n      hoenn_oras,\r\n      sinnoh,\r\n      sinnoh_pt,\r\n      unova,\r\n      unova_n,\r\n      kalos: [...kalos_ce, ...kalos_co, ...kalos_mo],\r\n      alola,\r\n      alola_u\r\n    }\r\n  };\r\n}\r\n\r\nexport function getTypeMatchups() {\r\n  return types.reduce((p, c) => {\r\n    p.set(c.id, c);\r\n    return p;\r\n  }, new Map());\r\n}\r\n\r\nexport function getTrainerTeams() {\r\n  return trainerTeams;\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { useContext, useState } from 'react';\r\n\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport Team from 'components/Team';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport * as TVU from './utils';\r\nimport { selectMembersFromPokedexAllowDuplicates } from 'utils/common';\r\nimport { getTrainerTeams } from 'data';\r\n\r\nfunction TrainerTeamViewer() {\r\n  const { pokedex } = useContext(PokedexContext);\r\n  const typeMatches = useContext(TypeContext);\r\n  const [teams] = useState(\r\n    TVU.mapTrainerTeamsToDisplayModel(getTrainerTeams())\r\n  );\r\n\r\n  return (\r\n    <div className=\"team-viewer\">\r\n      {teams.map((t) => (\r\n        <div key={t.id} className={classNames('team-viewer__team saved-team')}>\r\n          <p id={`loadTeam_${t.id}`} className=\"for-screenreader-only\">\r\n            Click to open this team in the team creator where you can edit a new\r\n            copy.\r\n          </p>\r\n          <div className={classNames('saved-team__actions')}>\r\n            <ButtonisedNavLink\r\n              to={TVU.createTeamUrl(t.idString)}\r\n              link\r\n              aria-describedby={`loadTeam_${t.id}`}\r\n            >\r\n              Load team\r\n            </ButtonisedNavLink>\r\n          </div>\r\n          <Team\r\n            name={t.name}\r\n            types={typeMatches}\r\n            members={selectMembersFromPokedexAllowDuplicates(\r\n              pokedex,\r\n              t.memberIds\r\n            )}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrainerTeamViewer;\r\n","import React from 'react';\r\n\r\nimport { Tabs } from 'mko';\r\nimport SavedTeams from './SavedTeams';\r\nimport TrainerTeams from './TrainerTeams';\r\n\r\nimport { getUrlQueryStringAsObject, capitalise } from 'utils/common';\r\n\r\nimport './TeamViewer.scss';\r\n\r\nfunction TeamViewer({ match, location, history, ...props }) {\r\n  function handleTabChange(name) {\r\n    history.replace(`${match.url}?tab=${name}`);\r\n  }\r\n\r\n  const query = getUrlQueryStringAsObject(location);\r\n  const activeTab = capitalise(query.tab || 'Saved');\r\n\r\n  return (\r\n    <Tabs.Container activeTab={activeTab} onChange={handleTabChange}>\r\n      <Tabs.View name=\"Saved\">\r\n        {(isActive) => isActive && <SavedTeams {...props} />}\r\n      </Tabs.View>\r\n      <Tabs.View name=\"Trainer\">\r\n        {(isActive) => isActive && <TrainerTeams {...props} />}\r\n      </Tabs.View>\r\n    </Tabs.Container>\r\n  );\r\n}\r\n\r\nexport default TeamViewer;\r\n","import React from 'react';\r\n\r\nimport { Tickbox, SelectBox } from 'mko';\r\nimport SETTINGS_DEFAULTS from 'constants/settings';\r\nimport { pokedexOptions } from 'constants/pokedex';\r\nimport { settingsStore } from 'utils/common';\r\n\r\nclass Settings extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ...SETTINGS_DEFAULTS\r\n    };\r\n\r\n    this.handleUserInput = this.handleUserInput.bind(this);\r\n    this.handleSelectChange = this.handleSelectChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ ...settingsStore.get() });\r\n  }\r\n\r\n  handleUserInput(e) {\r\n    const { name, checked } = e.target;\r\n    this.setState({ [name]: checked }, () =>\r\n      settingsStore.set({\r\n        ...SETTINGS_DEFAULTS,\r\n        ...this.state\r\n      })\r\n    );\r\n  }\r\n\r\n  handleSelectChange(e) {\r\n    const { value } = e.target;\r\n    this.setState({ defaultPokedex: value }, () =>\r\n      settingsStore.set({\r\n        ...SETTINGS_DEFAULTS,\r\n        ...this.state\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const settings = this.state;\r\n\r\n    return (\r\n      <div className=\"settings\">\r\n        <Tickbox\r\n          id=\"can-dnd\"\r\n          containerClassName=\"settings__input\"\r\n          name=\"canDragAndDrop\"\r\n          text={`Enable Drag and Drop\\nMove Team Members by dragging the cards to the desired spot.`}\r\n          checked={settings.canDragAndDrop}\r\n          onChange={this.handleUserInput}\r\n        />\r\n        <Tickbox\r\n          id=\"can-use-arrows\"\r\n          containerClassName=\"settings__input\"\r\n          name=\"canUseArrows\"\r\n          text={`Enable Team Member Arrows\\nMove Team Members with arrow buttons to the desired spot.`}\r\n          checked={settings.canUseArrows}\r\n          onChange={this.handleUserInput}\r\n        />\r\n        <Tickbox\r\n          id=\"can-evolve\"\r\n          containerClassName=\"settings__input\"\r\n          name=\"canEvolve\"\r\n          text={`Enable Team Member Evolve\\nChange Team Members with their evolutions with this shortcut.`}\r\n          checked={settings.canEvolve}\r\n          onChange={this.handleUserInput}\r\n        />\r\n        <SelectBox\r\n          id=\"default-pokedex\"\r\n          containerClassName=\"settings__input settings__input--select-box\"\r\n          text=\"Default Pokedex\"\r\n          value={settings.defaultPokedex}\r\n          options={pokedexOptions}\r\n          onChange={this.handleSelectChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport TeamMember from 'components/TeamMember';\r\n\r\nfunction PokedexMember({ currentPath, ...props }) {\r\n  return (\r\n    <TeamMember\r\n      className=\"pokedex__member\"\r\n      {...props}\r\n      renderCustomActions={({ data }) => (\r\n        <ButtonisedNavLink to={`${currentPath}?typeSourceId=${data.id}`}>\r\n          See type breakdown\r\n        </ButtonisedNavLink>\r\n      )}\r\n    />\r\n  );\r\n}\r\n\r\nPokedexMember.propTypes = {\r\n  currentPath: PropTypes.string.isRequired\r\n};\r\n\r\nexport default PokedexMember;\r\n","import React, { useContext, useMemo } from 'react';\r\n\r\nimport { List as MkoList, SelectBox, useWindowSize } from 'mko';\r\nimport { Button } from 'components/Buttons';\r\nimport TeamMember from 'components/TeamMember';\r\nimport TeamBreakdown from 'components/TeamBreakdown';\r\nimport List from 'components/List';\r\nimport PokedexMember from './PokedexMember';\r\n\r\nimport { PokedexContext } from 'context';\r\nimport Routes from 'constants/routes';\r\nimport { getUrlQueryStringAsObject, capitaliseEachWord } from 'utils/common';\r\nimport generateEvolutionOptions from 'utils/generateEvolutionOptions';\r\nimport { isXS } from 'utils/media';\r\nimport { merge, distinct } from 'utils/lists';\r\nimport buildControlText from './buildControlText';\r\nimport generateVanillaDex from './generateVanillaDex';\r\n\r\nimport './Pokedex.scss';\r\n\r\nconst FIRST_ID = `p_1`;\r\n\r\nfunction Pokedex({ match, location, history }) {\r\n  const { pokedex } = useContext(PokedexContext);\r\n  const { baseDex, dexOptions, lastId } = useMemo(\r\n    () => generateVanillaDex(pokedex),\r\n    [pokedex]\r\n  );\r\n\r\n  const size = useWindowSize();\r\n  const isXSmall = isXS(size.width);\r\n\r\n  const { params } = match;\r\n  const activeId = params.id || FIRST_ID;\r\n  const activeMon = baseDex.get(activeId);\r\n\r\n  const { typeSourceId } = getUrlQueryStringAsObject(location);\r\n  const typeSourceMon = pokedex.get(typeSourceId) || activeMon;\r\n\r\n  const isFirst = activeId === FIRST_ID;\r\n  const isLast = activeId === lastId;\r\n\r\n  function changeActivePokemon(e) {\r\n    const newId = e.target.value;\r\n    history.push(`${Routes.base}${Routes.pokedex}/${newId}`);\r\n  }\r\n\r\n  if (!activeMon) {\r\n    return (\r\n      <div className=\"pokedex pokedex--not-found\">\r\n        <div className=\"pokedex__not-found-message\">\r\n          No Pokemon was found. Select a valid one below.\r\n        </div>\r\n        <SelectBox\r\n          id=\"active-pokemon\"\r\n          containerClassName=\"pokedex__options\"\r\n          text=\"Active Pokemon\"\r\n          value={activeId}\r\n          options={dexOptions}\r\n          onChange={changeActivePokemon}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const [backward, forward] = buildControlText(baseDex, dexOptions, activeId);\r\n  const evoOptions = generateEvolutionOptions(pokedex, activeMon, true);\r\n  const { devolves, evolves, megas, variants, forms } = evoOptions;\r\n\r\n  const hasDevolves = !!devolves.length;\r\n  const hasEvolves = !!evolves.length;\r\n  const hasMegas = !!megas.length;\r\n\r\n  function move(direction) {\r\n    const index = dexOptions.findIndex((x) => x.value === activeId);\r\n    const mon = dexOptions[index + direction];\r\n    history.push(`${Routes.base}${Routes.pokedex}/${mon.value}`);\r\n  }\r\n\r\n  return (\r\n    <div className=\"pokedex\">\r\n      <div className=\"pokedex__controls\">\r\n        <Button\r\n          className=\"pokedex__nav-button\"\r\n          title={backward.label}\r\n          aria-label={backward.label}\r\n          disabled={isFirst}\r\n          onClick={() => move(-1)}\r\n        >\r\n          <span aria-hidden=\"true\">{isFirst ? '' : backward.text}</span>\r\n        </Button>\r\n        {!isXSmall && (\r\n          <SelectBox\r\n            id=\"active-pokemon\"\r\n            containerClassName=\"pokedex__options\"\r\n            text=\"Active Pokemon\"\r\n            value={activeId}\r\n            options={dexOptions}\r\n            onChange={changeActivePokemon}\r\n          />\r\n        )}\r\n        <Button\r\n          className=\"pokedex__nav-button\"\r\n          title={forward.label}\r\n          aria-label={forward.label}\r\n          disabled={isLast}\r\n          onClick={() => move(1)}\r\n        >\r\n          <span aria-hidden=\"true\">{isLast ? '' : forward.text}</span>\r\n        </Button>\r\n        {isXSmall && (\r\n          <SelectBox\r\n            id=\"active-pokemon\"\r\n            containerClassName=\"pokedex__options\"\r\n            text=\"Active Pokemon\"\r\n            value={activeId}\r\n            options={dexOptions}\r\n            onChange={changeActivePokemon}\r\n          />\r\n        )}\r\n      </div>\r\n      {activeMon && <TeamMember data={activeMon} />}\r\n      <div className=\"pokedex__information pokemon-information\">\r\n        <MkoList className=\"pokemon-information__block pokemon-information__block--large evolution-tree\">\r\n          {hasDevolves && (\r\n            <li>\r\n              <List\r\n                className=\"evolution-tree__list\"\r\n                columns={1}\r\n                items={devolves}\r\n                itemTemplate={([_, item]) => (\r\n                  <PokedexMember\r\n                    key={item.id}\r\n                    data={item}\r\n                    currentPath={match.url}\r\n                  />\r\n                )}\r\n              />\r\n            </li>\r\n          )}\r\n          {hasDevolves && (\r\n            <li className=\"evolution-tree__arrow\" aria-label=\"Evolves to\" />\r\n          )}\r\n          <li>\r\n            <List\r\n              className=\"evolution-tree__list\"\r\n              columns={1}\r\n              items={distinct('id', merge(variants, forms))}\r\n              itemTemplate={(item) => (\r\n                <PokedexMember\r\n                  key={item.id}\r\n                  data={item}\r\n                  currentPath={match.url}\r\n                />\r\n              )}\r\n            />\r\n          </li>\r\n          {hasEvolves && (\r\n            <li className=\"evolution-tree__arrow\" aria-label=\"Evolves to\" />\r\n          )}\r\n          {hasEvolves && (\r\n            <li>\r\n              <List\r\n                className=\"evolution-tree__list\"\r\n                columns={1}\r\n                items={evolves}\r\n                itemTemplate={([_, item]) => (\r\n                  <PokedexMember\r\n                    key={item.id}\r\n                    data={item}\r\n                    currentPath={match.url}\r\n                  />\r\n                )}\r\n              />\r\n            </li>\r\n          )}\r\n          {hasMegas && (\r\n            <li className=\"evolution-tree__megas\">\r\n              <List\r\n                className=\"evolution-tree__list\"\r\n                columns={1}\r\n                items={megas}\r\n                itemTemplate={([_, item]) => (\r\n                  <PokedexMember\r\n                    key={item.id}\r\n                    data={item}\r\n                    currentPath={match.url}\r\n                  />\r\n                )}\r\n              />\r\n            </li>\r\n          )}\r\n        </MkoList>\r\n        <section className=\"pokemon-information__block pokemon-information__block--column\">\r\n          <header>\r\n            <h2 className=\"pokemon-information__title\">\r\n              {capitaliseEachWord(\r\n                `${typeSourceMon.name}${\r\n                  typeSourceMon.form\r\n                    ? ` (${capitaliseEachWord(typeSourceMon.form)})`\r\n                    : ''\r\n                } type breakdown`\r\n              )}\r\n            </h2>\r\n          </header>\r\n          <TeamBreakdown\r\n            className=\"pokedex-breakdown\"\r\n            contentClassName=\"pokedex-breakdown__content\"\r\n            alwaysOpen\r\n            filterZeroes\r\n            typeBreakdownOnly\r\n            teamName={typeSourceMon.name}\r\n            members={new Map([[typeSourceMon.id, typeSourceMon]])}\r\n          />\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pokedex;\r\n","import { iterateMapToArray, capitaliseEachWord } from 'utils/common';\r\nimport {\r\n  isMegaPokemon,\r\n  isVariantPokemon,\r\n  isAltFormPokemon\r\n} from 'utils/derivedData';\r\n\r\nexport default function generateVanillaDex(dex) {\r\n  const values = iterateMapToArray(dex);\r\n  const basePokemon = values.filter(\r\n    (x) => !(isMegaPokemon(x) || isVariantPokemon(x) || isAltFormPokemon(x))\r\n  );\r\n\r\n  let lastId = 0;\r\n  const baseDex = basePokemon.reduce((p, c) => {\r\n    const id = c.id;\r\n    lastId = id;\r\n    return p.set(id, c);\r\n  }, new Map([]));\r\n\r\n  return {\r\n    baseDex,\r\n    dexOptions: iterateMapToArray(baseDex).map((x) => ({\r\n      value: x.id,\r\n      text: `${capitaliseEachWord(x.name)} (#${x.nationalPokedexNumber})`\r\n    })),\r\n    lastId\r\n  };\r\n}\r\n","import { capitaliseEachWord } from 'utils/common';\r\n\r\nexport default function buildControlText(dex, dexOptions, activeId) {\r\n  const index = dexOptions.findIndex((x) => x.value === activeId);\r\n\r\n  return [-1, 1].map((direction) => {\r\n    const data = dexOptions[index + direction];\r\n\r\n    if (!data) {\r\n      return { label: 'End of pokedex', text: '' };\r\n    }\r\n\r\n    const mon = dex.get(data.value);\r\n\r\n    const isPre = direction < 0;\r\n    const pref = isPre ? '< ' : '';\r\n    const suff = isPre ? '' : ' >';\r\n\r\n    const npn = mon.nationalPokedexNumber;\r\n    const monName = capitaliseEachWord(mon.name);\r\n\r\n    const text = `${pref}#${npn} - ${monName}${suff}`;\r\n    const label = `Go to #${npn}, ${monName}`;\r\n\r\n    return { label, text };\r\n  });\r\n}\r\n","import Strings from 'constants/strings';\r\nimport { capitaliseEachWord } from 'utils/common';\r\n\r\nconst TEAMS = 'teams';\r\nconst SETTINGS = 'settings';\r\nconst POKEDEX = 'pokedex';\r\n\r\nexport default function getPageTitleForCurrentPath(pathname, search) {\r\n  const path = `${pathname}${search}`;\r\n\r\n  let key = 'planner';\r\n\r\n  if (path.includes(TEAMS)) {\r\n    key = path.includes('Trainer') ? 'trainerTeams' : 'savedTeams';\r\n  } else if (path.includes(SETTINGS)) {\r\n    key = 'settings';\r\n  } else if (path.includes(POKEDEX)) {\r\n    key = 'pokedex';\r\n  }\r\n\r\n  const pageHeader = capitaliseEachWord(Strings.pageTitle[key]);\r\n  return {\r\n    pageTitle: pageHeader,\r\n    pageHeader: pageHeader.replace('Pokmon ', ''),\r\n    pageDescription: Strings.pageDescription[key]\r\n  };\r\n}\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport { Alert, AppInformation, useGlobalStyles } from 'mko';\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport AppHelmet from 'components/Helmet';\r\nimport HeaderBar from 'components/HeaderBar';\r\nimport AlertContainer from 'components/AlertContainer';\r\nimport Footer from 'components/Footer';\r\nimport EasterEgg from 'components/EasterEgg';\r\nimport TeamPlanner from 'views/TeamPlanner';\r\nimport TeamViewer from 'views/TeamViewer';\r\nimport Settings from 'views/Settings';\r\nimport Pokedex from 'views/Pokedex';\r\n\r\nimport Routes from 'constants/routes';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport { constructPokedex, getTypeMatchups } from 'data';\r\nimport { settingsStore } from 'utils/common';\r\nimport logData from 'utils/logData';\r\nimport getPageTitleForCurrentPath from 'utils/getPageTitle';\r\n\r\nconst BRANCH = process.env.REACT_APP_BRANCH;\r\nconst VERSION = process.env.REACT_APP_VERSION;\r\n\r\nconst systemMessages = [];\r\n\r\nfunction App({ match, location }) {\r\n  useGlobalStyles();\r\n\r\n  const [{ pokedex, regions }] = useState(constructPokedex());\r\n  const [typeMatchups] = useState(getTypeMatchups());\r\n  const [userMessages, setUserMessages] = useState(systemMessages);\r\n\r\n  const { pathname, search } = location;\r\n  const { pageTitle, pageHeader, pageDescription } = useMemo(\r\n    () => getPageTitleForCurrentPath(pathname, search),\r\n    [pathname, search]\r\n  );\r\n\r\n  const settings = settingsStore.get();\r\n  const messages = userMessages.filter(\r\n    (x) => !settings.readMessages.includes(x.id)\r\n  );\r\n  const hasMessages = messages.length > 0;\r\n\r\n  logData({ pokedex, regions, typeMatchups });\r\n\r\n  return (\r\n    <PokedexContext.Provider value={{ pokedex, regions }}>\r\n      <TypeContext.Provider value={typeMatchups}>\r\n        <div className=\"theme theme--default\">\r\n          <AppHelmet title={pageTitle} description={pageDescription} />\r\n          <HeaderBar pageTitle={pageHeader} />\r\n          {hasMessages && (\r\n            <Alert\r\n              messageClassName=\"lusamine-alert\"\r\n              alerts={messages}\r\n              actions={{\r\n                dismissAlertMessage: (messageId) => {\r\n                  setUserMessages([]);\r\n                  const settings = settingsStore.get();\r\n                  settingsStore.set({\r\n                    readMessages: [...settings.readMessages, messageId]\r\n                  });\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n          <EasterEgg />\r\n          <AlertContainer>\r\n            {(triggerAlert) => (\r\n              <main>\r\n                <Switch>\r\n                  <Route\r\n                    path={`${match.url}${Routes.teams}`}\r\n                    component={TeamViewer}\r\n                  />\r\n                  <Route\r\n                    path={`${match.url}${Routes.settings}`}\r\n                    component={Settings}\r\n                  />\r\n                  <Route\r\n                    path={`${match.url}${Routes.pokedex}/:id?`}\r\n                    component={Pokedex}\r\n                  />\r\n                  <Route\r\n                    path={`${match.url}/:pokedexKey?`}\r\n                    render={(props) => (\r\n                      <TeamPlanner {...props} sendAlert={triggerAlert} />\r\n                    )}\r\n                  />\r\n                  <Route\r\n                    path=\"*\"\r\n                    render={(props) => (\r\n                      <div>\r\n                        <AppHelmet\r\n                          title=\"Page not found\"\r\n                          description=\"Unknown route\"\r\n                        />\r\n                        <p>Page not found</p>\r\n                        <p>You appear lost...</p>\r\n                        <ButtonisedNavLink to={match.url} link>\r\n                          Return to the homepage\r\n                        </ButtonisedNavLink>\r\n                      </div>\r\n                    )}\r\n                  />\r\n                </Switch>\r\n              </main>\r\n            )}\r\n          </AlertContainer>\r\n          <Footer />\r\n          <AppInformation branch={BRANCH} version={VERSION} />\r\n        </div>\r\n      </TypeContext.Provider>\r\n    </PokedexContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export default function logData({ pokedex, regions, typeMatchups }) {\r\n  console.groupCollapsed('App Data');\r\n  console.log('%c pokedex', 'color: royalblue', pokedex);\r\n  console.log('%c regions', 'color: firebrick', regions);\r\n  console.log('%c types', 'color: forestgreen', typeMatchups);\r\n  console.groupEnd();\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import art from 'assets/art.webp';\r\nimport sprites from 'assets/sprites.webp';\r\nimport types from 'assets/types.webp';\r\n\r\nfunction preload(url) {\r\n  const img = new Image();\r\n  img.src = url;\r\n}\r\n\r\nexport default function preloadImages() {\r\n  [art, sprites, types].forEach(preload);\r\n}\r\n","function getElement(selector) {\r\n  const el = document.getElementById(selector);\r\n  if (!el) {\r\n    console.warn(`${selector} not found.`);\r\n  }\r\n\r\n  return el;\r\n}\r\n\r\nconst clickOn = (selector) => () => {\r\n  const el = getElement(selector);\r\n  el && el.click();\r\n};\r\n\r\nexport default {\r\n  navigate: {\r\n    planner: clickOn('planner'),\r\n    teams: clickOn('teams'),\r\n    settings: clickOn('settings'),\r\n    pokedex: clickOn('pokedex')\r\n  },\r\n  planner: {\r\n    randomise: clickOn('randomise-team'),\r\n    save: clickOn('save-team'),\r\n    clear: clickOn('clear-team'),\r\n    toggleBreakdown: clickOn('toggle-breakdown'),\r\n    add: (id) => clickOn(`sprite-${id}`)(),\r\n    remove: (id) => {\r\n      const baseUrl = `${window.location.origin}${window.location.pathname}`;\r\n      const newSearch = window.location.search\r\n        .replace(id, '')\r\n        .replace(',,', ',')\r\n        .replace('=,', '=');\r\n\r\n      window.location.href = `${baseUrl}${newSearch}`;\r\n    }\r\n  },\r\n  settings: {\r\n    toggleCanDnD: clickOn('can-dnd')\r\n  }\r\n};\r\n","import './styles/index.scss';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport App from 'components/App';\r\nimport Routes from 'constants/routes';\r\n\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport preloadImages from './preloadImages';\r\nimport Driver from './driver';\r\n\r\npreloadImages();\r\nwindow.Lusamine = Driver;\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Switch>\r\n      <Redirect exact from=\"/\" to={Routes.base} />\r\n      <Route path={Routes.base} component={App} />\r\n    </Switch>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}