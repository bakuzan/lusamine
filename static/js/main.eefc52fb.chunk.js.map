{"version":3,"sources":["assets/pokemon-opening.ogg","assets/pokeball.png","assets/art.webp","assets/sprites.webp","assets/types.webp","components/Buttons/index.js","components/Helmet.js","constants/routes.js","utils/media.js","components/HeaderBar/NavigationMenu.js","components/HeaderBar/index.js","components/AlertContainer.js","components/Footer/index.js","hooks/useKonami.js","components/EasterEgg/index.js","constants/strings.js","constants/pokedex.js","components/Filters/index.js","constants/dndType.js","components/DragAndDrop/Target.js","components/DragAndDrop/Source.js","components/DragAndDrop/supportsTouch.js","components/List.js","context/index.js","components/TypeBlock/index.js","components/TeamBreakdownPanel/TeamBreakdownPanelUtils.js","components/TeamBreakdownPanel/EffectiveTypePanel.js","constants/settings.js","utils/common.js","components/TeamBreakdownPanel/StatPanel.js","constants/generations.js","constants/evolutions.js","components/TeamBreakdown/TeamBreakdownUtils.js","components/TeamBreakdown/index.js","utils/selectors.js","components/ArtCard/index.js","constants/orders.js","constants/party.js","data/idGenerators.js","constants/types.js","constants/regions.js","constants/index.js","utils/derivedData.js","utils/lists.js","utils/generateEvolutionOptions/helpers.js","utils/generateEvolutionOptions/getEvolves.js","utils/generateEvolutionOptions/getDevolves.js","utils/generateEvolutionOptions/getMegaTransitions.js","utils/generateEvolutionOptions/index.js","components/TeamMember/index.js","components/DragAndDrop/index.js","components/Team/index.js","views/TeamPlanner/TeamPlannerUtils.js","components/Sprite/index.js","hooks/useDimensions.js","views/TeamPlanner/TeamPlannerGrid.js","views/TeamPlanner/index.js","utils/feedback.js","components/TeamViewerMessage/index.js","views/TeamViewer/utils.js","views/TeamViewer/SavedTeams.js","data/mappers.js","constants/idPrefixes.js","utils/sorters.js","data/transformers.js","data/index.js","views/TeamViewer/TrainerTeams.js","views/TeamViewer/index.js","views/Settings.js","views/Pokedex/PokedexMember.js","views/Pokedex/index.js","views/Pokedex/generateVanillaDex.js","views/Pokedex/buildControlText.js","components/Table/index.js","views/TeamStatistics/StatsTable.js","views/TeamStatistics/PokemonContent.js","utils/groupBy.js","views/TeamStatistics/calculateCounts.js","views/TeamStatistics/index.js","utils/getPageTitle.js","components/App.js","utils/logData.js","registerServiceWorker.js","preloadImages.js","driver.js","index.js","components/ScrollToTop.js","assets/logo.png","assets/pokemon-opening.mp3"],"names":["module","exports","Button","className","isAction","props","classNames","IconButton","ClearButton","icon","Icons","cross","ArrowButton","help","unrounded","aria-label","title","LeftButton","left","RightButton","right","UpButton","up","DownButton","down","ButtonisedNavLink","withButtonisation","LusHelmet","description","titleTemplate","name","content","displayName","Object","freeze","base","teams","savedTeams","trainerTeams","lusamineTeam","teamStatistics","settings","pokedex","media","Map","n","isXS","get","teamsUrl","Routes","pokedexUrl","settingsUrl","NavigationLinks","onItemClick","Fragment","key","id","exact","to","onClick","nano","put","padding","NavigationMenu","size","useWindowSize","width","align","closeMenu","HeaderBar","React","memo","pageTitle","isPageScrolled","useScrollPosition","headerClasses","leftAlignTitle","navLeft","alt","src","Logo","navRight","AlertContainer","Component","constructor","super","this","state","alerts","timer","handleTriggeredAlert","bind","handleDismiss","alert","setState","clearTimeout","setTimeout","length","alertId","prev","filter","x","render","actions","dismissAlertMessage","messageClassName","children","currentYear","Date","getFullYear","Footer","href","konami","EasterEgg","isPlaying","setPlaying","useState","show","setShow","usedKonamiCode","reset","queue","setQueue","useEffect","listeners","createListeners","e","code","includes","p","listen","remove","queueLastTen","slice","every","i","useKonami","htmlFor","controls","autoPlay","onPlay","onPause","mp3","type","ogg","btnStyle","emptyList","large","small","idPrefix","regular","mega","variant","empty","typeBreakdown","weakTo","resists","unaffectedBy","savedTeamsStorage","settingsStorage","planner","pageDescription","scoreModifier","none","low","medium","high","Pokedex","national","kanto","new","johto","hoenn","hoenn_oras","sinnoh","sinnoh_pt","unova","unova_n","kalos","alola","alola_u","galar","pokedexOptions","keys","map","k","value","text","capitaliseEachWord","Filters","hideOnCertainScreens","hiddenOn","shouldHide","pokedexProps","options","containerClassName","searchProps","label","placeholder","generationProps","typeProps","resistsProps","evolutionsProps","includeMegaProps","includeVariantsProps","startersOnlyProps","teamMember","memberTarget","hover","monitor","component","data","dragItem","index","dragIndex","getItem","hoverItem","hoverIndex","canDrop","hoverBoundingRect","findDOMNode","getBoundingClientRect","hoverMiddleX","hoverClientX","getClientOffset","moveDnD","isEmpty","withDropTarget","DropTarget","DnDType","connect","connectDropTarget","dropTarget","isOver","memberSource","beginDrag","canDrag","withDragSource","DragSource","connectDragSource","dragSource","connectDragPreview","dragPreview","isDragging","isTouchDevice","window","confirmed","navigator","maxTouchPoints","msMaxTouchPoints","document","getElementsByTagName","classList","add","List","items","itemTemplate","hasItems","Strings","PokedexContext","createContext","TypeContext","TypeBlock","center","defaultProps","getScoreModifier","num","EffectiveTypeBreakdownPanel","types","panelModifier","onMouseState","listOfMemberIds","values","reduce","t","ids","memberIds","score","typeStatusClass","modifier","TBPU","mod","typeName","separateAndCapitalise","mouseState","aria-hidden","readMessages","canDragAndDrop","canUseArrows","canEvolve","enableSpriteScrollbox","defaultPokedex","getUrlQueryStringAsObject","location","search","constructObjectFromSearchParams","createIdStringFromSet","idSet","newValue","Set","combineValuesIntoSet","Array","from","join","createSetFromIdString","str","split","iterateMapToArray","m","iterateKeysToArray","moveToNewArrayPosition","arr","list","splice","arrayMove","teamsStore","Store","upgrade","teamKeys","some","isString","generateUniqueId","idString","settingsStore","SETTINGS_DEFAULTS","selectMembersFromPokedex","dex","d","StatBreakdownPanel","nameSource","sort","shouldWrap","columns","gen1","gen2","gen3","gen4","gen5","gen6","gen7","gen8","leveling","levelingHighFriendship","levelingWithMove","levelingAtLocation","levelingAtTime","levelingWithItem","levelingGender","levelingGame","levelingUniqueCondition","levelingAdditionalFactor","stone","stoneGender","trade","tradeWithItem","tradeForPokemon","EvolutionForms","notEvolved","fullyEvolved","evolvesToMatchedForm","excludeAltForm","withFilterZeroes","filterZeroes","filteredEntries","entries","iterateMapToArrayEntries","_","buildGenerationCounts","members","genCounts","result","mem","has","generation","set","buildEvolutionFormCounts","counts","evolutions","TeamBreakdown","isCollapsed","uniqueId","handleToggle","handleMouseEnterLeave","context","contentClassName","alwaysOpen","typeBreakdownOnly","teamId","renderNonTypes","noMembers","enableToggle","showContent","breakdownDescription","onMouseEnter","onMouseLeave","statCounts","getKeyName","val","getKeyByValue","Generations","separateAndCapitaliseAll","TBU","weaknessCounts","typesMapEmpty","memberTypeIds","c","typeIds","unaffectedCounts","weakCounts","resistCounts","maps","unaffectedIds","tId","weakIds","resistsIds","v","u","w","r","goodCountModifier","aria-describedby","teamName","disabled","item","effectiveBreakdownTitle","effectiveTypePanelLabel","EffectiveTypePanel","contextType","constructNameClass","form","pokemonName","replace","constructNameClassForSprite","constructNameClassForArtCard","constructTypeClasses","indexToText","trim","constructTypeClassesForSprite","constructTypeClassesForArtCard","ArtCard","containerClass","backgroundPosition","artPosition","artCardClasses","buildSelectorsForArtCard","style","moveLeft","moveRight","moveUp","moveDown","MAX_SIZE","START_INDEX","END_INDEX","defaultIdSuffix","o","nationalPokedexNumber","constructId","fn","dataMap","obj","generatePokemonId","generateVariantPokemonId","regionId","generateMegaPokemonId","suffix","normal","grass","fire","water","fighting","flying","poison","ground","rock","bug","ghost","electric","psychic","ice","dragon","dark","steel","fairy","Types","Regions","Evolutions","Party","Constants","getGeneration","dexNum","createEmptyPokemon","generateEmptyPokemonId","generateEmptySlots","emptySlots","fill","checkPokemonId","check","mon","startsWith","isMegaPokemon","isVariantPokemon","isAltFormPokemon","isNotBasePokemon","isTrainerTeamMember","getIdParts","isVariantRegionMatch","p1","p2","matchForms","r1","f1","r2","f2","hasForm","merge","a","distinct","b","findIndex","orderKeys","formsForNPN","mons","npn","getEvolves","exhaustive","baseEvolutions","pokemon","isVariant","hasAForm","regionals","otherEvos","evolvesTo","hasRegional","evolves","vs","hasV","xMons","push","initial","forms","includeForms","orderBy","getDevolves","isExcludeAltForm","rSuff","rNumSuff","dexAsArray","devolves","nonVariantMatch","variantMatch","rnSuff","resolveVariantId","matchedFormCondition","hasEvolutionCondition","getMegaTransitions","isMega","pkmId","generateEvolutionOptions","megas","variants","asList","count","TeamMember","forwardRef","ref","partyEndIndex","isHighlighted","move","evolve","useContext","memberId","displayEvolveMenu","setDisplayEvolveMenu","hasData","hasCustomActions","renderCustomActions","canRemove","canReOrder","isFirst","isLast","useMemo","disableEvolve","fullName","evolveTarget","idSource","Orders","pokeball","height","TeamMemberDraggable","WrappedComponent","PlaceholderComponent","DragAndDropWrapper","instance","element","withDragAndDrop","DNDBackend","TouchBackend","HTML5Backend","highlightDefaultState","dataType","dataId","Team","PureComponent","emptyMembers","highlight","handleMemberRemove","handleMemberMove","handleMemberEvolve","handleMemberDnD","handleMouseState","nextProps","prevState","padPartyToSixMembers","emptys","delete","onMembersUpdate","direction","oldIndex","newOrderMembers","fromValue","swapArrayPositions","evolveToId","newMembers","highlightMembers","lastMemberIndex","removeMember","evolveMember","moveMember","moveMemberDnD","Member","DndProvider","backend","applyDexFilters","filters","typeMatches","currentTeamIds","generations","includeMega","includeVariants","startersOnly","isStarter","padStart","resistsForType","pEvolutions","evolutionFilters","isExcludedEvolutionType","iteratePokedexToList","regions","dexKey","activePokedex","region","formSuffix","acc","getAllEnumValues","getEnumOptions","generationOptions","capitalise","generationDefaults","typeOptions","typeDefaults","evolutionOptions","evolutionDefaults","Sprite","spritePosition","spriteId","spriteClasses","buildSelectorsForSprite","hasClick","spriteClick","capitalisedName","contentId","usePosition","attachTo","delay","aria-labelledby","useDimensions","dimensions","setDimensions","node","setNode","useCallback","useLayoutEffect","measure","requestAnimationFrame","removeResize","event","cb","addEventListener","removeEventListener","FALLBACK_WIDTH","TeamPlannerGrid","itemsCount","columnCount","Math","floor","rowCount","ceil","matrix","chunk","position","overflowX","columnWidth","rowHeight","columnIndex","rowIndex","resolvePokedex","params","pokedexKey","getKey","PlannerPage","currentTeamName","TPU","handleNameInput","handleSearchInput","handleMultiSelectFilter","handleTickboxFilter","handleSpriteSelection","handleMembersUpdate","handleClearTeam","handleRandomTeam","handleSaveTeam","handleChangePokedex","updateTeamQueryString","newId","history","idStr","pathname","target","toLowerCase","checked","team","sendAlert","message","detail","membersIds","dexData","match","randomSetOfIds","randomTeam","randomIndex","random","selected","saveTeamData","toasterService","success","pokeData","dexFilters","filterProps","onChange","onUpdate","Consumer","filteredSprites","TeamViewerMessage","link","createTeamUrl","TeamViewer","loadedTeams","handleDeleteTeam","handleMoveTeam","componentDidMount","updatedTeams","teamIndex","TVU","teamCount","showTeamStatisticsLink","mapTypesToPokemon","find","mapEvolutionsToPokemon","mechanism","getIdPrefix","sortCombinedData","aId","bId","aNPN","bNPN","aPrefix","bPrefix","aEnum","IdPrefixes","bEnum","transformPokemonData","IdGenerators","starters","pokemonTypes","pokemonEvolutions","Mappers","transformMegaPokemonData","basePokemon","transformVariantPokemonData","regionName","reduceMapsToArray","combined","aMap","constructPokedex","mapper","combinedData","combineAndSortMaps","order","sy","sx","ay","ax","regionalVariants","johto_og","kalos_ce","kalos_co","kalos_mo","TrainerTeamViewer","customId","query","activeTab","tab","Container","url","View","isActive","SavedTeams","TrainerTeams","Settings","handleUserInput","handleSelectChange","PokedexMember","currentPath","baseDex","dexOptions","lastId","generateVanillaDex","isXSmall","activeId","activeMon","typeSourceId","typeSourceMon","changeActivePokemon","backward","forward","isPre","pref","suff","monName","buildControlText","evoOptions","hasDevolves","hasEvolves","hasMegas","Table","headers","hovered","striped","StatsTable","COLLAPSED_PROPS","EXPANDED_PROPS","PokemonContent","isExpanded","onToggle","hasToggle","expandProps","defaultGetter","groupBy","keyGetter","forEach","collection","mapToSortedArray","__","calculateCounts","allTeamPokemon","flatMap","combineTeamPokemon","totalPokemonCount","groupedPokemon","evolutionForms","separateEvolutionForms","TeamStatistics","typesData","expandedPokemonRow","setExpandedPokemon","teamsCount","displayViewerMessage","pokemonSublist","expanded","subKey","subP","RouteKeyWords","systemMessages","App","useGlobalStyles","typeMatchups","userMessages","setUserMessages","pageHeader","path","getPageTitleForCurrentPath","messages","hasMessages","pkmWithForms","f","console","groupCollapsed","log","groupEnd","logData","Provider","messageId","triggerAlert","branch","process","version","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","preload","Image","clickOn","selector","el","getElementById","warn","getElement","click","navigate","randomise","save","clear","toggleBreakdown","baseUrl","origin","newSearch","toggleCanDnD","art","sprites","Lusamine","Driver","ReactDOM","useLocation","scrollTo","URL","fetch","response","status","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"yFAAAA,EAAOC,QAAU,IAA0B,6C,kBCA3CD,EAAOC,QAAU,0lF,wuzbCAjBD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,orBCSpC,MAAMC,EAAU,IAAD,IAAC,UAAEC,EAAF,SAAaC,GAAd,EAA2BC,EAA3B,+CACpB,kBAAC,SAAD,eACEF,UAAWG,IACT,kBACA,CAAE,0BAA2BF,GAC7BD,IAEEE,KAIKE,EAAc,IAAD,IAAC,UAAEJ,GAAH,EAAiBE,EAAjB,oCACxB,kBAAC,SAAD,eACEF,UAAWG,IAAW,kBAAmB,uBAAwBH,IAC7DE,KAIKG,EAAe,IAAD,IAAC,UAAEL,GAAH,EAAiBE,EAAjB,oCACzB,kBAACE,EAAD,eACEE,KAAMC,IAAMC,MACZR,UAAWG,IAAW,eAAgBH,IAClCE,KAIFO,EAAe,IAAD,IAAC,UAAET,EAAF,KAAaU,EAAb,UAAmBC,GAApB,EAAkCT,EAAlC,uDAClB,kBAACE,EAAD,eACEJ,UAAWG,IACT,eACA,CAAE,uBAAwBQ,GAC1BX,GAEFY,aAAYF,EACZG,MAAOH,GACHR,KAIKY,EAAcZ,GACzB,kBAACO,EAAD,iBAAiBP,EAAjB,CAAwBI,KAAMC,IAAMQ,KAAML,KAAK,eAGpCM,EAAed,GAC1B,kBAACO,EAAD,iBAAiBP,EAAjB,CAAwBI,KAAMC,IAAMU,MAAOP,KAAK,gBAGrCQ,EAAYhB,GACvB,kBAACO,EAAD,iBACMP,EADN,CAEEI,KAAMC,IAAMY,GACZnB,UAAU,mBACVU,KAAK,UACLC,WAAS,KAIAS,EAAclB,GACzB,kBAACO,EAAD,iBACMP,EADN,CAEEI,KAAMC,IAAMc,KACZrB,UAAU,qBACVU,KAAK,YACLC,WAAS,KAIAW,EAAoBC,4BAC9B,IAAD,IAAC,UAAEvB,GAAH,EAAiBE,EAAjB,oCACE,kBAAC,IAAD,eACEF,UAAWG,IAAW,uBAAwBH,IAC1CE,M,YC5EV,SAASsB,GAAU,MAAEX,EAAF,YAASY,IAC1B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQZ,MAAOA,EAAOa,cAAc,iBAClC,0BAAMC,KAAK,cAAcC,QAASH,MAM1CD,EAAUK,YAAc,YAMTL,Q,0ECpBAM,SAAOC,OAAO,CAC3BC,KAAM,YACNC,MAAO,SACPC,WAAY,mBACZC,aAAc,qBACdC,aAAc,+CACdC,eAAgB,mBAChBC,SAAU,YACVC,QAAS,aCRJ,MAAMC,EAAQ,IAAIC,IAAI,CAC3B,CAAC,SAAWC,GAAMA,EAAI,KACtB,CAAC,QAAUA,GAAMA,GAAK,KACtB,CAAC,QAAUA,GAAMA,EAAI,OAGVC,EAAOH,EAAMI,IAAI,UCQxBC,EAAQ,UAAMC,EAAOd,MAAb,OAAoBc,EAAOb,OACnCc,EAAU,UAAMD,EAAOd,MAAb,OAAoBc,EAAOP,SACrCS,EAAW,UAAMF,EAAOd,MAAb,OAAoBc,EAAOR,UAE5C,SAASW,GAAgB,YAAEC,IACzB,OACE,kBAAC,IAAMC,SAAP,KACE,kBAAC7B,EAAD,CACE8B,IAbQ,UAcRC,GAdQ,UAeRrD,UAAU,mBACVsD,OAAK,EACLC,GAAIT,EAAOd,KACXwB,QAASN,GANX,gBAUA,kBAAC5B,EAAD,CACE8B,IAtBQ,UAuBRC,GAvBQ,UAwBRrD,UAAU,mBACVuD,GAAIR,EACJS,QAASN,GALX,WASA,kBAAC5B,EAAD,CACE8B,IA9BM,QA+BNC,GA/BM,QAgCNrD,UAAU,mBACVuD,GAAIV,EACJW,QAASN,GALX,SASA,kBAAC5B,EAAD,CACE8B,IAtCS,WAuCTC,GAvCS,WAwCTrD,UAAU,mBACVuD,GAAIP,EACJQ,QAASN,GALX,aAiBNO,OAAKC,IAAI,iBAAkB,CACzBC,QAAS,QAsBIC,MAnBf,WACE,MAAMC,EAAOC,0BAEb,OAAInB,EAAKkB,EAAKE,OAEV,kBAAC,IAAD,CACEC,MAAM,QACN1D,KAfS,SAgBTM,aAfU,uBAgBVC,MAhBU,wBAkBRoD,GAAc,kBAAChB,EAAD,CAAiBC,YAAae,KAK7C,kBAAChB,EAAD,O,wBCjDMiB,MAxBGC,IAAMC,KAAK,EAAGC,gBAC9B,MAEMC,IAFuBC,8BAGvBC,EAAgBrE,IAAW,aAAc,CAC7C,4BAA6BmE,IAG/B,OACE,kBAAC,IAAD,CACEjB,GAAG,kBACHrD,UAAWwE,EACXC,gBAAc,EACd5D,MAAOwD,EACPK,QAAS,kBAAC,IAAD,CAAO1E,UAAU,OAAO2E,IAAI,kBAAeC,IAAKC,MACzDC,SAAU,kBAAC,EAAD,UCvBhB,MAAMC,WAAuBZ,IAAMa,UACjCC,YAAY/E,GACVgF,MAAMhF,GACNiF,KAAKC,MAAQ,CACXC,OAAQ,IAEVF,KAAKG,MAAQ,KAEbH,KAAKI,qBAAuBJ,KAAKI,qBAAqBC,KAAKL,MAC3DA,KAAKM,cAAgBN,KAAKM,cAAcD,KAAKL,MAG/CI,qBAAqBG,GACnBP,KAAKQ,SAAS,CAAEN,OAAQ,CAACK,IAAU,KACjCE,aAAaT,KAAKG,OAClBH,KAAKG,MAAQO,WAAW,KAClBV,KAAKC,MAAMC,OAAOS,QACpBX,KAAKQ,SAAS,CAAEN,OAAQ,MAEzB,OAIPI,cAAcM,GACZZ,KAAKQ,SAAUK,IAAD,CACZX,OAAQW,EAAKX,OAAOY,OAAQC,GAAMA,EAAE7C,KAAO0C,MAI/CI,SACE,MAAMC,EAAU,CACdC,oBAAqBlB,KAAKM,eAE5B,OACE,kBAAC,IAAMtC,SAAP,KACE,kBAAC,IAAD,CACEmD,iBAAiB,iBACjBjB,OAAQF,KAAKC,MAAMC,OACnBe,QAASA,IAEVjB,KAAKjF,MAAMqG,SAASpB,KAAKI,wBAUnBR,U,2BCjDf,MAAMyB,IAAc,IAAIC,MAAOC,cAkBhBC,OAhBAxC,IAAMC,KAAK,IACxB,4BAAQpE,UAAU,UAChB,mEAAmCwG,GAAnC,KACA,iDACsB,IACpB,kBAAC,KAAD,CAAYI,KAAK,oEAAjB,4BAIF,sDAC2B,IACzB,kBAAC,KAAD,CAAYA,KAAK,uCAAjB,W,oBCfN,MAAMzF,GAAK,UAML0F,GAAS,CAAC1F,GAAIA,GALP,wBACA,YACC,aADD,YACC,aACJ,OACA,Q,oDC+CK2F,OA9Cf,WACE,MAAOC,EAAWC,GAAcC,oBAAS,IAClCC,EAAMC,GAAWF,oBAAS,IAC1BG,EAAgBC,GDDlB,WACL,MAAOC,EAAOC,GAAYN,mBAAS,IAEnCO,oBAAU,KAUR,MAAMC,EAAYC,KAAgB,WATlC,SAAmBC,GACjB,MAAMC,EAAOD,EAAEC,KACXf,GAAOgB,SAASD,GAClBL,EAAUO,GAAM,IAAIA,EAAGF,IAEvBL,EAAS,MAIKG,GAGlB,OAFAD,EAAUM,SAEH,IAAMN,EAAUO,UACtB,IAEH,MAAMC,EAAeX,EAAMY,OAAO,IAClC,MAAO,CAACrB,GAAOsB,MAAM,CAACjC,EAAGkC,IAAMlC,IAAM+B,EAAaG,IAAK,IAAMb,EAAS,KCnBtCc,GAQhC,OANAb,oBAAU,KACJJ,IAAmBF,GACrBC,GAAQ,IAET,CAACD,EAAME,IAELF,EAKH,yBAAKlH,UAAU,cACb,yBAAKA,UAAU,sBACb,2BAAOA,UAAU,oBAAoBsI,QAAQ,cAA7C,UACMvB,EAAY,cAAgB,SADlC,oBAGA,2BACE1D,GAAG,aACHrD,UAAU,oBACVuI,UAAQ,EACRC,UAAQ,EACRC,OAAQ,IAAMzB,GAAW,GACzB0B,QAAS,IAAM1B,GAAW,IAE1B,4BAAQpC,IAAK+D,KAAKC,KAAK,cACvB,4BAAQhE,IAAKiE,KAAKD,KAAK,gBAG3B,kBAACvI,EAAD,CACEgD,GAAG,oBACHzC,aAAW,mBACXkI,SAAS,UACTtF,QAAS,KACP2D,GAAQ,GACRE,QA3BC,M,gICtBI,IACb0B,UAAW,+CAEXC,MAAO,QACPC,MAAO,QACPC,SAAU,CACRC,QAAS,IACTC,KAAM,IACNC,QAAS,IACTC,MAAO,KAETC,cAAe,CACbC,OAAQ,SACRC,QAAS,UACTC,aAAc,gBAEhBC,kBAAmB,aACnBC,gBAAiB,mBACjBvF,UAAW,CACTwF,QAAS,0BACT3H,WAAY,yBACZI,SAAU,WACVH,aAAc,2BACdI,QAAS,aACTF,eAAgB,yBAElByH,gBAAiB,CACfD,QACE,yFACF3H,WAAY,sCACZC,aAAc,uDACdG,SAAU,kCACVC,QAAS,4DACTF,eAAgB,sDAElB0H,cAAe,CACbC,KAAM,OACNC,IAAK,MACLC,OAAQ,SACRC,KAAM,S,QCrCH,MAAMC,GAAUtI,OAAOC,OAAO,CACnCsI,SAAU,WACVC,MAAO,QACPC,IAAK,MACLC,MAAO,QACPC,MAAO,QACPC,WAAY,aACZC,OAAQ,SACRC,UAAW,kBACXC,MAAO,QACPC,QAAS,YACTC,MAAO,QACPC,MAAO,QACPC,QAAS,cACTC,MAAO,UAGIC,GAAiBrJ,OAAOsJ,KAAKhB,IAASiB,IAAKC,IAAD,CACrDC,MAAOD,EACPE,KAAMC,8BAAmBrB,GAAQkB,O,OCkHpBI,OArHf,SAAiBxL,GACf,MAAMyL,IAAyBzL,EAAM0L,SAIrC,OAHmBpJ,EAAMI,IAAI1C,EAAM0L,SAG/BC,CAFS/H,0BAEOC,OACX,KAIP,6BACE/D,UAAWG,IAAW,UAAW,CAC/B,CAAC,oBAAD,OAAqBD,EAAM0L,WAAaD,KAG1C,kBAAC,KAAD,eACEtI,GAAG,iBACHmI,KAAK,kBACDtL,EAAM4L,aAHZ,CAIEC,QAASZ,GACTa,mBAAoB7L,IAtBA,qBAwBtB,kBAAC,KAAD,iBACMD,EAAM+L,YADZ,CAEE5I,GAAG,SACH6I,MAAM,SACNF,mBAAoB7L,IA5BA,qBA8BtB,kBAAC,KAAD,eACEkD,GAAG,cACH1B,KAAK,cACLwK,YAAY,uBACZD,MAAM,cACFhM,EAAMkM,gBALZ,CAMEpM,UAAWG,IApCS,qBAsCtB,kBAAC,KAAD,eACEkD,GAAG,QACH1B,KAAK,QACLwK,YAAY,iBACZD,MAAM,QACFhM,EAAMmM,UALZ,CAMErM,UAAWG,IA5CS,qBA8CtB,kBAAC,KAAD,eACEkD,GAAG,UACH1B,KAAK,UACLwK,YAAY,uBACZD,MAAM,WACFhM,EAAMoM,aALZ,CAMEtM,UAAWG,IApDS,qBAsDtB,kBAAC,KAAD,eACEkD,GAAG,aACH1B,KAAK,aACLwK,YAAY,2BACZD,MAAM,mBACFhM,EAAMqM,gBALZ,CAMEvM,UAAWG,IA5DS,qBA8DtB,kBAAC,KAAD,eACEkD,GAAG,cACH1B,KAAK,cACL6J,KAAK,iBACDtL,EAAMsM,iBAJZ,CAKER,mBAAoB7L,IAnEA,qBAqEtB,kBAAC,KAAD,eACEkD,GAAG,kBACH1B,KAAK,kBACL6J,KAAK,oBACDtL,EAAMuM,qBAJZ,CAKET,mBAAoB7L,IA1EA,qBA4EtB,kBAAC,KAAD,eACEkD,GAAG,eACH1B,KAAK,eACL6J,KAAK,iBACDtL,EAAMwM,kBAJZ,CAKEV,mBAAoB7L,IAjFA,uB,wCChBb2B,UAAOC,OAAO,CAC3B4K,WAAY,eCId,MAAMC,GAAe,CACnBC,MAAM3M,EAAO4M,EAASC,GACpB,IAAKA,EACH,OAAO,KAGT,MAAQC,KAAMC,EAAUC,MAAOC,GAAcL,EAAQM,WAC7CJ,KAAMK,EAAWH,MAAOI,GAAepN,EAE/C,GAAI+M,EAAS5J,KAAOgK,EAAUhK,KAAOyJ,EAAQS,UAC3C,OAGF,MAAMC,EAAoBC,sBAAYV,GAAWW,wBAE3CC,GAAgBH,EAAkBvM,MAAQuM,EAAkBzM,MAAQ,EAEpE6M,EADed,EAAQe,kBACK3H,EAAIsH,EAAkBzM,KAGpDoM,EAAYG,GAAcM,EAAeD,GACzCR,EAAYG,GAAcM,EAAeD,IAE7CzN,EAAM4N,QAAQX,EAAWG,GAGzBR,EAAQM,UAAUF,MAAQI,IAE5BC,QAAQrN,IACEA,EAAM8M,KAAKe,SAiBRC,OALQC,aACrBC,GAAQvB,WACRC,IAVF,SAAuBuB,EAASrB,GAC9B,MAAO,CACLsB,kBAAmBD,EAAQE,aAC3BC,OAAQxB,EAAQwB,SAChBf,QAAST,EAAQS,c,UCtCrB,MAAMgB,GAAe,CACnBC,UAAUtO,GACD,gBAAKA,GAEduO,QAAQvO,IACEA,EAAM8M,KAAKe,SAiBRW,OALQC,aACrBT,GAAQvB,WACR4B,IAVF,SAAuBJ,EAASrB,GAC9B,MAAO,CACL8B,kBAAmBT,EAAQU,aAC3BC,mBAAoBX,EAAQY,cAC5BC,WAAYlC,EAAQkC,iBCbT,SAASC,KACtB,GAJyB,qBAAXC,OAIG,CACf,IAAIC,EACF,iBAAkBD,QAClBE,UAAUC,eAAiB,GAC3BD,UAAUE,iBAAmB,EAE/B,GAAIH,EACSI,SAASC,qBAAqB,QAAQ,GAC5CC,UAAUC,IAAI,eAGrB,OAAOP,EAGT,OAAO,E,wBCYMQ,OAzBD,IAAuC,IAAvC,MAAEC,EAAF,aAASC,GAA6B,EAAZ3P,EAAY,wCAClD,MAAM4P,EAAWF,EAAM9J,OAAS,EAEhC,OACE,kBAAC,KAAY5F,GACT4P,GAAY,wBAAI1M,IAAI,QAAQ2M,GAAQhH,WACrC+G,GAAYF,EAAMvE,IAAIwE,KCVtB,MAAMG,GAAiB7L,IAAM8L,gBACvBC,GAAc/L,IAAM8L,gB,gCCGjC,MAAME,GAAYhM,IAAMC,MAAK,SAAmBlE,GAC9C,OACE,yBACEF,UAAWG,IAAW,OAAD,gBAAkBD,EAAMqL,OAAS,CACpD,eAAgBrL,EAAMkQ,SAExBxP,aAAA,gBAAqBV,EAAMqL,YAKjC4E,GAAUE,aAAe,CACvBD,QAAQ,GAQKD,UCvBR,MAEDG,GAAoBC,GACvBA,EAEGA,EAAM,EACNR,GAAQhG,cAAcE,IACtBsG,EAAM,EACNR,GAAQhG,cAAcG,OACtB6F,GAAQhG,cAAcI,KALtB4F,GAAQhG,cAAcC,K,OCyEbwG,OAtEf,UAAqC,GACnCnN,EADmC,KAEnC2J,EAFmC,MAGnCyD,EAHmC,cAInCC,EAJmC,aAKnCC,EAAe,KAEf,MAAMC,EAAkB,IAAIH,EAAMI,UAAUC,OAAO,CAAChJ,EAAGiJ,KACrD,MAAMC,EAAMhE,EAAKpK,IAAImO,EAAE1N,IACvB,OAAK2N,EAGE,IAAIlJ,EAAG,CAACiJ,EAAGC,IAFTlJ,GAGR,IAEH,OACE,kBAAC,KAAD,CACE9H,UAAWG,IAAW,kBAAmB,CACvC,CAAC,4BAAD,OAA6BuQ,KAAkB,EAC/C,yBAAuD,IAA3BE,EAAgB9K,SAE9C8J,MAAOgB,GAEN,EAAEG,EAAGE,MACJ,MAAMC,EAAQD,EAAUnL,OAClBqL,EDrBP,SAA0BZ,GAC/B,MAAMa,EAAWd,GAAiBC,GAClC,MAAM,GAAN,OAbkC,wBAalC,aAAmCa,GCmBLC,CAAsBH,GACxCrQ,EDjBP,SAA6ByQ,EAAKJ,GACvC,MAAME,EAAWd,GAAiBY,GAClC,MAAM,mBAAN,OAA0BI,EAA1B,2BAAgDF,GCe5BC,CAAyBX,EAAeQ,GAChDhF,EDbP,SAAuBqF,EAAUL,GACtC,MAAME,EAAWd,GAAiBY,GAClC,MAAM,GAAN,OAAUM,iCAAsBD,GAAhC,mBAAoDH,EAApD,KCWoBC,CAAmBN,EAAEpP,KAAMuP,GACnCO,EAAa3P,OAAOsJ,KAAKuF,GAAcG,OAC3C,CAAChJ,EAAGwD,IAAJ,gBAAgBxD,EAAhB,CAAmB,CAACwD,GAAI,IAAMqF,EAAarF,GAAGjI,EAAI0N,EAAE1N,GAAI4N,KACxD,IAGF,OACE,sCACE7N,IAAK2N,EAAE1N,GACPrD,UAAWG,ID3Ca,wBC6CtB,2BACAgR,GAEFtQ,MAAOA,EACPD,aAAYsL,GACRuF,GAEJ,kBAAC,GAAD,CAAWlG,MAAOwF,EAAEpP,OACpB,yBACE3B,UAAWG,IAAW,0BACtBS,aAAA,UAAesQ,EAAf,aAEA,0BAAMQ,eAAa,GAAOR,Q,6DC5DzBpP,UAAOC,OAAO,CAC3B4P,aAAc,GACdC,gBAAgB,EAChBC,cAAc,EACdC,WAAW,EACXC,uBAAuB,EACvBC,eAAgB,aCIX,SAASC,GAA0BC,GACxC,OAAKA,EAASC,OAIPC,KAAgCF,EAASC,QAHvC,GAWJ,SAASE,GAAsBC,EAAOC,GAC3C,MAAM1B,EAND,SAA8ByB,EAAOC,GAC1C,MAAMvB,EAAM,IAAIsB,GACVzB,EAAS0B,EAAW,IAAIvB,EAAKuB,GAAYvB,EAC/C,OAAO,IAAIwB,IAAI3B,GAGA4B,CAAqBH,EAAOC,GAC3C,OAAOG,MAAMC,KAAK9B,GAAQ+B,KAAK,KAG1B,MAAMC,GAAwB,CAACC,EAAM,KAC1CA,EAAM,IAAIN,IAAIM,EAAIC,MAAM,MAAQ,IAAIP,IAAI,IAE7BQ,GAAqBC,GAAMP,MAAMC,KAAKM,EAAEpC,UACxCqC,GAAsBD,GAAMP,MAAMC,KAAKM,EAAE7H,QAc/C,MAAM+H,GAAyB,CAACC,EAAKT,EAAMpP,KAChD,MAAM8P,EAAOD,EAAIlL,MAAM,GAEvB,OANF,SAAmBhC,EAAGyM,EAAMpP,GAC1B2C,EAAEoN,OAAO/P,EAAK,EAAI2C,EAAEJ,OAASvC,EAAKA,EAAI,EAAG2C,EAAEoN,OAAOX,EAAM,GAAG,IAI3DY,CAAUF,EAAMV,EAAMpP,GACf8P,GAGIG,GAAa,IAAIC,KAAM1D,GAAQpG,kBAAmB,IAC/D6J,GAAWE,QAASzR,IAClB,GAAkC,IAA9BH,OAAOsJ,KAAKnJ,GAAO6D,OACrB,MAAO,GAGT,MAAM6N,EAAW7R,OAAOsJ,KAAKnJ,GAE7B,OADuB0R,EAASC,KAAMtI,GAAMuI,KAAS5R,EAAMqJ,KAElDqI,EAAS7C,OAAO,CAAChJ,EAAGwD,KACzB,MAAM0B,EAAO/K,EAAMqJ,GACnB,OAAO,gBACFxD,EADL,CAEE,CAACwD,GAAIuI,KAAS7G,GACV,CAAErL,KAAMmS,OAAoBC,SAAU/G,GACtCA,KAEL,IAEI/K,IAIJ,MAAM+R,GAAgB,IAAIP,KAC/B1D,GAAQnG,gBACRqK,IAIK,SAASC,GAAyBC,EAAKlD,GAC5C,OAAO,IAAIxO,IAAIiQ,MAAMC,KAAK1B,GAAW5F,IAAKhI,GAAO,CAACA,EAAI8Q,EAAIvR,IAAIS,MAHhE2Q,GAAcN,QAASU,GAAD,gBAAaH,GAAb,GAAmCG,ICnC1CC,OArCf,UAA4B,GAAEhR,EAAF,WAAMiR,EAAN,KAAkBtH,EAAlB,aAAwB2D,EAAe,KACjE,MAAMvF,EAAO8H,GAAmBlG,GAAMuH,OAEtC,OACE,kBAAC,GAAD,CACEC,YAAU,EACVC,QAAS,EACT7E,MAAOxE,EACPyE,aAAezM,IACb,MAAMzB,EAAO2S,EAAWlR,GAClB6N,EAAYjE,EAAKpK,IAAIQ,GACrBmI,EAAQ0F,EAAUnL,OAClB2L,EAAa3P,OAAOsJ,KAAKuF,GAAcG,OAC3C,CAAChJ,EAAGwD,IAAJ,gBAAgBxD,EAAhB,CAAmB,CAACwD,GAAI,IAAMqF,EAAarF,GAAGjI,EAAID,EAAK6N,KACvD,IAGF,OACE,sCAAI7N,IAAKA,EAAKpD,UAAWG,IAAW,cAAkBsR,GAAtD,UACM9P,EADN,cACgB4J,Q,oBC1BXzJ,UAAOC,OAAO,CAC3B2S,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,ICROnT,UAAOC,OAAO,CAC3BmT,SAAU,EACVC,uBAAwB,EACxBC,iBAAkB,EAClBC,mBAAoB,EACpBC,eAAgB,EAChBC,iBAAkB,EAClBC,eAAgB,EAChBC,aAAc,EACdC,wBAAyB,EACzBC,yBAA0B,GAC1BC,MAAO,GACPC,YAAa,GACbC,MAAO,GACPC,cAAe,GACfC,gBAAiB,KAGZ,MAAMC,GAAiBnU,OAAOC,OAAO,CAC1CmU,WAAY,EACZC,aAAc,IAYHC,GAAuB,CARtB,IACE,IAEA,IACE,KAKLC,GAAiB,CAHX,KCvBnB,SAASC,GAAiBrD,EAAGsD,GAC3B,GAAIA,EAAc,CAChB,MAAMC,EJwB+BvD,IAAMP,MAAMC,KAAKM,EAAEwD,WIxBhCC,CAAyBzD,GAAGhN,OAClD,EAAE0Q,EAAG3F,KAASA,EAAIlL,QAEpB,OAAO,IAAIrD,IAAI+T,GAGjB,OAAOvD,EAsET,SAAS2D,GAAsBC,GAC7B,MAAMC,EAAY,IAAIrU,IAAI,IAC1B,OAAOoU,EAAQ/F,OAAO,CAACiG,EAAQC,KAC7B,MAAMnG,EAASkG,EAAOE,IAAID,EAAIE,YAAcH,EAAOnU,IAAIoU,EAAIE,YAAc,GAEzE,OAAOH,EAAOI,IAAIH,EAAIE,WAAY,IAAIrG,EAAQmG,EAAI3T,MACjDyT,GAGL,SAASM,GAAyBP,GAChC,MAAMQ,EAAS,IAAI5U,IAAI,CACrB,CAACwT,GAAeC,WAAY,IAC5B,CAACD,GAAeE,aAAc,MAGhC,OAAOU,EAAQ/F,OAAO,CAACiG,EAAQC,KAC7B,MAAM5T,EAAM4T,EAAIM,WAAWxR,OACvBmQ,GAAeC,WACfD,GAAeE,aAEbtF,EAASkG,EAAOnU,IAAIQ,GAC1B,OAAO2T,EAAOI,IAAI/T,EAAK,IAAIyN,EAAQmG,EAAI3T,MACtCgU,G,OC5FL,MAAME,WAAsBpT,IAAMa,UAGhCC,YAAY/E,GACVgF,MAAMhF,GACNiF,KAAKC,MAAQ,CACXoS,aAAa,EACbC,SAAU3D,QAGZ3O,KAAKuS,aAAevS,KAAKuS,aAAalS,KAAKL,MAC3CA,KAAKwS,sBAAwBxS,KAAKwS,sBAAsBnS,KAAKL,MAG/DuS,eACEvS,KAAKQ,SAAUK,IAAD,CAAawR,aAAcxR,EAAKwR,eAGhDG,yBAAyB9G,GACvB,MAAM,aAAEF,GAAiBxL,KAAKjF,MAC1ByQ,GACFA,KAAgBE,GAIpB1K,SACE,IAAIsK,EAAQtL,KAAKyS,QACjB,MAAM,UACJ5X,EADI,iBAEJ6X,EAFI,WAGJC,EAHI,aAIJvB,EAJI,kBAKJwB,EALI,QAMJlB,GACE1R,KAAKjF,MAEH8X,EAAS7S,KAAKjF,MAAMmD,GACpBmU,GAAeM,GAAc3S,KAAKC,MAAMoS,YACxCS,GAAkBF,EAClBG,EAA6B,IAAjBrB,EAAQhT,KACpBsU,GAAgBL,IAAeI,EAC/BE,GAAgBZ,IAAgBU,GAAcJ,EAC9CO,EAAoB,+BAA2BlT,KAAKC,MAAMqS,UAE1DhG,EAAa,CACjB6G,aAAcnT,KAAKwS,sBACnBY,aAAcpT,KAAKwS,uBAGfa,ED8CH,SAAyB3B,GAC9B,MAAMjH,EAAQoD,GAAkB6D,GAChC,MAAO,CACL,CACEzT,IAAK,cACLqV,WAAaC,IACX,MAAM/W,EAAOgX,KAAcC,GAAaF,GACxC,OAAOG,oCAAyBlX,IAElC0V,OAAQT,GAAsBhH,IAEhC,CACExM,IAAK,aACLqV,WAAaC,IACX,MAAM/W,EAAOgX,KAAc1C,GAAgByC,GAC3C,OAAOG,oCAAyBlX,IAElC0V,OAAQD,GAAyBxH,KC/DhBkJ,CAAoBjC,GACjCkC,ED/CH,SAAiCtI,EAAOoG,EAASN,GACtD,MAAMyC,EAAgB,IAAIvI,EAAMI,UAAUxF,IAAK0F,GAAM,CAACA,EAAE1N,GAAI,KACtD4V,EAAgB,IAAIpC,EAAQhG,UAAUC,OAC1C,CAAChJ,EAAGoR,IAAM,IAAIpR,EAAG,CAAEzE,GAAI6V,EAAE7V,GAAI8V,QAASD,EAAEzI,MAAMpF,IAAKnF,GAAMA,EAAE7C,MAC3D,KAGI,iBAAE+V,EAAF,WAAoBC,EAApB,aAAgCC,GAAiBL,EAAcnI,OACnE,CAACyI,EAAMvC,KACL,MAAMwC,EAAgBxC,EAAImC,QAAQrI,OAChC,CAAChJ,EAAG2R,IAAQ,IACP3R,KACA2I,EAAM7N,IAAI6W,GAAK1J,GAAQxG,cAAcG,eAE1C,IAEIgQ,EAAU1C,EAAImC,QAAQrI,OAC1B,CAAChJ,EAAG2R,IAAQ,IAAI3R,KAAM2I,EAAM7N,IAAI6W,GAAK1J,GAAQxG,cAAcC,SAC3D,IAEImQ,EAAa3C,EAAImC,QAAQrI,OAC7B,CAAChJ,EAAG2R,IAAQ,IAAI3R,KAAM2I,EAAM7N,IAAI6W,GAAK1J,GAAQxG,cAAcE,UAC3D,IAGF,MAAO,IAAIgH,EAAMrF,QAAQ0F,OAAO,CAAChJ,EAAG8R,KAClC,MAAMC,EAAIL,EAAcvT,OAAQC,GAAMA,IAAM0T,GAAG9T,OACzCgU,EAAIJ,EAAQzT,OAAQC,GAAMA,IAAM0T,GAAG9T,OACnCiU,EAAIJ,EAAW1T,OAAQC,GAAMA,IAAM0T,GAAG9T,OAU5C,OARI+T,EAAI,EACN/R,EAAEsR,iBAAiBjC,IAAIyC,EAAG,IAAI9R,EAAEsR,iBAAiBxW,IAAIgX,GAAI5C,EAAI3T,KACpDyW,EAAIC,EACbjS,EAAEuR,WAAWlC,IAAIyC,EAAG,IAAI9R,EAAEuR,WAAWzW,IAAIgX,GAAI5C,EAAI3T,KACxCyW,EAAIC,GACbjS,EAAEwR,aAAanC,IAAIyC,EAAG,IAAI9R,EAAEwR,aAAa1W,IAAIgX,GAAI5C,EAAI3T,KAGhDyE,GACNyR,IAEL,CACEH,iBAAkB,IAAI3W,IAAIuW,EAAc9Q,SACxCmR,WAAY,IAAI5W,IAAIuW,EAAc9Q,SAClCoR,aAAc,IAAI7W,IAAIuW,EAAc9Q,WAIxC,MAAO,CACL,CACE9E,IAAK2M,GAAQxG,cAAcC,OAC3B6N,OAAQf,GAAiB+C,EAAY9C,GACrCyD,kBAAmBjK,GAAQhG,cAAcC,MAE3C,CACE5G,IAAK2M,GAAQxG,cAAcE,QAC3B4N,OAAQf,GAAiBgD,EAAc/C,GACvCyD,kBAAmBjK,GAAQhG,cAAcI,MAE3C,CACE/G,IAAK2M,GAAQxG,cAAcG,aAC3B2N,OAAQf,GAAiB8C,EAAkB7C,GAC3CyD,kBAAmBjK,GAAQhG,cAAcI,OCfpB2O,CACrBrI,EACAoG,EACAN,GAGF,OACE,yBACEvW,UAAWG,IAAW,iBAAkBH,GACxCia,mBAAkB5B,GAElB,uBAAGhV,GAAIgV,EAAsBrY,UAAU,yBAAvC,gDACgD,IAC7CmF,KAAKjF,MAAMga,UAAY,WAF1B,+FAKEpC,GACA,kBAAC,EAAD,CACEzU,GAAE,0BAAqB2U,EAAM,WAAOA,GAAW,IAC/C/X,UAAQ,EACRD,UAAWG,IAAW,0BACtBga,UAAWhC,EACX3U,QAAS2B,KAAKuS,cAEbF,EAAW,6CAGfY,GACC,yBACEpY,UAAWG,IAAW,0BAA2B0X,IAEhDI,GACC,kBAAC,GAAD,CACEjY,UAAWG,IACT,uBACA,uBAEFyP,MAAO4I,EACP3I,aAAeuK,GACb,wBACEhX,IAAKgX,EAAKhX,IACVxC,aAAA,UAAewZ,EAAKhX,IAApB,cACApD,UAAWG,IACT,uBACA,8BAGF,yBAAKH,UAAWG,IAAW,yBACzB,yBACEH,UAAWG,IAAW,8BACtBuR,eAAa,GAEZ0I,EAAKhX,MAGV,kBAAC,GAAD,CACEC,GAAI+W,EAAKhX,IACTkR,WAAY8F,EAAK3B,WACjBzL,KAAMoN,EAAK/C,OACX1G,aAAY,gBAAOc,QAM7B,kBAAC,GAAD,CACEgD,QAAS,EACTzU,UAAWG,IACT,uBACA,uBAEFyP,MAAOmJ,EACPlJ,aAAeuK,IACb,MAAMC,EAA0B7I,iCAAsB4I,EAAKhX,KACrDkX,EAAuB,WAAOD,EAAP,wCAA8DD,EAAKJ,kBAAnE,KAE7B,OACE,wBACE5W,IAAKgX,EAAKhX,IACVxC,aAAY0Z,EACZta,UAAWG,IACT,uBACA,8BAGF,yBAAKH,UAAWG,IAAW,yBACzB,yBACEH,UAAWG,IAAW,8BACtBuR,eAAa,GAEZ2I,IAGL,kBAACE,GAAD,CACElX,GAAI+W,EAAKhX,IACTsN,cAAe0J,EAAKJ,kBACpBvJ,MAAOA,EACPzD,KAAMoN,EAAK/C,OACX1G,aAAY,gBAAOc,YApJnC8F,GACGiD,YAActK,GAgKvBqH,GAAclH,aAAe,CAC3ByH,YAAY,EACZvB,cAAc,EACdwB,mBAAmB,GAcNR,UCjMf,MAKMkD,GAAsBza,GAAc,CAAC2B,EAAM+Y,KAC/C,IAAIC,EAAchZ,EACfiZ,QAAQ,KAAM,KACdA,QAAQ,SAAU,IAClBA,QAAQ,UAAM,SACdA,QAAQ,UAAM,IAajB,OAXID,EAAY9S,SAZL,UAaT8S,EAAW,UAAMA,EAAYC,QAbpB,QAakC,IAAhC,SACPD,EAAY9S,SAbL,MAcT8S,EAAW,UAAMA,EAAYC,QAdpB,KAcoC,IAAlC,MACFD,EAAY9S,SAdZ,QAeT8S,EAAW,UAAMA,EAAYC,QAfpB,KAeoC,IAAlC,QAEJD,EAAY9S,SAhBX,YAiBV8S,EAAW,UAAMA,EAAYC,QAjBnB,SAiBkC,IAAjC,WAGP,GAAN,OAAU5a,EAAV,sBAAiC2a,GAAjC,OAA+CD,EAAI,WAAOA,GAAS,KAG/DG,GAA8BJ,GAAmB,UAEjDK,GAA+BL,GAAmB,YAGlDM,GAAwB/a,GAAeyQ,GACpCA,EACJK,OAAO,CAAChJ,EAAGoR,EAAG9Q,IAAP,UAAgBN,EAAhB,YAAqB9H,EAArB,aAAmCkZ,EAAEvX,KAArC,YAHSyG,IAAa,IAANA,EAAU,iBAAmB,kBAGA4S,CAAY5S,IAAM,IACtE6S,OAGCC,GAAgCH,GAAqB,UAErDI,GAAiCJ,GAAqB,Y,OCA7CK,OA9Bf,UAAiB,UAAEpb,EAAF,eAAaqb,EAAb,KAA6BrO,IAC5C,MAAMsO,EAAqBtO,EAAKuO,YAC1BC,EDuCD,SAAkCxO,GAGvC,MAAO,CACLyD,MAHY0K,GAA+BnO,EAAKyD,OAIhD9O,KAHWmZ,GAA6B9N,EAAKrL,KAAMqL,EAAK0N,OCzCnCe,CAAyBzO,GAEhD,OACE,yBACEhN,UAAWG,IAAW,WAAYqb,EAAe/K,MAAO4K,IAExD,yBACErb,UAAWG,IACT,oBACAH,EACAwb,EAAe7Z,MAEjB+Z,MAAOJ,EACP1a,aAAY6K,8BAAmB,GAAD,OACzBuB,EAAKrL,MADoB,OAE1BqL,EAAK0N,KAAL,YAAiBjP,8BAAmBuB,EAAK0N,MAAzC,KAAoD,SC1BjD5Y,UAAOC,OAAO,CAC3B4Z,UAAW,EACXC,UAAW,EACXC,QAAS,EACTC,SAAU,ICJGha,UAAOC,OAAO,CAC3Bga,SAAU,EACVC,YAAa,EACbC,UAAW,I,oBCAb,MAAMC,GAAmBC,GAAMA,EAAEC,sBAC3BC,GAAc,CAACnD,EAAGoD,EAAKJ,KAAoB,CAACK,EAASC,KACzD,IAAIjM,EAAM,EACNlN,EAAE,UAAM6V,EAAN,YAAWoD,EAAGE,IAEpB,KAAOD,GAAWA,EAAQtF,IAAI5T,IAC5BkN,GAAO,EACPlN,EAAE,UAAM6V,EAAN,YAAWoD,EAAGE,GAAd,YAAsBjM,GAG1B,OAAOlN,GAGIoZ,GAAoBJ,GAAYtM,GAAQ7G,SAASC,SACjDuT,GAA2BL,GACtCtM,GAAQ7G,SAASG,QAEhB8S,GACCA,EAAEQ,SAAW,EAAb,UACOR,EAAEC,sBADT,aACmCD,EAAEQ,UACjCT,GAAgBC,IAEXS,GAAwBP,GACnCtM,GAAQ7G,SAASE,KAChB+S,GAAD,UAAUA,EAAEC,uBAAZ,OAAoCD,EAAEU,SC3BzB/a,cAAOC,OAAO,CACzB+a,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,KAAM,EACNC,IAAK,GACLC,MAAO,GACPC,SAAU,GACVC,QAAS,GACTC,IAAK,GACLC,OAAQ,GACRC,KAAM,GACNC,MAAO,GACPC,MAAO,KClBIjc,UAAOC,OAAO,CAC3BuI,MAAO,EACPE,MAAO,EACPC,MAAO,EACPE,OAAQ,EACRE,MAAO,EACPE,MAAO,EACPC,MAAO,EACPE,MAAO,ICAM,IACb8S,SACAC,WACAC,cACAnO,WACA6I,eACAuF,SACArb,UCbF,MAAM,MAAEqb,GAAF,YAASvF,GAAT,QAAsB7I,IAAYqO,GASjC,SAASC,GAAcC,GAC5B,OAAIA,EARa,IAQe1F,GAAYlE,KACxC4J,EARa,IAQe1F,GAAYjE,KACxC2J,EARa,IAQe1F,GAAYhE,KACxC0J,EARa,IAQe1F,GAAY/D,KACxCyJ,EARa,IAQe1F,GAAY9D,KACxCwJ,EARa,IAQe1F,GAAY7D,KACxCuJ,EARa,IAQe1F,GAAY5D,KACrC4D,GAAY3D,KAGrB,SAASsJ,KACP,MAAMlb,EJM+BA,IACrCgZ,GAAYtM,GAAQ7G,SAASI,MAAO,IAAMwK,OAA1CuI,CAA8D,KAAMhZ,GIPzDmb,GACX,MAAO,CACLnb,EACA,CACEA,KACA+Y,sBAAuB,EACvBza,KAAM,QACN8O,MAAO,GACP6G,WAAY,GACZJ,WAAY,KACZnJ,SAAS,IAKR,MAAM0Q,GAAqB,KAChC,MAAMC,EAAahM,MAAMyL,GAAMpC,UAAU4C,KAAK,MAAMtT,IAAIkT,IAExD,OAAO,IAAI9b,IAAIic,IAGXE,GAAkBC,GAAWC,GAAQA,EAAIzb,GAAG0b,WAAP,UAAqBF,EAArB,MAG9BG,GAAgBJ,GAAe7O,GAAQ7G,SAASE,MAChD6V,GAAmBL,GAAe7O,GAAQ7G,SAASG,SACnD6V,GAAoBJ,GACF,IAA7BA,EAAIzb,GAAG0P,MAAM,KAAKjN,SAAiBmZ,GAAiBH,GAI/C,SAASK,GAAiBL,GAC/B,OACEE,GAAcF,IACdG,GAAiBH,IACjBI,GAAiBJ,IANQA,IAAQA,EAAIzb,GAAGwE,SAAS,MAOjDuX,CAAoBN,GAIjB,MAEDO,GAAchc,GAAOA,EAAG0P,MAAM,KAAK7K,MAAM,GAExC,SAASoX,GAAqBC,EAAIC,EAAIC,GAAa,GACxD,MAAOC,EAAIC,GAAMN,GAAWE,EAAGlc,KACxBuc,EAAIC,GAAMR,GAAWG,EAAGnc,IAE/B,OACE4b,GAAiBM,IACjBN,GAAiBO,IACjBE,IAAOE,IACLH,GAAcE,IAAOE,IAAQJ,GAI5B,MAAMK,GAAWhB,GAAqB,KAAbA,EAAIpE,KC/E7B,SAASqF,MAASC,GACvB,OAAOA,EAAElP,OAAO,CAAChJ,EAAGoR,IAAM,IAAIpR,KAAMoR,GAAI,IAGnC,SAAS+G,GAAS3U,EAAG0U,GAC1B,OAAOA,EAAE/Z,OAAO,CAACia,EAAG9X,EAAGgL,IAAQA,EAAI+M,UAAWjH,GAAMA,EAAE5N,KAAO4U,EAAE5U,MAAQlD,GCFlE,MAAMgY,GAAY,CAAC,wBAAyB,MAE5C,SAASC,GAAYC,EAAMC,GAChC,OAAOD,EAAKra,OACTC,GACCA,EAAEkW,wBAA0BmE,IAC3BvB,GAAc9Y,KACd+Y,GAAiB/Y,ICGT,SAASsa,GAAWrM,EAAKnH,EAAMyT,GAC5C,MAAQrE,sBAAuBmE,EAAKjJ,WAAYoJ,GAAmB1T,EAC7D2T,EAAU3N,GAAkBmB,GAC5ByM,EAAY3B,GAAiBjS,GAC7B6T,EAAWf,GAAQ9S,GACzB,IAAIsK,EAAa,IAAIoJ,GAErB,MAAMI,EAAYH,EAAQ1a,OACvBC,GAAMA,EAAEkW,wBAA0BmE,GAAOtB,GAAiB/Y,IAG7D,GAAIua,EAAY,CACd,MAAMM,EAAYD,EAAUhQ,OAAO,CAAChJ,EAAGoR,IAAM,IAAIpR,KAAMoR,EAAE5B,YAAa,IACtEA,EAAa,IAAIA,KAAeyJ,GAAW9a,OACzC,CAACkW,EAAG/T,EAAGgL,IACLA,EAAI+M,UACDja,GAAMA,EAAE8a,YAAc7E,EAAE6E,WAAa9a,EAAEyW,WAAaR,EAAEQ,YACnDvU,GAIZ,MAAM6Y,EAAc3J,EAAW1D,KAAMjM,GAAMA,EAAEgV,UAC7C,IAAIuE,EAAU5J,EACXrR,OAAQ0B,GAAM8Y,IAAeQ,GAAgBA,GAAetZ,EAAEgV,UAC9D7L,OAAO,CAAChJ,EAAG5B,KACV,MAAMib,EAAKR,EAAQ1a,OAChBgN,GACCA,EAAEmJ,wBAA0BlW,EAAE8a,YAC7BJ,IAActB,GAAqBtS,EAAMiG,IAAM/M,EAAEyW,WAGhDyE,EAAOD,EAAGvN,KAAKqL,IAErB,IAAIoC,EAAQ,GAiBZ,OAfEA,EADET,IAAcH,EACRU,EAAGlb,OAAQ2T,GAAMwH,IAASnC,GAAiBrF,KAC1CwH,GAAUN,EAAUhb,SAAU2a,EAG/BU,EAAGlb,OAAQC,IHWYiZ,GGXQjZ,IAAMgZ,GAAiBhZ,IAFtDib,EAaH,IAAIrZ,KAREuZ,EAAMpb,OAChBC,IACGkQ,GAAqBvO,SAAS3B,EAAEkW,0BAC9B/F,GAAexO,SAAS3B,EAAEkW,wBAA0BlW,EAAEwU,OACzDtE,GAAqBvO,SAAS3B,EAAEkW,wBAC/BlW,EAAEwU,OAAS1N,EAAK0N,QAIrB,IAiBL,OAbK+F,GAAcpK,GAAexO,SAAS0Y,IACzCW,EAAQI,QACHX,EAAQ1a,OACRgN,GACCsN,IAAQtN,EAAEmJ,uBACVwE,IAAc3B,GAAiBhM,KAC9B4N,GACDA,IAAaf,GAAQ7M,KAK7BiO,EAAUT,EDlEL,SAAsBE,EAASY,GACpC,MAAMC,EAAQD,EAAQzQ,OACpB,CAAChJ,EAAG5B,IAAM,IAAI4B,KAAMuY,GAAYM,EAASza,EAAEkW,wBAC3C,IAGF,OAAO6D,GAAS,KAAMF,GAAMwB,EAASC,IC4DdC,CAAad,EAASO,GAAWA,EACjDQ,KAAQR,EAASd,IAAW/U,IAAKnF,GAAM,CAAC,aAAcA,ICrEhD,SAASyb,GAAYxN,EAAKnH,EAAMyT,GAC7C,MAAQrE,sBAAuBmE,EAAzB,WAA8BrJ,GAAelK,EAC7C4T,EAAY3B,GAAiBjS,GAC7B4U,EAAmBvL,GAAexO,SAAS0Y,IAAQT,GAAQ9S,IAE1D6U,EAAOC,GAAY9U,EAAK3J,GAAG0P,MAAM,KAAK7K,MAAM,GAC7C6Z,EAAa/O,GAAkBmB,GACrC,IAAI6N,EAAW,GAmDf,OA9CEA,GADGvB,GAAcmB,EACNG,EAAW9b,OAAQC,IACH0a,EACrBtB,GAAqBtS,EAAM9G,GAAG,IAC7B+Y,GAAiB/Y,KAIpBmQ,GAAexO,SAAS3B,EAAEkW,yBACzB0D,GAAQ5Z,KAGHua,GAAczB,GAAchS,GAC3B,GAEA+U,EAAW9b,OAAQC,IAC5B,MAAM+b,GACHrB,KACC3B,GAAiB/Y,IAChB+Y,GAAiB/Y,IAChBA,EAAEoR,WAAW1D,KAAMjM,GAAMA,EAAEqZ,YAAcT,GAAO5Y,EAAEgV,WACpD8D,GAEEyB,EACJtB,IACCtB,GAAqBtS,EAAM9G,KACzBiO,EAAI8C,IF1BR,SAA0BsJ,EAAKsB,EAAOM,GAC3C,IAAI9e,EAAE,YAAQkd,GAOd,OANIsB,IACFxe,GAAE,WAAQwe,IAERM,IACF9e,GAAE,WAAQ8e,IAEL9e,EEkBU+e,CAAiBlc,EAAEkW,sBAAuByF,EAAOC,KAExDO,GACHjM,GAAqBvO,SAAS3B,EAAEkW,wBAChChG,GAAqBvO,SAAS3B,EAAEkW,wBAC/BlW,EAAEwU,OAAS1N,EAAK0N,KAEduG,EAAc/a,EAAEoR,WAAW1D,KAAMjM,GAAMA,EAAEgV,UACzC2F,EAAwBpc,EAAEoR,WAAW1D,KACxCjM,GACCA,EAAEqZ,YAAcT,KAASU,GAAetZ,EAAEgV,WAAazF,IAG3D,OACG+K,GAAmBC,IACpBI,GACAD,IAKCX,KAAQM,EAAU5B,IAAW/U,IAAKnF,GAAM,CAAC,cAAeA,ICpElD,SAASqc,GAAmBpO,EAAKnH,GAC9C,MAAQoP,sBAAuBmE,GAAQvT,EAEvC,GAAIiS,GAAiBjS,GACnB,MAAO,GAGT,MAAMwV,EAASxD,GAAchS,GAK7B,MAAO,IAJSwV,EACZ,CAAC,KAAD,OAAMjC,IACN,CAAC,KAAD,OAAMA,GAAN,YAAkBA,EAAlB,iBAA+BA,EAA/B,OAGDlV,IAAKoX,GAAU,CAACD,EAAS,cAAgB,aAAcrO,EAAIvR,IAAI6f,KAC/Dxc,OAAQC,KAAQA,EAAE,ICNR,SAASwc,GACtBvO,EACAnH,EACAyT,GAAa,GAEb,GN+BmE,IM/BhDzT,EN+BsBoP,sBM9BvC,MAAO,CACL4F,SAAU,GACVd,QAAS,GACTM,MAAO,GACPmB,MAAO,GACPC,SAAU,GACVC,OAAM,IACG,GAETC,MAAK,IACI,GAKb,MAAMF,EAAW,CAAC5V,GAClB,IAAIwU,EAAQ,GAEZ,GAAIf,EAAY,CACd,MAAQrE,sBAAuBmE,GAAQvT,EACjC2T,EAAU3N,GAAkBmB,GAE5B2M,EAAYH,EAAQ1a,OACvBC,GAAMA,EAAEkW,wBAA0BmE,GAAOtB,GAAiB/Y,IAG7D0c,EAAStB,QAAQR,GACjBU,EAAQnB,GAAYM,EAASJ,GAG/B,MAAO,CACLyB,SAAUL,GAAYxN,EAAKnH,EAAMyT,GACjCS,QAASV,GAAWrM,EAAKnH,EAAMyT,GAC/Be,MAAOE,KAAQF,EAAOpB,IACtBuC,MAAOJ,GAAmBpO,EAAKnH,GAC/B4V,SAAUlB,KAAQkB,EAAUxC,IAC5ByC,SACE,MAAO,IAAI1d,KAAK6c,YAAa7c,KAAK+b,WAAY/b,KAAKwd,QAErDG,QACE,OAAO3d,KAAK0d,SAAS/c,S,gCC1B3B,MAAMid,GAAa5e,IAAMC,KACvBD,IAAM6e,YAAW,WAefC,GACC,IAfD,UACEjjB,EADF,MAEEkN,EAFF,cAGEgW,EAHF,KAIElW,EAJF,cAKEmW,EALF,WAMEnU,EANF,OAOEV,EAPF,OAQEtG,EARF,KASEob,EATF,OAUEC,EAVF,QAWE9V,GAIF,EAHKrN,EAGL,qIACA,MAAM,QAAEqC,GAAY+gB,qBAAWtT,KACxBuT,GAAYtc,mBAAS,cAAS+F,EAAK3J,GAAd,YAAoByQ,UACzC0P,EAAmBC,GAAwBxc,oBAAS,GAErDyc,GAAW1W,EAAKe,QAChB4V,IAAqBzjB,EAAM0jB,oBAC3BC,EAAYH,KAAa1b,EACzB8b,EAAaJ,KAAaN,EAC1BtR,EAAY4R,KAAaL,EAEzBU,EAAU7W,IAAUiR,GAAMnC,YAC1BgI,EAAS9W,IAAUgW,EAEnB5L,EAAa2M,kBAAQ,IAAMvB,GAAyBngB,EAASyK,GAAO,CACxEzK,EACAyK,IAEIkX,EAAuC,IAAvB5M,EAAWwL,QAEjC,GAAIU,EACF,OACE,wBACEP,IAAKA,EACL5f,GAAIkgB,EACJvjB,UAAWG,IACT,cACA,CACE,2BAA4BgjB,EAC5B,sBAAuBO,EACvB,wBAAyB1U,EACzB,uBAAwBV,GAAUf,GAEpCvN,IAGF,yBAAKA,UAAWG,IAAW,gCACzB,kBAACC,EAAD,CACEJ,UAAU,kCACVM,KAAMC,IAAMQ,KACZF,MAAM,sBACND,aAAW,sBACX4C,QAAS,IAAMigB,GAAqB,MAGxC,kBAAC,GAAD,CACEhP,QAAS,EACT7E,MAAO0H,EAAWuL,SAClBhT,aAAc,EAAErE,EAAMtF,MACpB,MAAMqK,EAAMrK,EAAEkW,sBACR1B,EAAOxU,EAAEwU,KAAF,YAAcjP,8BAAmBvF,EAAEwU,MAAnC,KAA8C,GACrDyJ,EAAW1Y,8BAAmB,GAAD,OAAIvF,EAAEvE,MAAN,OAAa+Y,IAC1C0J,EAAY,UAAM5Y,EAAN,aAAe+E,EAAf,YAAsB4T,GAExC,OACE,wBAAI/gB,IAAK8C,EAAE7C,IACT,kBAAC,EAAD,CACErD,UAAU,gCACVY,aAAA,UAAe4K,EAAf,YAAuBtF,EAAEvE,MACzB6B,QAAS,IAAM6f,EAAOrW,EAAK3J,GAAI6C,EAAE7C,KAEhC+gB,QAUjB,MAAMC,EAAWlF,GAAiBnS,GAAjB,YACRA,EAAKoP,uBACVpP,EAAK3J,GAEHN,EAAU,UAAMD,EAAOd,MAAb,OAAoBc,EAAOP,QAA3B,YAAsC8hB,GAEtD,OACE,wBACEpB,IAAKA,EACL5f,GAAIkgB,EACJvjB,UAAWG,IACT,cACA,CACE,2BAA4BgjB,EAC5B,sBAAuBO,EACvB,wBAAyB1U,EACzB,uBAAwBV,GAAUf,GAEpCvN,IAGF,yBAAKA,UAAWG,IAAW,iCACxBujB,GACC,yBACE1jB,UAAWG,IAAW,mBAAoB,CACxC,gCAAiC0jB,KAGnC,uBACExgB,GAAE,6BAAwBkgB,GAC1BvjB,UAAU,yBAFZ,uCAIuC,IACpCyL,8BAAmBuB,EAAKrL,MAL3B,6CAQA,kBAACL,EAAD,CACEtB,UAAU,4BACVuD,GAAIR,EACJkX,mBAAA,6BAAwCsJ,IAH1C,WAKOvW,EAAKoP,yBAIfyH,GACC,kBAACxjB,EAAD,CACEL,UAAU,sBACVa,MAAM,0BACND,aAAW,0BACX4C,QAAS,IAAMwE,EAAOgF,EAAK3J,OAIjC,kBAAC,GAAD,CACErD,UAAWG,IAAW,CAAE,mBAAoBujB,IAC5C1W,KAAMA,IAER,yBAAKhN,UAAWG,IAAW,6BACxBsL,8BAAmBuB,EAAKrL,OAE3B,yBAAK3B,UAAWG,IAAW,uBACxB6M,EAAKyD,MAAMpF,IAAKzC,GACf,kBAAC,GAAD,CAAWxF,IAAKwF,EAAKvF,GAAIkI,MAAO3C,EAAKjH,SAGzC,yBACE3B,UAAWG,IAAW,iCACtB8Z,mBAAA,wBAAmCsJ,IAEnC,uBAAGlgB,GAAE,wBAAmBkgB,GAAYvjB,UAAU,yBAA9C,oNAMC2jB,GAAoBzjB,EAAM0jB,oBAAoB,CAAE5W,SAChD8W,GACC,kBAAChjB,EAAD,CACEd,UAAU,sBACVma,SAAU4J,EACVvgB,QAAS,IAAM4f,EAAKpW,EAAK3J,GAAIihB,GAAO3I,YAGvC7J,GACC,kBAAC,EAAD,CACE9R,UAAU,0CACVa,MAAM,0BACND,aAAW,0BACXuZ,SAAU+J,EACV1gB,QAAS,IAAMigB,GAAqB,IAEpC,yBAAK7e,IAAK2f,KAAU5f,IAAI,WAAWZ,MAAO,GAAIygB,OAAQ,MAGzDV,GACC,kBAAC9iB,EAAD,CACEhB,UAAU,sBACVma,SAAU6J,EACVxgB,QAAS,IAAM4f,EAAKpW,EAAK3J,GAAIihB,GAAO1I,mBAmBnCmH,UACR,MAAM0B,GC5NN,SAAyBC,EAAkBC,GAChD,MAAMC,UAA2BzgB,IAAMa,UACrCmB,SACE,MAAM,EAKFhB,KAAKjF,OALH,kBACJkO,EADI,kBAEJQ,EAFI,mBAGJE,GAHF,EAIK5O,EAJL,8EAOA,OACE,kBAACwkB,EAAD,iBACMxkB,EADN,CAEE+iB,IAAM4B,IACJ,MAAMC,EAAUrX,sBAAYoX,GAC5BjW,EAAkBkW,GAClB1W,EAAkB0W,QAO5B,OAAOpW,GAAeV,GAAe4W,IDqMJG,CAAgBhC,I,OEzNnD,MAAMiC,GDVA/V,KACKgW,KAEAC,KCSLC,GAAwB,CAC5BC,SAAU,KACVC,OAAQ,KACRpU,UAAW,IAGb,MAAMqU,WAAanhB,IAAMohB,cACvBtgB,YAAY/E,GACVgF,MAAMhF,GACNiF,KAAKC,MAAQ,CACXogB,aAAc/G,KACd5H,QAAS,IAAIpU,IAAI,IACjBH,SAAU0R,GAAcpR,MACxB6iB,UAAU,gBAAMN,KAGlBhgB,KAAKugB,mBAAqBvgB,KAAKugB,mBAAmBlgB,KAAKL,MACvDA,KAAKwgB,iBAAmBxgB,KAAKwgB,iBAAiBngB,KAAKL,MACnDA,KAAKygB,mBAAqBzgB,KAAKygB,mBAAmBpgB,KAAKL,MACvDA,KAAK0gB,gBAAkB1gB,KAAK0gB,gBAAgBrgB,KAAKL,MACjDA,KAAK2gB,iBAAmB3gB,KAAK2gB,iBAAiBtgB,KAAKL,MAGrD,gCAAgC4gB,EAAWC,GAIzC,OAHgB9S,GAAmB6S,EAAUlP,WAC1B3D,GAAmB8S,EAAUnP,SAGvC,CACLA,QAASkP,EAAUlP,SAIhB,KAGToP,qBAAqBpP,GACnB,MAAMqP,EAASlT,GAAkB7N,KAAKC,MAAMogB,cAE5C,MAAO,IADQxS,GAAkB6D,MACXqP,GAAQhe,MAAM,EAAG,GAGzCwd,mBAAmBL,GACjB,MAAMxO,EAAU,IAAIpU,IAAI,IAAI0C,KAAKC,MAAMyR,QAAQJ,YAC/CI,EAAQsP,OAAOd,GACf,MAAMpU,EAAY,IAAIuB,IAAIU,GAAmB2D,IAC7C1R,KAAKjF,MAAMkmB,gBAAgBnV,GAG7B0U,iBAAiBN,EAAQgB,GACvB,MAAMxP,EAAU3D,GAAmB/N,KAAKC,MAAMyR,SACxCyP,EAAWzP,EAAQsJ,UAAWja,GAAMA,IAAMmf,GAE1CkB,EvBxCwB,EAACnT,EAAKT,EAAMpP,KAC5C,MAAM8P,EAAOD,EAAIlL,MAAM,GACjBse,EAAYnT,EAAKV,GAGvB,OAFAU,EAAKV,GAAQU,EAAK9P,GAClB8P,EAAK9P,GAAMijB,EACJnT,GuBmCmBoT,CAAmB5P,EAASyP,EADnCA,EAAWD,GAEtBpV,EAAY,IAAIuB,IAAI+T,GAC1BphB,KAAKjF,MAAMkmB,gBAAgBnV,GAG7B2U,mBAAmBP,EAAQqB,GACzB,MACMC,EADUzT,GAAmB/N,KAAKC,MAAMyR,SACnBxL,IAAKnF,GAAOA,IAAMmf,EAASqB,EAAaxgB,GAC7D+K,EAAY,IAAIuB,IAAImU,GAC1BxhB,KAAKjF,MAAMkmB,gBAAgBnV,GAG7B4U,gBAAgB1Y,EAAWG,GACzB,GAAIH,IAAcG,EAChB,OAGF,MAAMuJ,EAAU3D,GAAmB/N,KAAKC,MAAMyR,SACxC0P,EAAkBpT,GACtB0D,EACA1J,EACAG,GAEI2D,EAAY,IAAIuB,IAAI+T,GAC1BphB,KAAKjF,MAAMkmB,gBAAgBnV,GAG7B6U,iBAAiBV,EAAUC,EAAQpU,GACjC9L,KAAKQ,SAAUK,GAEXA,EAAKyf,UAAUL,WAAaA,GAC5Bpf,EAAKyf,UAAUJ,SAAWA,EAGxB,CAAEI,UAAU,gBAAMN,KAClB,CAAEM,UAAW,CAAEL,WAAUC,SAAQpU,eAIzC9K,SACE,MAAM,UAAEsf,EAAF,SAAanjB,GAAa6C,KAAKC,MAE/BwhB,EAAmBnB,EAAUxU,UAC7B4V,EAAkB1hB,KAAKC,MAAMyR,QAAQhT,KAAO,EAC5CgT,EAAU1R,KAAK8gB,qBAAqB9gB,KAAKC,MAAMyR,SAE/CgN,IAAc1e,KAAKjF,MAAMkmB,gBACzBtC,IAAe3e,KAAKjF,MAAMkmB,gBAC1BtU,IAAc3M,KAAKjF,MAAMkmB,iBAAmB9jB,EAASwP,UAErDgV,EAAejD,EAAY1e,KAAKugB,mBAAqB,KACrDqB,EAAejV,EAAY3M,KAAKygB,mBAAqB,KACrDoB,EACJlD,GAAcxhB,EAASuP,aAAe1M,KAAKwgB,iBAAmB,MACzDsB,EAAeC,GACpBpD,GAAcxhB,EAASsP,eACnB,CAACzM,KAAK0gB,gBAAiBpB,IACvB,CAAC,KAAM1B,IAEb,OACE,kBAACoE,GAAA,EAAD,CAAaC,QAASpC,GAAYpN,QAAS1I,QACzC,6BACG/J,KAAKjF,MAAMyB,MACV,yBAAK3B,UAAU,aAAamF,KAAKjF,MAAMyB,MAEzC,kBAAC,GAAD,CACE3B,UAAWG,IAAW,QACtByP,MAAOiH,EACPhH,aAAc,CAACuK,EAAMhS,IACnB,kBAAC8e,EAAD,CACE9jB,IAAKgX,EAAK/W,GACV6J,MAAO9E,EACP8a,cAAe2D,EACf7Z,KAAMoN,EACN+I,cAAeyD,EAAiB/e,SAASuS,EAAK/W,IAC9C2E,OAAQ8e,EACR1D,KAAM4D,EACNlZ,QAASmZ,EACT5D,OAAQ0D,MAId,kBAAC,GAAD,CACE1jB,GAAI8B,KAAKjF,MAAMmD,GACf6W,SAAQ,eAAU/U,KAAKjF,MAAMyB,MAAQ,YACrCkV,QAAS1R,KAAKC,MAAMyR,QACpBlG,aAAcxL,KAAK2gB,sBAgBhBR,UC7Jf,SAAS+B,GAAgBjN,EAAMkN,EAASC,GACtC,MAAM,eACJC,EADI,YAEJC,EAFI,MAGJhX,EAHI,QAIJhH,EAJI,WAKJ6N,EALI,OAMJnF,EANI,YAOJuV,EAPI,gBAQJC,EARI,aASJC,GACEN,EACJ,IAAKI,GAAe1I,GAAc5E,GAChC,OAAO,EAET,IAAKuN,GAAmB1I,GAAiB7E,GACvC,OAAO,EAET,GAAIwN,IAAiBxN,EAAKyN,UACxB,OAAO,EAGT,MAAMtH,GApCQ7d,EAoCK0X,EAAKgC,sBApCJ,UAAG1Z,GAAIolB,SAAS,EAAG,MAAzBplB,MAsCd,OACE8kB,EAAevQ,IAAImD,EAAK/W,MACvB,CAACkd,EAAKnG,EAAKzY,KAAMyY,EAAKM,MAAM9G,KAAM1N,GAAMA,EAAE2B,SAASsK,MACnDsV,EAAY5f,SAASuS,EAAKlD,cAC1BkD,EAAK3J,MAAMmD,KAAM1N,GAAMuK,EAAM5I,SAAS3B,EAAE7C,OACxC+W,EAAK3J,MAAMmD,KAAM1N,IAChB,MAAQuD,QAASse,EAAX,aAA2Bre,GAAiB6d,EAAY3kB,IAAIsD,EAAE7C,IACpE,OACEoG,EAAQmK,KAAMmG,GAAMgO,EAAelgB,SAASkS,KAC5CtQ,EAAQmK,KAAMmG,GAAMrQ,EAAa7B,SAASkS,OA7ClD,SAAiCiO,EAAaC,GAC5C,MAAMniB,EAASmiB,EAAiBniB,OAChC,GAAe,IAAXA,EAAc,OAAO,EACzB,GAAe,IAAXA,EAAc,OAAO,EAEzB,MAAMG,EAASgiB,EAAiB,GAChC,OACGhiB,IAAWgQ,GAAeC,aAAe8R,EAAYliB,QACrDG,IAAWgQ,GAAeE,cAAgB6R,EAAYliB,OAwCvDoiB,CAAwB9N,EAAK9C,WAAYA,GAItC,SAAS6Q,IACd,QAAE5lB,EAAF,QAAW6lB,GACXd,EACAC,GAEA,MAAMc,EAASD,EAAQd,EAAQgB,eAgB/B,OAfaD,EAETA,EAAOvX,OAAO,CAAChJ,EAAG5B,KAChB,MAAMqiB,EAASriB,EAAEqiB,OAAS,EAAX,YAAoBriB,EAAEqiB,QAAW,GAC1CtV,EAAI/M,EAAE0a,UACRre,EAAQK,IAAR,YAAiBsD,EAAEkW,uBAAnB,OAA2CmM,GAA3C,OAAoDriB,EAAEsiB,aACtDjmB,EAAQK,IAAR,YAAiBsD,EAAEkW,uBAAnB,OAA2ClW,EAAEsiB,aAEjD,OAAKvV,EAIE,IAAInL,EAAG,CAACmL,EAAE5P,GAAI4P,IAHZnL,GAIR,IAZH4K,MAAMC,KAAKpQ,IAcJuO,OAAO,CAAC2X,GAAM9R,EAAGyD,KACtBiN,GAAgBjN,EAAMkN,EAASC,GAC1BkB,EAGF,IAAIA,EAAKrO,GACf,IAGL,MAAMsO,GAAoBlM,GAAQ1a,OAAOsJ,KAAKoR,GAAKnR,IAAKC,GAAMkR,EAAIlR,IAE5Dqd,GAAiB,CAACnM,EAAKF,IAC3Bxa,OAAOsJ,KAAKoR,GAAKnR,IAAKC,IAAD,CACnBC,MAAOiR,EAAIlR,GACXE,KAAM8Q,EAAGhR,MAGAsd,GAAoBD,GAC/B/P,GACCtN,GAAD,UAAUud,sBAAWvd,EAAEpD,MAAM,EAAG,IAAhC,YAAuCoD,EAAEpD,OAAO,KAGrC4gB,GAAqBJ,GAAiB9P,IAEtCmQ,GAAcJ,GAAe3K,GAAQ1S,GAAMud,sBAAWvd,IACtD0d,GAAeN,GAAiB1K,IAEhCiL,GAAmBN,GAAe1S,GAAiB3K,GAC9DuN,oCAAyBvN,IAGd4d,GAAoBR,GAAiBzS,I,sEClDnCkT,OAnDAhlB,IAAMC,MAAK,SAASlE,GACjC,MAAM,KAAE8M,EAAF,QAAQxJ,GAAYtD,EACpBob,EAAqBtO,EAAKoc,eAE1BC,EAAQ,iBAAarc,EAAK3J,IAC1BimB,EnByBD,SAAiCtc,GAGtC,MAAO,CACLyD,MAHYyK,GAA8BlO,EAAKyD,OAI/C9O,KAHWkZ,GAA4B7N,EAAKrL,OmB3BxB4nB,CAAwBvc,GACxCwc,IAAahmB,EACbimB,EAAcD,EAAW,IAAMhmB,EAAQwJ,EAAK3J,IAAM,KAClDqmB,EAAkBje,8BAAmB,GAAD,OACrCuB,EAAKrL,MADgC,OACzBqL,EAAK0N,KAAL,YAAiBjP,8BAAmBuB,EAAK0N,MAAzC,KAAoD,KAGrE,OACE,yBAAK1a,UAAWG,IAAW,aAAc,SAAUmpB,EAAc7Y,QAC/D,uBAAGpN,GAAE,mBAAcgmB,GAAYrpB,UAAU,yBAAzC,SACS0pB,EADT,qCAGA,kBAAC,KAAD,CACEC,UAAS,kBAAaN,GACtBrpB,UAAU,kBACV4pB,YAAY,QACZC,SAAS,OACTC,MAAO,IACPte,KAAMke,EACNtZ,QAAM,GAEN,4BACExH,KAAK,SACLpF,QAASimB,EACTpmB,GAAIgmB,EACJrpB,UAAWG,IACT,kBACA,CACE,6BAA8BqpB,GAEhCF,EAAc3nB,MAEhB+Z,MAAOJ,EACPyO,kBAAA,kBAA4BV,GAC5BpP,mBAAA,mBAA8BoP,UC3CjC,SAASW,KACd,MAAOC,EAAYC,GAAiBjjB,mBAAS,KACtCkjB,EAAMC,GAAWnjB,mBAAS,MAE3Bgc,EAAMoH,sBAAaF,IACvBC,EAAQD,IACP,IAoBH,OAlBAG,0BAAgB,KACd,GAAIH,EAAM,CACR,SAASI,IACPrb,OAAOsb,sBAAsB,IAC3BN,EAAcC,EAAKzc,0BAIvB6c,IAEA,MAAME,GAvBMC,EAuBkB,SAvBXC,EAuBqBJ,EAtB5Crb,OAAO0b,iBAAiBF,EAAOC,GACxB,IAAMzb,OAAO2b,oBAAoBH,EAAOC,IAuB3C,MAAO,KACLF,KA1BR,IAAkBC,EAAOC,GA6BpB,CAACR,IAEG,CAAClH,EAAKgH,EAAYE,GCxB3B,MAEMW,GAAiB,IAuERC,OArEf,UAAyB,MAAEnb,EAAF,YAAS1M,IAChC,MAAO+f,GAAK,MAAElf,EAAQ+mB,KAAoBd,KAG1C,IAAKpa,EAAM9J,OACT,OACE,yBACE9F,UAAWG,IAAW,2BAA4B,CAChD,uCANsB,KAI1B,iDAUJ,MAAM6qB,EAAapb,EAAM9J,OACnBmlB,EAAcC,KAAKC,MAAMpnB,EArBf,IAsBVqnB,EAAWF,KAAKG,KAAKL,EAAaC,GAClCK,EAASC,KAAM3b,EAAOqb,GAE5B,OACE,yBACEjrB,UAAWG,IAAW,4BAA6B,CACjD,wCAtBwB,KAyB1B,yBAAK8iB,IAAKA,GACR,kBAAC,KAAD,CACEvH,MAAO,CAAE8P,SAAU,SAAUC,UAAU,UACvCR,YAAaA,EACbS,YAnCQ,GAoCRlH,OAnCU,IAoCV4G,SAAUA,EACVO,UAtCQ,GAuCR5nB,MAAOA,GAEN,EAAG6nB,cAAaC,WAAUnQ,YACzB,MAAMtB,EAAOkR,EAAOO,GAAUD,GAE9B,OAAKxR,EAKH,yBAAKhX,IAAKgX,EAAK/W,GAAIqY,MAAOA,GACxB,kBAAC,GAAD,CAAQ1O,KAAMoN,EAAM5W,QAASN,KALxB,UC5BrB,MAAQ6M,QAAF,GAAWoO,MAAX,UAAkBrb,IAAWsb,GAE7B0N,GAAkB7Y,GACtBA,EAAE8Y,OAAOC,YACThY,GAAciY,OAAO,mBACrB7hB,GAAQC,SAEV,MAAM6hB,WAAoB/nB,IAAMa,UAG9BC,YAAY/E,GACVgF,MAAMhF,GACNiF,KAAKC,MAAQ,CACX+mB,gBAAiB,GACjBha,OAAQ,GACRsV,YAAa2E,GACb3b,MAAO2b,GACP3iB,QAAS2iB,GACT9U,WAAY8U,GACZ1E,aAAa,EACbC,iBAAiB,EACjBC,cAAc,GAGhBziB,KAAKknB,gBAAkBlnB,KAAKknB,gBAAgB7mB,KAAKL,MACjDA,KAAKmnB,kBAAoBnnB,KAAKmnB,kBAAkB9mB,KAAKL,MACrDA,KAAKonB,wBAA0BpnB,KAAKonB,wBAAwB/mB,KAAKL,MACjEA,KAAKqnB,oBAAsBrnB,KAAKqnB,oBAAoBhnB,KAAKL,MACzDA,KAAKsnB,sBAAwBtnB,KAAKsnB,sBAAsBjnB,KAAKL,MAC7DA,KAAKunB,oBAAsBvnB,KAAKunB,oBAAoBlnB,KAAKL,MACzDA,KAAKwnB,gBAAkBxnB,KAAKwnB,gBAAgBnnB,KAAKL,MACjDA,KAAKynB,iBAAmBznB,KAAKynB,iBAAiBpnB,KAAKL,MACnDA,KAAK0nB,eAAiB1nB,KAAK0nB,eAAernB,KAAKL,MAC/CA,KAAK2nB,oBAAsB3nB,KAAK2nB,oBAAoBtnB,KAAKL,MAG3D4nB,sBAAsB9b,EAAW+b,GAC/B,MAAM,SAAE9a,EAAF,QAAY+a,GAAY9nB,KAAKjF,MAC7BgtB,EAAQ7a,GAAsBpB,EAAW+b,GAE/CC,EAAQ3L,KAAR,UAAgBpP,EAASib,SAAzB,iBAA0CD,IAG5Cb,gBAAgB1kB,GACdxC,KAAKQ,SAAS,CAAEwmB,gBAAiBxkB,EAAEylB,OAAO7hB,QAG5C+gB,kBAAkB3kB,GAChBxC,KAAKQ,SAAS,CAAEwM,OAAQxK,EAAEylB,OAAO7hB,MAAM8hB,gBAGzCd,wBAAwBhhB,EAAO5J,GAC7BwD,KAAKQ,SAAS,CAAE,CAAChE,GAAO4J,IAG1BihB,oBAAoB7kB,GAClB,MAAM,KAAEhG,EAAF,QAAQ2rB,GAAY3lB,EAAEylB,OAC5BjoB,KAAKQ,SAAS,CAAE,CAAChE,GAAO2rB,IAG1Bb,sBAAsBpH,GACpB,MAAMmC,EAAiB3U,GACrBZ,GAA0B9M,KAAKjF,MAAMgS,UAAUqb,MAGjD,GAAI/F,EAAe3jB,OAASsa,GAAMpC,SAChC,OAAO5W,KAAKjF,MAAMstB,UCzFf,CACLnqB,GAAIyQ,OACJlL,KAAM,QACN6kB,QAAS,6BACTC,OAAQ,mEDwFRvoB,KAAK4nB,sBAAsBvF,EAAgBnC,GAG7CqH,oBAAoBiB,GAClBxoB,KAAK4nB,sBAAsBY,GAG7BhB,kBACExnB,KAAK4nB,sBAAsB,IAAIva,IAAI,KAGrCoa,iBAAiBgB,EAASrG,GACxB,MAAO,KACL,MAAMxT,EAAW9B,GAA0B9M,KAAKjF,MAAMgS,UAAUqb,KAC1D/F,EAAiB3U,GAAsBkB,GACvCuU,EAAgBwD,GAAe3mB,KAAKjF,MAAM2tB,OAC1CvG,EAAO,gBAAQniB,KAAKC,MAAb,CAAoBoiB,iBAAgBc,kBAE3CwF,EJCwB,EAACF,EAAStG,EAASC,KACrD,MAAMwG,EAAa,IAAIvb,IAAI,IACrBmO,EAAUwH,GAAqByF,EAAStG,EAASC,GAEvD,OAAO7U,MAAM,GACViM,KAAK,MACL7N,OAAQyc,IACP,MAAMS,EAAc9C,KAAKC,MAAMD,KAAK+C,SAAWtN,EAAQ7a,QACjDooB,EAAWvN,EAAQqN,GAEzB,OAAOT,EAAK7d,IAAIwe,EAAS7qB,KACxB0qB,IIZsB3B,CACrBwB,EACAtG,EACAC,GAGFpiB,KAAK4nB,sBAAsBe,IAI/BjB,iBACE,MAAM9Y,EAAW9B,GAA0B9M,KAAKjF,MAAMgS,UAAUqb,KAGhE,GAA4B,IAFL1a,GAAsBkB,GAE1BlQ,KACjB,OAGF,MAAMmU,EAASlE,OACToG,EAAW/U,KAAKC,MAAM+mB,iBAAmB,OAEzCgC,EAAe,CACnB,CAACnW,GAAS,CACRrW,KAAMuY,EACNnG,aAIJP,GAAW2D,IAAIgX,GACfC,KAAeC,QACb,cADF,UAEKnU,EAFL,iCAMF4S,oBAAoBnlB,GAClB,MAAM,MAAE4D,GAAU5D,EAAEylB,OACpBjoB,KAAKjF,MAAM+sB,QAAQ3L,KAAnB,UAA2Bxe,GAAOd,KAAlC,YAA0CuJ,IAG5CpF,SACE,IAAImoB,EAAWnpB,KAAKyS,QACpB,MAAM,SAAE1F,EAAF,MAAY2b,GAAU1oB,KAAKjF,MAC3BooB,EAAgBwD,GAAe+B,IAC/B,KAAEN,GAAStb,GAA0BC,GACrCsV,EAAiB3U,GAAsB0a,GAEvCgB,EAAU,gBAAQppB,KAAKC,MAAb,CAAoBoiB,iBAAgBc,kBAE9CkG,EAAc,CAClB1iB,aAAc,CACZP,MAAO+c,EACPmG,SAAUtpB,KAAK2nB,qBAEjB7gB,YAAa,CACXV,MAAOgjB,EAAWpc,OAClBsc,SAAUtpB,KAAKmnB,mBAEjBlgB,gBAAiB,CACfyE,OAAQ0d,EAAW9G,YACnB1b,QAASqgB,GACTsC,SAAUvpB,KAAKonB,yBAEjBlgB,UAAW,CACTwE,OAAQ0d,EAAW9d,MACnB1E,QAASqgB,GACTsC,SAAUvpB,KAAKonB,yBAEjBjgB,aAAc,CACZuE,OAAQ0d,EAAW9kB,QACnBsC,QAASqgB,GACTsC,SAAUvpB,KAAKonB,yBAEjBhgB,gBAAiB,CACfsE,OAAQ0d,EAAWjX,WACnBvL,QAASqgB,GACTsC,SAAUvpB,KAAKonB,yBAEjB/f,iBAAkB,CAChB8gB,QAASiB,EAAW7G,YACpB+G,SAAUtpB,KAAKqnB,qBAEjB/f,qBAAsB,CACpB6gB,QAASiB,EAAW5G,gBACpB8G,SAAUtpB,KAAKqnB,qBAEjB9f,kBAAmB,CACjB4gB,QAASiB,EAAW3G,aACpB6G,SAAUtpB,KAAKqnB,sBAInB,OACE,yBAAKxsB,UAAU,gBACb,yBACEA,UAAWG,IACT,0BACA,oCACA,2CAGF,kBAAC,GAAD,eAASyL,SAAUmE,GAAQ9G,OAAWulB,KAExC,kBAACte,GAAYye,SAAb,KACIpH,IACA,MAAMqH,EAAkBxC,GACtBkC,EACAC,EACAhH,GAGF,OACE,yBAAKvnB,UAAU,6DACb,uBAAGqD,GAAG,qBAAqBrD,UAAU,yBAArC,yOAMA,yBACEA,UAAU,+BACVia,mBAAiB,sBAEjB,kBAAC,EAAD,CACE5W,GAAG,iBACHpD,UAAQ,EACRuD,QAAS2B,KAAKynB,iBAAiB0B,EAAU/G,IAH3C,aAOA,kBAAC,EAAD,CAAQlkB,GAAG,YAAYpD,UAAQ,EAACuD,QAAS2B,KAAK0nB,gBAA9C,aAGA,kBAAC,EAAD,CACExpB,GAAG,aACHpD,UAAQ,EACRuD,QAAS2B,KAAKwnB,iBAHhB,eAQF,uBACEtpB,GAAG,yBACHrD,UAAU,yBAFZ,8NASA,yBACEA,UAAU,6BACVia,mBAAiB,0BAEjB,kBAAC,KAAD,CACE5W,GAAG,oBACH1B,KAAK,kBACLuK,MAAM,YACNX,MAAOpG,KAAKC,MAAM+mB,gBAClBsC,SAAUtpB,KAAKknB,kBAEjB,kBAAC,GAAD,CACE5b,MAAO8W,EACP1Q,QAAS3C,GACPoa,EAAS/rB,QACTilB,GAEFpB,gBAAiBjhB,KAAKunB,uBAG1B,kBAAC,GAAD,eAAS9gB,SAAUmE,GAAQ/G,OAAWwlB,IAEtC,kBAAC,GAAD,CACE5e,MAAOgf,EACP1rB,YAAaiC,KAAKsnB,6BA9P9BP,GACG1R,YAAcxK,GAwQRkc,U,2BEvRA2C,OAZW,IACxB,yBAAK7uB,UAAU,mBACb,yBAAKA,UAAU,yBAAf,2BACA,kBAACsB,EAAD,CAAmBiC,GAAIT,EAAOd,KAAM8sB,MAAI,GAAxC,iBAGA,kBAACxtB,EAAD,CAAmBiC,GAAIT,EAAOV,aAAc0sB,MAAI,GAAhD,yBCVG,SAASC,GAAchb,GAC5B,MAAM,GAAN,OAAUjR,EAAOd,KAAjB,kBAA+B+R,GCiBjC,MAAMib,WAAmB7qB,IAAMa,UAG7BC,YAAY/E,GACVgF,MAAMhF,GACNiF,KAAKC,MAAQ,CACX6pB,aAAa,EACb/sB,WAAY,MAGdiD,KAAK+pB,iBAAmB/pB,KAAK+pB,iBAAiB1pB,KAAKL,MACnDA,KAAKgqB,eAAiBhqB,KAAKgqB,eAAe3pB,KAAKL,MAGjDiqB,oBACEjqB,KAAKQ,SAAS,CACZspB,aAAa,EACb/sB,WAAYsR,GAAW5Q,QAI3BssB,iBAAiBlX,GACf,MAAM,WAAE9V,GAAeiD,KAAKC,MACtBnD,EAAQH,OAAOsJ,KAAKlJ,GACvB+D,OAAQqF,GAAMA,IAAM0M,GACpBlH,OACC,CAAChJ,EAAGoR,IAAJ,gBACKpR,EADL,CAEE,CAACoR,GAAIhX,EAAWgX,KAElB,IAGEmW,EAAe7b,GAAWoH,QAAQ3Y,GACxCkD,KAAKQ,SAAS,CAAEzD,WAAYmtB,IAG9BF,eAAenX,EAAQqO,GACrB,MAAM,WAAEnkB,GAAeiD,KAAKC,MAEtBuO,EAAW7R,OAAOsJ,KAAKlJ,GACvBotB,EAAY3b,EAASwM,UAAWja,GAAMA,IAAM8R,GAG5C/V,EAAQkR,GAAuBQ,EAAU2b,EAF9BA,EAAYjJ,GAEuCvV,OAClE,CAAChJ,EAAGoR,IAAJ,gBACKpR,EADL,CAEE,CAACoR,GAAIhX,EAAWgX,KAElB,IAGImW,EAAe7b,GAAWoH,QAAQ3Y,GACxCkD,KAAKQ,SAAS,CAAEzD,WAAYmtB,IAG9BlpB,SACE,IAAI,QAAE5D,GAAY4C,KAAKyS,QACvB,MAAM,WAAE1V,GAAeiD,KAAKC,MAE5B,IAAKD,KAAKC,MAAM6pB,YACd,OAAO,KAGT,IAAK/sB,GAAiD,IAAnCJ,OAAOsJ,KAAKlJ,GAAY4D,OACzC,OAAO,kBAAC,GAAD,MAGT,MAAM7D,EDlFH,SAAqCC,GAC1C,OAAOJ,OAAOsJ,KAAKlJ,GAAYmJ,IAAKhI,IAClC,MAAM,KAAE1B,EAAF,SAAQoS,GAAa7R,EAAWmB,GACtC,MAAO,CACLA,KACA1B,OACAoS,WACA9C,UAAW8C,EAAShB,MAAM,QC2Edwc,CAAgCrtB,GACxCstB,EAAYvtB,EAAM6D,OAClB2pB,EAAyBD,EAAY,EACrC1L,EAAa0L,EAAY,EAE/B,OACE,kBAACtf,GAAYye,SAAb,KACIpH,GACA,yBAAKvnB,UAAU,eACZyvB,GACC,yBAAKzvB,UAAU,2BACb,kBAACsB,EAAD,CACEiC,GAAE,UAAKT,EAAOd,MAAZ,OAAmBc,EAAOT,gBAC5BysB,MAAI,GAFN,wBAQH7sB,EAAMoJ,IAAI,CAAC0F,EAAG3I,KACb,MAAM2b,EAAgB,IAAN3b,EACV4b,EAAS5b,IAAMonB,EAAY,EAEjC,OACE,yBACEpsB,IAAK2N,EAAE1N,GACPrD,UAAWG,IAAW,iCAEtB,uBAAGkD,GAAE,mBAAc0N,EAAE1N,IAAMrD,UAAU,yBAArC,8EAIA,yBAAKA,UAAU,yBACZ8jB,GACC,kBAAC5iB,EAAD,CACElB,UAAU,qBACVma,SAAU4J,EACVvgB,QAAS,IAAM2B,KAAKgqB,eAAepe,EAAE1N,GAAIihB,GAAOzI,UAGnDiI,GACC,kBAAC1iB,EAAD,CACEpB,UAAU,qBACVma,SAAU6J,EACVxgB,QAAS,IACP2B,KAAKgqB,eAAepe,EAAE1N,GAAIihB,GAAOxI,aAKzC,yBAAK9b,UAAU,qBACb,yBAAKA,UAAWG,IAAW,wBACzB,kBAACmB,EAAD,CACEiC,GAAIgsB,GAAkBxe,EAAEgD,UACxB+a,MAAI,EACJ7U,mBAAA,mBAA8BlJ,EAAE1N,KAHlC,aAOA,kBAAChD,EAAD,CACEQ,MAAM,cACND,aAAW,cACX4C,QAAS,IAAM2B,KAAK+pB,iBAAiBne,EAAE1N,OAG3C,kBAAC,GAAD,CACEA,GAAI0N,EAAE1N,GACN1B,KAAMoP,EAAEpP,KACR8O,MAAO8W,EACP1Q,QAAS3C,GAAyB3R,EAASwO,EAAEE,oBAzI7D+d,GACGxU,YAAcxK,GAqJRgf,UCtKf,SAASU,GAAkBvW,EAAS1I,GAClC,OAAO0I,EAAQ9N,IAAKhI,IAClB,MAAMuF,EAAO6H,EAAMkf,KAAMzpB,GAAMA,EAAE7C,KAAOA,GACxC,MAAO,CACLA,GAAIuF,EAAKvF,GACT1B,KAAMiH,EAAKjH,QAKjB,SAASiuB,GAAuBtY,GAC9B,OAAOA,EACJjM,IAAK1D,IAAD,YAAQ,CACXqZ,UAAWrZ,EAAEqZ,UACb6O,UAAWloB,EAAEkoB,UACblT,SAAQ,UAAEhV,EAAEgV,gBAAJ,QAAgB,QAEzB1W,OAAO,CAACkW,EAAG/T,EAAGgL,IACCA,EAAI+M,UACfja,GAAMA,EAAE8a,YAAc7E,EAAE6E,WAAa9a,EAAEyW,WAAaR,EAAEQ,YAGxCvU,GC3BRtG,cAAOC,OAAO,CAC3B+F,EAAG,EACHmL,EAAG,EACH2G,EAAG,ICDL,MAAMkW,GAAezsB,GAAOA,EAAG0P,MAAM,KAAK,GAE3B,SAASgd,IAAkBC,EAAKhQ,IAAKiQ,EAAK/P,IACvD,MAAMgQ,EAAOlQ,EAAE5D,sBACT+T,EAAOjQ,EAAE9D,sBACf,GAAI8T,EAAOC,EAAM,OAAQ,EACzB,GAAID,EAAOC,EAAM,OAAO,EAExB,MAAMC,EAAUN,GAAYE,GACtBK,EAAUP,GAAYG,GACtBK,EAAQC,GAAWH,GACnBI,EAAQD,GAAWF,GACzB,OAAIC,EAAQE,GAAe,EACvBF,EAAQE,EAAc,EACnB,E,yCCPF,SAASC,GAAqBzjB,GACnC,OAAOA,EAAK8D,OAAO,CAAChJ,EAAGoR,KACrB,MAAM7V,EAAKqtB,GAA+B5oB,EAAGoR,GACvC2O,EAAY8I,GAAS9oB,SAASqR,EAAEkD,uBAChCwU,EAAengB,GAAMxK,OAAQC,GAAMgT,EAAEC,QAAQtR,SAAS3B,EAAE7C,KACxDwtB,EAAoBvZ,GAAWrR,OAClCC,GACCA,EAAEkW,wBAA0BlD,EAAEkD,yBAC5BlW,EAAEyW,UAAYzW,EAAEyW,WAAazD,EAAEyD,WAGrC,OAAO7U,EAAEqP,IACP9T,EHUC,SAAwBA,EAAI2J,EAAMyD,EAAO6G,EAAYuQ,GAC1D,MAAO,CACLxkB,KACA+Y,sBAAuBpP,EAAKoP,sBAC5Bza,KAAMqL,EAAKrL,KACX+Y,KAAM1N,EAAK0N,KACXjK,MAAOif,GAAkB1iB,EAAKmM,QAAS1I,GACvC6G,WAAYsY,GAAuBtY,GACnCJ,WAAYmH,GAAcrR,EAAKoP,uBAC/ByL,aGlBEiJ,CAAuBztB,EAAI6V,EAAG0X,EAAcC,EAAmBhJ,KAEhE,IAAIplB,KAGF,SAASsuB,GAAyB/jB,GACvC,OAAOA,EAAK8D,OAAO,CAAChJ,EAAGoR,KACrB,MAAM7V,EAAKqtB,GAAmC5oB,EAAGoR,GAC3C8X,EAAcrQ,GAAQgP,KACzBzpB,GAAMA,EAAEkW,wBAA0BlD,EAAEkD,uBAEjCwU,EAAengB,GAAMxK,OAAQC,GAAMgT,EAAEC,QAAQtR,SAAS3B,EAAE7C,KAE9D,OAAOyE,EAAEqP,IACP9T,EHQC,SAA4BA,EAAI2J,EAAMyD,EAAOugB,GAClD,MAAMnU,EAAS7P,EAAK6P,OAAL,WAAkB7P,EAAK6P,QAAW,GACjD,MAAO,CACLxZ,KACA+Y,sBAAuBpP,EAAKoP,sBAC5Bza,KAAK,QAAD,OAAUqvB,EAAYrvB,MAAtB,OAA6Bkb,GACjCnC,KAAM,GACNjK,MAAOif,GAAkB1iB,EAAKmM,QAAS1I,GACvC6G,WAAY,GACZJ,WAAYmH,GAAcrR,EAAKoP,wBGhB7B0U,CAA2BztB,EAAI6V,EAAG0X,EAAcI,KAEjD,IAAIvuB,KAGF,SAASwuB,GAA4BjkB,GAC1C,OAAOA,EAAK8D,OAAO,CAAChJ,EAAGoR,KACrB,MAAM7V,EAAKqtB,GAAsC5oB,EAAGoR,GAC9C8X,EAAcrQ,GAAQgP,KACzBzpB,GACCA,EAAEkW,wBAA0BlD,EAAEkD,yBAC5BlD,EAAEwB,MAAQxU,EAAEwU,OAASxB,EAAEwB,OAEvBkW,EAAengB,GAAMxK,OAAQC,GAAMgT,EAAEC,QAAQtR,SAAS3B,EAAE7C,KACxDwtB,EAAoBvZ,GAAWrR,OAClCC,GACCA,EAAEkW,wBAA0BlD,EAAEkD,yBAC5BlW,EAAEyW,UAAYzW,EAAEyW,WAAazD,EAAEyD,WAGrC,OAAO7U,EAAEqP,IACP9T,EHDC,SACLA,EACA2J,EACAyD,EACA6G,EACA0Z,GACC,IAAD,EACA,MAAME,EAAavY,KAAcsF,GAASjR,EAAK2P,UAC/C,MAAO,CACLtZ,KACA+Y,sBAAuBpP,EAAKoP,sBAC5Bza,KAAK,GAAD,OAAKuvB,EAAL,YAAmBF,EAAYrvB,MACnC+Y,KAAI,UAAE1N,EAAK0N,YAAP,QAAe,GACnBjK,MAAOif,GAAkB1iB,EAAKmM,QAAS1I,GACvC6G,WAAYsY,GAAuBtY,GACnCJ,WAAYmH,GAAcrR,EAAKoP,wBGb7B0U,CACEztB,EACA6V,EACA0X,EACAC,EACAG,KAGH,IAAIvuB,KAGT,SAAS0uB,GAAkBC,EAAUC,GACnC,MAAO,IAAID,KAAa1e,MAAMC,KAAK0e,I,wLCvC9B,SAASC,KA4Bd,MAAO,CACL/uB,QDaG,SAA4BgvB,KAAWhY,GAC5C,MAAMiY,EAAejY,EAClBzI,OAAOqgB,GAAmB,IAC1B5c,KAAKwb,IACL1kB,IAAIkmB,GAEP,OAAO,IAAI9uB,IAAI,IAAI+uB,IC3CHC,CACd,EAAEpuB,EAAIyb,GAAM4S,KACV,MAEMC,GAFU,GAEUzG,KAAKC,MAAMuG,EAZnB,IAYN,EACNE,EAAqBF,EAbT,IAUF,GAGJ,EACNG,EAAK,GAHK,GAGS3G,KAAKC,OAAOuG,EAAQ,GAb/B,IAcRI,GAAsBJ,EAAQ,GAdtB,IAUE,GAIJ,EAEZ,MAAO,CACLruB,EADK,gBAGAyb,EAHA,CAIHsK,eAAgB,CAAE9N,mBAAmB,GAAD,OAAKsW,EAAL,cAAaD,EAAb,OACpCpW,YAAa,CAAED,mBAAmB,GAAD,OAAKwW,EAAL,cAAaD,EAAb,WAlBtBpB,GAAqB9P,IACvBoQ,GAAyBpO,IACtBsO,GAA4Bc,KA2B9C3J,QAAS,CACP9d,SACAC,IAAKynB,GACLxnB,SACAC,SACAC,cACAC,UACAC,aACAC,SACAC,WACAC,MAAO,IAAIknB,MAAaC,MAAaC,IACrCnnB,SACAC,WACAC,WCxBSknB,OAzCf,WACE,MAAM,QAAE7vB,GAAY+gB,qBAAWtT,IACzBuX,EAAcjE,qBAAWpT,KACxBjO,GAASgF,mBD2ET9E,GNpEakJ,IAAK+O,GAAD,cACtB/W,GAAIyQ,QACDsG,EAFmB,CAGtBrG,SAAUqG,EAAKnJ,UAAU2B,KAAK,SONhC,OACE,yBAAK5S,UAAU,eACZiC,EAAMoJ,IAAK0F,IACV,gCAAK3N,IAAK2N,EAAE1N,GAAIrD,UAAWG,IAAW,iCACpC,uBAAGkD,GAAE,mBAAc0N,EAAE1N,IAAMrD,UAAU,yBAArC,8EAIA,yBAAKA,UAAU,qBACb,yBAAKA,UAAWG,IAAW,wBACzB,kBAACmB,EAAD,CACEiC,GAAIgsB,GAAkBxe,EAAEgD,UACxB+a,MAAI,EACJ7U,mBAAA,mBAA8BlJ,EAAE1N,KAHlC,cAQF,kBAAC,GAAD,CACEA,GAAI0N,EAAE1N,GACN1B,KAAMoP,EAAEpP,KACR8O,MAAO8W,EACP1Q,StC8C0C1C,EsC7CxC5R,EtC6C6C0O,EsC5C7CF,EAAEE,UtC6CT,IAAIxO,IACTiQ,MAAMC,KAAK1B,GAAW5F,IAAI,CAAChI,EAAI+E,KAC7B,MAAMiqB,EAAQ,UAAMhvB,EAAN,aAAa+E,GAC3B,MAAO,CAACiqB,EAAD,gBAAgBle,EAAIvR,IAAIS,GAAxB,CAA6BA,GAAIgvB,aAJvC,IAAiDle,EAAKlD,M,OuCtD9C+d,OApBf,YAA6D,IAAzC,MAAEnB,EAAF,SAAS3b,EAAT,QAAmB+a,GAAqB,EAAT/sB,EAAS,8CAK1D,MAAMoyB,EAAQrgB,GAA0BC,GAClCqgB,EAAY1J,sBAAWyJ,EAAME,KAAO,SAE1C,OACE,kBAAC,KAAKC,UAAN,CAAgBF,UAAWA,EAAW9D,SARxC,SAAyB9sB,GACvBsrB,EAAQrS,QAAR,UAAmBiT,EAAM6E,IAAzB,gBAAoC/wB,MAQlC,kBAAC,KAAKgxB,KAAN,CAAWhxB,KAAK,SACZixB,GAAaA,GAAY,kBAACC,GAAe3yB,IAE7C,kBAAC,KAAKyyB,KAAN,CAAWhxB,KAAK,WACZixB,GAAaA,GAAY,kBAACE,GAAiB5yB,MCjBrD,MAAM6yB,WAAiB5uB,IAAMa,UAC3BC,YAAY/E,GACVgF,MAAMhF,GACNiF,KAAKC,MAAL,gBACK6O,IAGL9O,KAAK6tB,gBAAkB7tB,KAAK6tB,gBAAgBxtB,KAAKL,MACjDA,KAAK8tB,mBAAqB9tB,KAAK8tB,mBAAmBztB,KAAKL,MAGzDiqB,oBACEjqB,KAAKQ,SAAL,gBAAmBqO,GAAcpR,QAGnCowB,gBAAgBrrB,GACd,MAAM,KAAEhG,EAAF,QAAQ2rB,GAAY3lB,EAAEylB,OAC5BjoB,KAAKQ,SAAS,CAAE,CAAChE,GAAO2rB,GAAW,IACjCtZ,GAAcmD,IAAd,gBACKlD,GADL,GAEK9O,KAAKC,SAKd6tB,mBAAmBtrB,GACjB,MAAM,MAAE4D,GAAU5D,EAAEylB,OACpBjoB,KAAKQ,SAAS,CAAEqM,eAAgBzG,GAAS,IACvCyI,GAAcmD,IAAd,gBACKlD,GADL,GAEK9O,KAAKC,SAKde,SACE,MAAM7D,EAAW6C,KAAKC,MAEtB,OACE,yBAAKpF,UAAU,YACb,kBAAC,KAAD,CACEqD,GAAG,UACH2I,mBAAmB,kBACnBrK,KAAK,iBACL6J,KAAI,qFACJ8hB,QAAShrB,EAASsP,eAClB6c,SAAUtpB,KAAK6tB,kBAEjB,kBAAC,KAAD,CACE3vB,GAAG,iBACH2I,mBAAmB,kBACnBrK,KAAK,eACL6J,KAAI,uFACJ8hB,QAAShrB,EAASuP,aAClB4c,SAAUtpB,KAAK6tB,kBAEjB,kBAAC,KAAD,CACE3vB,GAAG,aACH2I,mBAAmB,kBACnBrK,KAAK,YACL6J,KAAI,2FACJ8hB,QAAShrB,EAASwP,UAClB2c,SAAUtpB,KAAK6tB,kBAEjB,kBAAC,KAAD,CACE3vB,GAAG,kBACH2I,mBAAmB,8CACnBR,KAAK,kBACLD,MAAOjJ,EAAS0P,eAChBjG,QAASZ,GACTsjB,SAAUtpB,KAAK8tB,uBAOVF,UC7DAG,OAlBf,YAAmD,IAA5B,YAAEC,GAAyB,EAATjzB,EAAS,+BAChD,OACE,kBAAC,GAAD,eACEF,UAAU,mBACNE,EAFN,CAGE0jB,oBAAqB,EAAG5W,UACtB,kBAAC1L,EAAD,CAAmBiC,GAAE,UAAK4vB,EAAL,yBAAiCnmB,EAAK3J,KAA3D,0B,OC0NO+G,OA1Mf,UAAiB,MAAEyjB,EAAF,SAAS3b,EAAT,QAAmB+a,IAClC,MAAM,QAAE1qB,GAAY+gB,qBAAWtT,KACzB,QAAEojB,EAAF,WAAWC,EAAX,OAAuBC,GAAWrP,kBACtC,ICvBW,SAA4B9P,GACzC,MACM6c,EADShe,GAAkBmB,GACNlO,OACxBC,KAAQ8Y,GAAc9Y,IAAM+Y,GAAiB/Y,IAAMgZ,GAAiBhZ,KAGvE,IAAIotB,EAAS,EACb,MAAMF,EAAUpC,EAAYlgB,OAAO,CAAChJ,EAAGoR,KACrC,MAAM7V,EAAK6V,EAAE7V,GAEb,OADAiwB,EAASjwB,EACFyE,EAAEqP,IAAI9T,EAAI6V,IAChB,IAAIzW,IAAI,KAEX,MAAO,CACL2wB,UACAC,WAAYrgB,GAAkBogB,GAAS/nB,IAAKnF,IAAD,CACzCqF,MAAOrF,EAAE7C,GACTmI,KAAK,GAAD,OAAKC,8BAAmBvF,EAAEvE,MAA1B,cAAqCuE,EAAEkW,sBAAvC,QAENkX,UDIMC,CAAmBhxB,GACzB,CAACA,IAGGsB,EAAOC,0BACP0vB,EAAW7wB,EAAKkB,EAAKE,QAErB,OAAEgoB,GAAW8B,EACb4F,EAAW1H,EAAO1oB,IAbZ,MAcNqwB,EAAYN,EAAQxwB,IAAI6wB,IAExB,aAAEE,GAAiB1hB,GAA0BC,GAC7C0hB,EAAgBrxB,EAAQK,IAAI+wB,IAAiBD,EAE7C3P,EAnBM,QAmBI0P,EACVzP,EAASyP,IAAaH,EAE5B,SAASO,EAAoBlsB,GAC3B,MAAMqlB,EAAQrlB,EAAEylB,OAAO7hB,MACvB0hB,EAAQ3L,KAAR,UAAgBxe,EAAOd,MAAvB,OAA8Bc,EAAOP,QAArC,YAAgDyqB,IAGlD,IAAK0G,EACH,OACE,yBAAK1zB,UAAU,8BACb,yBAAKA,UAAU,8BAAf,mDAGA,kBAAC,KAAD,CACEqD,GAAG,iBACH2I,mBAAmB,mBACnBR,KAAK,iBACLD,MAAOkoB,EACP1nB,QAASsnB,EACT5E,SAAUoF,KAMlB,MAAOC,EAAUC,GErEJ,SAA0B5f,EAAKkf,EAAYI,GACxD,MAAMvmB,EAAQmmB,EAAWlT,UAAWja,GAAMA,EAAEqF,QAAUkoB,GAEtD,MAAO,EAAE,EAAG,GAAGpoB,IAAKgb,IAClB,MAAMrZ,EAAOqmB,EAAWnmB,EAAQmZ,GAEhC,IAAKrZ,EACH,MAAO,CAAEd,MAAO,iBAAkBV,KAAM,IAG1C,MAAMsT,EAAM3K,EAAIvR,IAAIoK,EAAKzB,OAEnByoB,EAAQ3N,EAAY,EACpB4N,EAAOD,EAAQ,KAAO,GACtBE,EAAOF,EAAQ,GAAK,KAEpBzT,EAAMzB,EAAI1C,sBACV+X,EAAU1oB,8BAAmBqT,EAAInd,MAEjC6J,EAAI,UAAMyoB,EAAN,YAAc1T,EAAd,cAAuB4T,GAAvB,OAAiCD,GAG3C,MAAO,CAAEhoB,MAFE,iBAAaqU,EAAb,aAAqB4T,GAEhB3oB,UF+CU4oB,CAAiBhB,EAASC,EAAYI,GAC5DY,EAAa3R,GAAyBngB,EAASmxB,GAAW,IAC1D,SAAE1R,EAAF,QAAYd,EAAZ,MAAqByB,EAArB,SAA4BC,EAA5B,MAAsCpB,GAAU6S,EAEhDC,IAAgBtS,EAASlc,OACzByuB,IAAerT,EAAQpb,OACvB0uB,IAAa7R,EAAM7c,OAEzB,SAASsd,EAAKiD,GACZ,MAAMnZ,EAAQmmB,EAAWlT,UAAWja,GAAMA,EAAEqF,QAAUkoB,GAChD3U,EAAMuU,EAAWnmB,EAAQmZ,GAC/B4G,EAAQ3L,KAAR,UAAgBxe,EAAOd,MAAvB,OAA8Bc,EAAOP,QAArC,YAAgDuc,EAAIvT,QAGtD,OACE,yBAAKvL,UAAU,WACb,yBAAKA,UAAU,qBACb,kBAAC,EAAD,CACEA,UAAU,sBACVa,MAAOizB,EAAS5nB,MAChBtL,aAAYkzB,EAAS5nB,MACrBiO,SAAU4J,EACVvgB,QAAS,IAAM4f,GAAM,IAErB,0BAAM1R,cAAY,QAAQqS,EAAU,GAAK+P,EAAStoB,QAElDgoB,GACA,kBAAC,KAAD,CACEnwB,GAAG,iBACH2I,mBAAmB,mBACnBR,KAAK,iBACLD,MAAOkoB,EACP1nB,QAASsnB,EACT5E,SAAUoF,IAGd,kBAAC,EAAD,CACE7zB,UAAU,sBACVa,MAAOkzB,EAAQ7nB,MACftL,aAAYmzB,EAAQ7nB,MACpBiO,SAAU6J,EACVxgB,QAAS,IAAM4f,EAAK,IAEpB,0BAAM1R,cAAY,QAAQsS,EAAS,GAAK+P,EAAQvoB,OAEjDgoB,GACC,kBAAC,KAAD,CACEnwB,GAAG,iBACH2I,mBAAmB,mBACnBR,KAAK,iBACLD,MAAOkoB,EACP1nB,QAASsnB,EACT5E,SAAUoF,KAIfH,GACC,kBAAC,KAAD,KACG,CAAC,kBAAC,GAAD,CAAYtwB,IAAI,eAAe4J,KAAM0mB,MAG3C,yBAAK1zB,UAAU,4CACb,kBAAC,KAAD,CAASA,UAAU,+EAChBs0B,GACC,4BACE,kBAAC,GAAD,CACEt0B,UAAU,uBACVyU,QAAS,EACT7E,MAAOoS,EACPnS,aAAc,EAAE8G,EAAGyD,KACjB,kBAAC,GAAD,CACEhX,IAAKgX,EAAK/W,GACV2J,KAAMoN,EACN+Y,YAAatF,EAAM6E,SAM5B4B,GACC,wBAAIt0B,UAAU,wBAAwBY,aAAW,eAEnD,4BACE,kBAAC,GAAD,CACEZ,UAAU,uBACVyU,QAAS,EACT7E,MAAO8R,KAAQzB,GAAS,KAAMF,GAAM6C,EAAUpB,IAASpB,IACvDvQ,aAAeuK,GACb,kBAAC,GAAD,CACEhX,IAAKgX,EAAK/W,GACV2J,KAAMoN,EACN+Y,YAAatF,EAAM6E,SAK1B6B,GACC,wBAAIv0B,UAAU,wBAAwBY,aAAW,eAElD2zB,GACC,4BACE,kBAAC,GAAD,CACEv0B,UAAU,uBACVyU,QAAS,EACT7E,MAAOsR,EACPrR,aAAc,EAAE8G,EAAGyD,KACjB,kBAAC,GAAD,CACEhX,IAAKgX,EAAK/W,GACV2J,KAAMoN,EACN+Y,YAAatF,EAAM6E,SAM5B8B,GACC,wBAAIx0B,UAAU,yBACZ,kBAAC,GAAD,CACEA,UAAU,uBACVyU,QAAS,EACT7E,MAAO+S,EACP9S,aAAc,EAAE8G,EAAGyD,KACjB,kBAAC,GAAD,CACEhX,IAAKgX,EAAK/W,GACV2J,KAAMoN,EACN+Y,YAAatF,EAAM6E,UAO/B,6BAAS1yB,UAAU,iEACjB,gCACE,wBAAIA,UAAU,8BACXyL,8BAAmB,GAAD,OACdmoB,EAAcjyB,MADA,OAEfiyB,EAAclZ,KAAd,YACSjP,8BAAmBmoB,EAAclZ,MAD1C,KAEI,GAJW,sBASvB,kBAAC,GAAD,CACE1a,UAAU,oBACV6X,iBAAiB,6BACjBC,YAAU,EACVvB,cAAY,EACZwB,mBAAiB,EACjBmC,SAAU0Z,EAAcjyB,KACxBkV,QAAS,IAAIpU,IAAI,CAAC,CAACmxB,EAAcvwB,GAAIuwB,W,OGxNjD,SAASa,GAAT,GAA8E,IAA/D,UAAEz0B,EAAF,QAAa00B,EAAb,SAAsBnuB,EAAtB,QAAgCouB,EAAhC,QAAyCC,GAAqB,EAAT10B,EAAS,sEAC3E,OACE,yCACEF,UAAWG,IACT,QACA,CAAE,iBAAkBw0B,EAAS,iBAAkBC,GAC/C50B,IAEEE,GAEJ,+BAAQw0B,GACR,+BAAQnuB,IAKdkuB,GAAMpkB,aAAe,CACnBskB,SAAS,EACTC,SAAS,GAUIH,UCtBAI,OATf,YAA0C,IAAtB,MAAE3oB,GAAmB,EAAThM,EAAS,yBACvC,OACE,yBAAKF,UAAU,cACb,wBAAIA,UAAU,qBAAqBkM,GACnC,kBAAC,GAAD,eAAOyoB,SAAO,EAACC,SAAO,GAAK10B,EAA3B,CAAkCF,UAAU,yB,OCGlD,MAAM80B,GAAkB,CACtB,aAAc,sCACdj0B,MAAO,WACPP,KAAM,KAGFy0B,GAAiB,CACrB,aAAc,oCACdl0B,MAAO,SACPP,KAAM,KAGR,SAAS00B,IAAe,KAAEhoB,EAAF,WAAQioB,EAAR,SAAoBC,IAC1C,MAAMC,IAAcD,EACdE,EAAcH,EAAaH,GAAkBC,GAEnD,OACE,yBACE/0B,UAAWG,IAAW,kBAAmB,CACvC,8BAA+Bg1B,KAGhCA,GACC,kBAACp1B,EAAA,OAAD,eACEC,UAAU,4BACNo1B,EAFN,CAGE5xB,QAAS0xB,KAGb,6BACE,kBAAC,GAAD,CAAS7Z,eAAe,wBAAwBrO,KAAMA,IACtD,6BAAMvB,8BAAmBuB,EAAKrL,SAMtCqzB,GAAe3kB,aAAe,CAC5B4kB,YAAY,EACZC,SAAU,MASGF,UC1Df,MAAMK,GAAiBnvB,GAAMA,EAEd,SAASovB,GAAQjiB,EAAMkiB,EAAYF,IAChD,MAAMhqB,EAAM,IAAI5I,IAYhB,OAVA4Q,EAAKmiB,QAASpb,IACZ,MAAMhX,EAAMmyB,EAAUnb,GAChBqb,EAAapqB,EAAIzI,IAAIQ,GACtBqyB,EAGHA,EAAWnU,KAAKlH,GAFhB/O,EAAI8L,IAAI/T,EAAK,CAACgX,MAMX/O,ECaF,MAAMqqB,GAAoBziB,GAC/BP,MAAMC,KAAKM,GACR5H,IAAI,EAAEjI,EAAKwM,KAAW,CAACxM,EAAKwM,EAAM9J,SAClCyO,KAAK,EAAEoC,EAAGqJ,IAAK2V,EAAIzV,KAAOA,EAAIF,GAEpB,SAAS4V,GAAgBrzB,EAASN,GAI/C,GAF4C,KADzBA,EAAQH,OAAOsJ,KAAKnJ,GAAO6D,OAAS,GAIrD,MAAO,GAGT,MAAM+vB,EAtCR,SAA4BtzB,EAASL,GACnC,OAAOJ,OAAOsJ,KAAKlJ,GAAY4zB,QAAS1yB,GACtClB,EAAWkB,GAAK2Q,SAAShB,MAAM,KAAK1H,IAAKhI,GAAOd,EAAQK,IAAIS,KAoCvC0yB,CAAmBxzB,EAASN,GAC7C+zB,EAAoBH,EAAe/vB,OACnC6a,EAAU2U,GAAQO,EAAiB3vB,GAAMA,EAAEkW,uBAC3C6Z,EAAiBvjB,MAAMC,KAAKgO,GAC/BtV,IAAI,EAAEjI,EAAKwM,KAAW,CAACxM,EAAKwM,EAAM9J,SAClCyO,KAAK,EAAEoC,EAAGqJ,IAAK2V,EAAIzV,KAAOA,EAAIF,GAE3BkW,EAvCR,SAAgCvV,GAC9B,MAAO,CACL,CACEzU,MAAM,oBACN4W,MAAOnC,EAAQ1a,OAAQC,GAAMA,EAAEoR,WAAWxR,OAAS,GAAGA,QAExD,CACEoG,MAAM,gBACN4W,MAAOnC,EAAQ1a,OACZC,GAA8B,IAAxBA,EAAEoR,WAAWxR,SAAiBkZ,GAAc9Y,IACnDJ,QAEJ,CACEoG,MAAM,uBACN4W,MAAOnC,EAAQ1a,OAAO+Y,IAAelZ,SAEvCyO,KAAK,CAACyL,EAAGE,IAAMA,EAAE4C,MAAQ9C,EAAE8C,OAuBNqT,CAAuBN,GAQ9C,MAAO,CACLG,oBACArV,UACAsV,iBACAxlB,MAXYilB,GACZJ,GAAQO,EAAeC,QAAS5vB,GAAMA,EAAEuK,MAAMpF,IAAK0F,GAAMA,EAAE1N,OAW3DokB,YATkBiO,GAClBJ,GAAQO,EAAexqB,IAAKnF,GAAMA,EAAEgR,cASpCgf,kB,OC4GWE,OA7Jf,WACE,MAAM,QAAE7zB,GAAY+gB,qBAAWtT,IACzBqmB,EAAY/S,qBAAWpT,KACtBhO,GAAc+E,mBAASuM,GAAW5Q,QAClC0zB,EAAoBC,GAAsBtvB,mBAAS,IAAIuL,IAAI,KAE5DgkB,EAAat0B,EAAaJ,OAAOsJ,KAAKlJ,GAAY4D,OAAS,EAC3D2wB,EAAsC,IAAfD,GAEvB,kBACJR,EADI,eAEJC,EAFI,QAGJtV,EAHI,MAIJlQ,EAJI,YAKJgX,EALI,eAMJyO,GACEjS,kBAAQ,IAAM2R,GAAgBrzB,EAASL,GAAa,CACtDK,EACAL,IAGF,OAAIu0B,EACK,kBAAC,GAAD,MAIP,yBAAKz2B,UAAU,mBACb,6BACE,wBAAIA,UAAU,0BAAd,mBACA,uBAAGA,UAAU,gCAAb,iRAIgE,IAC7Dg2B,EALH,mBAKsCQ,EALtC,YAQF,yBAAKx2B,UAAU,yBACb,kBAAC,GAAD,CACEkM,MAAM,UACN0oB,SAAS,EACTD,SAAS,EACTD,QACE,4BACE,wBAAI10B,UAAU,gBAAd,WACA,wBAAIA,UAAU,eAAd,WAIHi2B,EAAe5qB,IAAI,EAAEjI,EAAK0f,MACzB,MAAMvC,EAAG,YAAQnd,GACX0E,EAAIvF,EAAQK,IAAI2d,GAChB0U,EAAaqB,EAAmBrf,IAAI7T,GACpCszB,EAAiBhB,GACrBJ,GAAQ3U,EAAQ/d,IAAIQ,GAAO8C,GAAMA,EAAE7C,KAGrC,OACE,kBAAC,IAAMF,SAAP,CAAgBC,IAAKA,GACnB,wBAAIA,IAAKA,GACP,wBAAIpD,UAAU,gBACZ,kBAAC,GAAD,CACEi1B,WAAYA,EACZjoB,KAAMlF,EACNotB,SAAU,KACRqB,EACGI,GACC,IAAInkB,IACFmkB,EAASxQ,OAAO/iB,GACZuzB,EACAA,EAASjnB,IAAItM,SAM7B,wBAAIpD,UAAU,eAAe8iB,IAE9BmS,GACCyB,EAAerrB,IAAI,EAAEurB,EAAQ9T,MAC3B,MAAM+T,EAAOt0B,EAAQK,IAAIg0B,GAEzB,OACE,wBAAIxzB,IAAKwzB,EAAQ52B,UAAU,4BACzB,wBAAIA,UAAU,gBACZ,kBAAC,GAAD,CAAgBgN,KAAM6pB,KAExB,wBAAI72B,UAAU,eAAe8iB,UAQ7C,6BACE,yBAAK9iB,UAAU,+BACb,kBAAC,GAAD,CACEkM,MAAM,QACNwoB,QACE,4BACE,wBAAI10B,UAAU,gBAAd,QACA,wBAAIA,UAAU,eAAd,WAIHyQ,EAAMpF,IAAI,EAAEjI,EAAK0f,MAChB,MAAM/R,EAAIslB,EAAUzzB,IAAIQ,GACxB,OACE,wBAAIA,IAAKA,GACP,4BACE,kBAAC,GAAD,CAAWgN,QAAM,EAAC7E,MAAOwF,EAAEpP,QAE7B,wBAAI3B,UAAU,eAAe8iB,OAKrC,kBAAC,GAAD,CACE5W,MAAM,cACNwoB,QACE,4BACE,0CACA,wBAAI10B,UAAU,eAAd,WAIHynB,EAAYpc,IAAI,EAAEjI,EAAK0f,KACtB,wBAAI1f,IAAKA,GACP,4BAAKA,GACL,wBAAIpD,UAAU,eAAe8iB,MAInC,kBAAC,GAAD,CACE5W,MAAM,aACNwoB,QACE,4BACE,yCACA,wBAAI10B,UAAU,eAAd,WAIHk2B,EAAe7qB,IAAI,EAAGa,QAAO4W,WAC5B,wBAAI1f,IAAK8I,GACP,4BAAKA,GACL,wBAAIlM,UAAU,eAAe8iB,WC5JxC,MAAMgU,GACJ,QADIA,GAED,WAFCA,GAGF,UAHEA,GAIC,kBCoBd,MAGMC,GAAiB,GAqGRC,OAnGf,UAAa,MAAEnJ,EAAF,SAAS3b,IACpB+kB,4BAEA,OAAO,QAAE10B,EAAF,QAAW6lB,IAAanhB,mBAASqqB,OACjC4F,GAAgBjwB,mBf6ChBwJ,GAAMK,OAAO,CAAChJ,EAAGoR,KACtBpR,EAAEqP,IAAI+B,EAAE7V,GAAI6V,GACLpR,GACN,IAAIrF,Oe/CA00B,EAAcC,GAAmBnwB,mBAAS8vB,KAE3C,SAAE5J,EAAF,OAAYhb,GAAWD,GACvB,UAAE7N,EAAF,WAAagzB,EAAb,gBAAyBvtB,GAAoBma,kBACjD,ID/BW,SAAoCkJ,EAAUhb,GAC3D,MAAMmlB,EAAI,UAAMnK,GAAN,OAAiBhb,GAE3B,IAAI/O,EAAM,UAENk0B,EAAKzvB,SAASivB,IAChB1zB,EAAMk0B,EAAKzvB,SAAS,WAAa,eAAiB,aACzCyvB,EAAKzvB,SAASivB,IACvB1zB,EAAM,WACGk0B,EAAKzvB,SAASivB,IACvB1zB,EAAM,UACGk0B,EAAKzvB,SAASivB,MACvB1zB,EAAM,kBAGR,MAAMi0B,EAAa5rB,8BAAmBsE,GAAQ1L,UAAUjB,IACxD,MAAO,CACLiB,UAAWgzB,EACXA,WAAYA,EAAWzc,QAAQ,cAAY,IAC3C9Q,gBAAiBiG,GAAQjG,gBAAgB1G,ICYnCm0B,CAA2BpK,EAAUhb,GAC3C,CAACgb,EAAUhb,IAGP7P,EAAW0R,GAAcpR,MACzB40B,EAAWL,EAAalxB,OAC3BC,IAAO5D,EAASqP,aAAa9J,SAAS3B,EAAE7C,KAErCo0B,EAAcD,EAAS1xB,OAAS,EAItC,OCrDa,UAAiB,QAAEvD,EAAF,QAAW6lB,EAAX,aAAoB8O,IAClD,MAAMvW,EAAUjO,MAAMC,KAAKpQ,GAAS8I,IAAI,EAAEsL,EAAGzQ,KAAOA,GAEpD,IAAIsb,EAAQb,EAAQ1a,OAAQC,KAAQA,EAAEwU,MACtC,MAAMgd,EAAe/W,EAAQ1a,OAAQC,GACnCsb,EAAM5N,KACH+jB,GAAMA,EAAEvb,wBAA0BlW,EAAEkW,wBAA0BlW,EAAEwU,OAIrE8G,EAAQ,IAAI/e,IACV,IAAI+e,KAAUkW,GACXnjB,KAAK,CAACyL,EAAGE,IAAOF,EAAE3c,GAAK6c,EAAE7c,GAAK,EAAI2c,EAAE3c,GAAK6c,EAAE7c,IAAM,EAAI,GACrDgI,IAAKnF,GAAM,CAACA,EAAE7C,GAAI6C,KAGvB0xB,QAAQC,eAAe,YACvBD,QAAQE,IAAI,aAAc,mBAAoBv1B,GAC9Cq1B,QAAQE,IAAI,aAAc,mBAAoB1P,GAC9CwP,QAAQE,IAAI,aAAc,gBAAiBtW,GAC3CoW,QAAQE,IAAI,aAAc,qBAAsBZ,GAChDU,QAAQG,WD8BRC,CAAQ,CAAEz1B,UAAS6lB,UAAS8O,iBAG1B,kBAAClnB,GAAeioB,SAAhB,CAAyB1sB,MAAO,CAAEhJ,UAAS6lB,YACzC,kBAAClY,GAAY+nB,SAAb,CAAsB1sB,MAAO2rB,GAC3B,yBAAKl3B,UAAU,wBACb,kBAAC,EAAD,CAAWa,MAAOwD,EAAW5C,YAAaqI,IAE1C,kBAAC,EAAD,CAAWzF,UAAWgzB,IACrBI,GACC,kBAAC,IAAD,CACEnxB,iBAAiB,iBACjBjB,OAAQmyB,EACRpxB,QAAS,CACPC,oBAAsB6xB,IACpBd,EAAgB,IAChB,MAAM90B,EAAW0R,GAAcpR,MAC/BoR,GAAcmD,IAAI,CAChBxF,aAAc,IAAIrP,EAASqP,aAAcumB,SAMnD,kBAAC,GAAD,MACA,kBAAC,GAAD,KACIC,GACA,8BACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEb,KAAI,UAAKzJ,EAAM6E,KAAX,OAAiB5vB,EAAOb,OAC5B8K,UAAWiiB,KAEb,kBAAC,IAAD,CACEsI,KAAI,UAAKzJ,EAAM6E,KAAX,OAAiB5vB,EAAOT,gBAC5B0K,UAAWqpB,KAEb,kBAAC,IAAD,CACEkB,KAAI,UAAKzJ,EAAM6E,KAAX,OAAiB5vB,EAAOR,UAC5ByK,UAAWgmB,KAEb,kBAAC,IAAD,CACEuE,KAAI,UAAKzJ,EAAM6E,KAAX,OAAiB5vB,EAAOP,QAAxB,SACJwK,UAAW3C,KAEb,kBAAC,IAAD,CACEktB,KAAI,UAAKzJ,EAAM6E,IAAX,iBACJvsB,OAASjG,GACP,kBAAC,GAAD,iBAAiBA,EAAjB,CAAwBstB,UAAW2K,OAGvC,kBAAC,IAAD,CACEb,KAAK,IACLnxB,OAAQ,IACN,6BACE,kBAAC,EAAD,CACEtF,MAAM,iBACNY,YAAY,kBAEd,6CACA,iDACA,kBAACH,EAAD,CAAmBiC,GAAIsqB,EAAM6E,IAAK5D,MAAI,GAAtC,8BAOR,kBAAC,IAAD,QAIN,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAgBsJ,OAjGXC,UAiG2BC,QAhG1BD,cElBhB,MAAME,GAAcC,QACW,cAA7BtpB,OAAOgD,SAASumB,UAEe,UAA7BvpB,OAAOgD,SAASumB,UAEhBvpB,OAAOgD,SAASumB,SAAS5K,MACvB,2DAsCN,SAAS6K,GAAgBC,GACvBvpB,UAAUwpB,cACPC,SAASF,GACTG,KAAMC,IACLA,EAAaC,cAAgB,KAC3B,MAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,KACA,cAA3BF,EAAiB7zB,QACfgK,UAAUwpB,cAAcQ,WAK1BxB,QAAQE,IAAI,6CAKZF,QAAQE,IAAI,2CAMrBuB,MAAOC,IACN1B,QAAQ0B,MAAM,4CAA6CA,K,mEC3EjE,SAASC,GAAQ7G,IACH,IAAI8G,OACZ50B,IAAM8tB,ECGZ,MAAM+G,GAAWC,GAAa,KAC5B,MAAMC,EAVR,SAAoBD,GAClB,MAAMC,EAAKpqB,SAASqqB,eAAeF,GAKnC,OAJKC,GACH/B,QAAQiC,KAAR,UAAgBH,EAAhB,gBAGKC,EAIIG,CAAWJ,GACtBC,GAAMA,EAAGI,SAGI,QACbC,SAAU,CACRnwB,QAAS4vB,GAAQ,WACjBx3B,MAAOw3B,GAAQ,SACfn3B,SAAUm3B,GAAQ,YAClBl3B,QAASk3B,GAAQ,YAEnB5vB,QAAS,CACPowB,UAAWR,GAAQ,kBACnBS,KAAMT,GAAQ,aACdU,MAAOV,GAAQ,cACfW,gBAAiBX,GAAQ,oBACzB/pB,IAAMrM,GAAOo2B,GAAQ,UAAD,OAAWp2B,GAAlBo2B,GACbzxB,OAAS3E,IACP,MAAMg3B,EAAO,UAAMnrB,OAAOgD,SAASooB,QAAtB,OAA+BprB,OAAOgD,SAASib,UACtDoN,EAAYrrB,OAAOgD,SAASC,OAC/ByI,QAAQvX,EAAI,IACZuX,QAAQ,KAAM,KACdA,QAAQ,KAAM,KAEjB1L,OAAOgD,SAAStL,KAAhB,UAA0ByzB,GAA1B,OAAoCE,KAGxCj4B,SAAU,CACRk4B,aAAcf,GAAQ,aD5BxB,CAACgB,KAAKC,KAASjqB,MAAO+kB,QAAQ+D,IEIhCrqB,OAAOyrB,SAAWC,GAElBC,IAAS10B,OACP,kBAAC,IAAD,KACE,mBCfW,WACb,MAAM,SAAEgnB,GAAa2N,cAMrB,OAJAtzB,oBAAU,KACR0H,OAAO6rB,SAAS,EAAG,IAClB,CAAC5N,IAEG,ODQL,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU7pB,OAAK,EAACqP,KAAK,IAAIpP,GAAIT,EAAOd,OACpC,kBAAC,IAAD,CAAOs1B,KAAMx0B,EAAOd,KAAM+K,UAAWiqB,OAGzCznB,SAASqqB,eAAe,SHJX,WACb,GAA6C,kBAAmBxqB,UAAW,CAGzE,GADkB,IAAI4rB,IAAI3C,YAAwBnpB,OAAOgD,UAC3CooB,SAAWprB,OAAOgD,SAASooB,OAIvC,OAGFprB,OAAO0b,iBAAiB,OAAQ,KAC9B,MAAM+N,EAAK,UAAMN,YAAN,sBAEPE,KAiDV,SAAiCI,GAE/BsC,MAAMtC,GACHG,KAAMoC,IAGiB,MAApBA,EAASC,SACuD,IAAhED,EAASxG,QAAQ9xB,IAAI,gBAAgBw4B,QAAQ,cAG7ChsB,UAAUwpB,cAAcyC,MAAMvC,KAAMC,IAClCA,EAAauC,aAAaxC,KAAK,KAC7B5pB,OAAOgD,SAASqpB,aAKpB7C,GAAgBC,KAGnBU,MAAM,KACLzB,QAAQE,IACN,mEArEA0D,CAAwB7C,GAIxBvpB,UAAUwpB,cAAcyC,MAAMvC,KAAK,KACjClB,QAAQE,IACN,+GAMJY,GAAgBC,MGrBxB8C,I,qhwGE3BA57B,EAAOC,QAAU,00S,mBCAjBD,EAAOC,QAAU,IAA0B,8C","file":"static/js/main.eefc52fb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pokemon-opening.0d0730eb.ogg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/art.1cd4efae.webp\";","module.exports = __webpack_public_path__ + \"static/media/sprites.6edf465e.webp\";","module.exports = __webpack_public_path__ + \"static/media/types.ecadccdc.webp\";","import classNames from 'classnames';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { withButtonisation, Button as MButton } from 'meiko/Button';\r\nimport Icons from 'meiko/constants/icons';\r\n\r\nimport './Button.scss';\r\n\r\nexport const Button = ({ className, isAction, ...props }) => (\r\n  <MButton\r\n    className={classNames(\r\n      'lusamine-button',\r\n      { 'lusamine-button--action': isAction },\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n);\r\n\r\nexport const IconButton = ({ className, ...props }) => (\r\n  <MButton\r\n    className={classNames('lusamine-button', 'lusamine-icon-button', className)}\r\n    {...props}\r\n  />\r\n);\r\n\r\nexport const ClearButton = ({ className, ...props }) => (\r\n  <IconButton\r\n    icon={Icons.cross}\r\n    className={classNames('clear-button', className)}\r\n    {...props}\r\n  />\r\n);\r\n\r\nconst ArrowButton = ({ className, help, unrounded, ...props }) => (\r\n  <IconButton\r\n    className={classNames(\r\n      'arrow-button',\r\n      { 'arrow-button--square': unrounded },\r\n      className\r\n    )}\r\n    aria-label={help}\r\n    title={help}\r\n    {...props}\r\n  />\r\n);\r\n\r\nexport const LeftButton = (props) => (\r\n  <ArrowButton {...props} icon={Icons.left} help=\"Move left\" />\r\n);\r\n\r\nexport const RightButton = (props) => (\r\n  <ArrowButton {...props} icon={Icons.right} help=\"Move right\" />\r\n);\r\n\r\nexport const UpButton = (props) => (\r\n  <ArrowButton\r\n    {...props}\r\n    icon={Icons.up}\r\n    className=\"arrow-button--up\"\r\n    help=\"Move up\"\r\n    unrounded\r\n  />\r\n);\r\n\r\nexport const DownButton = (props) => (\r\n  <ArrowButton\r\n    {...props}\r\n    icon={Icons.down}\r\n    className=\"arrow-button--down\"\r\n    help=\"Move down\"\r\n    unrounded\r\n  />\r\n);\r\n\r\nexport const ButtonisedNavLink = withButtonisation(\r\n  ({ className, ...props }) => (\r\n    <NavLink\r\n      className={classNames('lusamine-button-link', className)}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Helmet, HelmetProvider } from 'react-helmet-async';\r\n\r\nfunction LusHelmet({ title, description }) {\r\n  return (\r\n    <HelmetProvider>\r\n      <Helmet title={title} titleTemplate=\"%s | Lusamine\">\r\n        <meta name=\"description\" content={description} />\r\n      </Helmet>\r\n    </HelmetProvider>\r\n  );\r\n}\r\n\r\nLusHelmet.displayName = 'AppHelmet';\r\nLusHelmet.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired\r\n};\r\n\r\nexport default LusHelmet;\r\n","export default Object.freeze({\r\n  base: '/lusamine',\r\n  teams: '/teams',\r\n  savedTeams: '/teams?tab=saved',\r\n  trainerTeams: '/teams?tab=trainer',\r\n  lusamineTeam: '/lusamine/?team=p_36,p_549,p_428,p_350,p_760',\r\n  teamStatistics: '/team-statistics',\r\n  settings: '/settings',\r\n  pokedex: '/pokedex'\r\n});\r\n","export const media = new Map([\r\n  ['xsmall', (n) => n < 768],\r\n  ['small', (n) => n <= 991],\r\n  ['large', (n) => n > 991]\r\n]);\r\n\r\nexport const isXS = media.get('xsmall');\r\n","import React from 'react';\r\n\r\nimport DropdownMenu from 'meiko/DropdownMenu';\r\nimport { nano } from 'meiko/styles/nano';\r\nimport { useWindowSize } from 'meiko/hooks/useWindowSize';\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport Routes from 'constants/routes';\r\nimport { isXS } from 'utils/media';\r\n\r\nconst PLANNER = 'planner';\r\nconst POKEDEX = 'pokedex';\r\nconst TEAMS = 'teams';\r\nconst SETTINGS = 'settings';\r\n\r\nconst teamsUrl = `${Routes.base}${Routes.teams}`;\r\nconst pokedexUrl = `${Routes.base}${Routes.pokedex}`;\r\nconst settingsUrl = `${Routes.base}${Routes.settings}`;\r\n\r\nfunction NavigationLinks({ onItemClick }) {\r\n  return (\r\n    <React.Fragment>\r\n      <ButtonisedNavLink\r\n        key={PLANNER}\r\n        id={PLANNER}\r\n        className=\"header-bar__link\"\r\n        exact\r\n        to={Routes.base}\r\n        onClick={onItemClick}\r\n      >\r\n        Team Planner\r\n      </ButtonisedNavLink>\r\n      <ButtonisedNavLink\r\n        key={POKEDEX}\r\n        id={POKEDEX}\r\n        className=\"header-bar__link\"\r\n        to={pokedexUrl}\r\n        onClick={onItemClick}\r\n      >\r\n        Pokedex\r\n      </ButtonisedNavLink>\r\n      <ButtonisedNavLink\r\n        key={TEAMS}\r\n        id={TEAMS}\r\n        className=\"header-bar__link\"\r\n        to={teamsUrl}\r\n        onClick={onItemClick}\r\n      >\r\n        Teams\r\n      </ButtonisedNavLink>\r\n      <ButtonisedNavLink\r\n        key={SETTINGS}\r\n        id={SETTINGS}\r\n        className=\"header-bar__link\"\r\n        to={settingsUrl}\r\n        onClick={onItemClick}\r\n      >\r\n        Settings\r\n      </ButtonisedNavLink>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst menuIcon = '\\u22EE';\r\nconst menuLabel = 'Open navigation menu';\r\n\r\n// unintrusive centering\r\nnano.put('.dropdown-menu', {\r\n  padding: '6px'\r\n});\r\n\r\nfunction NavigationMenu() {\r\n  const size = useWindowSize();\r\n\r\n  if (isXS(size.width)) {\r\n    return (\r\n      <DropdownMenu\r\n        align=\"right\"\r\n        icon={menuIcon}\r\n        aria-label={menuLabel}\r\n        title={menuLabel}\r\n      >\r\n        {(closeMenu) => <NavigationLinks onItemClick={closeMenu} />}\r\n      </DropdownMenu>\r\n    );\r\n  }\r\n\r\n  return <NavigationLinks />;\r\n}\r\n\r\nexport default NavigationMenu;\r\n","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport Header from 'meiko/Header';\r\nimport Image from 'meiko/Image';\r\nimport { useScrollPosition } from 'meiko/hooks/useScrollPosition';\r\nimport NavigationMenu from './NavigationMenu';\r\n\r\nimport Logo from 'assets/logo.png';\r\n\r\nimport './HeaderBar.scss';\r\n\r\nconst HeaderBar = React.memo(({ pageTitle }) => {\r\n  const windowScrollPosition = useScrollPosition();\r\n\r\n  const isPageScrolled = !!windowScrollPosition;\r\n  const headerClasses = classNames('header-bar', {\r\n    'header-bar--page-scrolled': isPageScrolled\r\n  });\r\n\r\n  return (\r\n    <Header\r\n      id=\"lusamine-header\"\r\n      className={headerClasses}\r\n      leftAlignTitle\r\n      title={pageTitle}\r\n      navLeft={<Image className=\"logo\" alt=\"Pokmon Logo\" src={Logo} />}\r\n      navRight={<NavigationMenu />}\r\n    />\r\n  );\r\n});\r\n\r\nHeaderBar.propTypes = {\r\n  pageTitle: PropTypes.string.isRequired\r\n};\r\n\r\nexport default HeaderBar;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport Alert from 'meiko/Alert';\r\n\r\nclass AlertContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      alerts: []\r\n    };\r\n    this.timer = null;\r\n\r\n    this.handleTriggeredAlert = this.handleTriggeredAlert.bind(this);\r\n    this.handleDismiss = this.handleDismiss.bind(this);\r\n  }\r\n\r\n  handleTriggeredAlert(alert) {\r\n    this.setState({ alerts: [alert] }, () => {\r\n      clearTimeout(this.timer);\r\n      this.timer = setTimeout(() => {\r\n        if (this.state.alerts.length) {\r\n          this.setState({ alerts: [] });\r\n        }\r\n      }, 5000);\r\n    });\r\n  }\r\n\r\n  handleDismiss(alertId) {\r\n    this.setState((prev) => ({\r\n      alerts: prev.alerts.filter((x) => x.id !== alertId)\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const actions = {\r\n      dismissAlertMessage: this.handleDismiss\r\n    };\r\n    return (\r\n      <React.Fragment>\r\n        <Alert\r\n          messageClassName=\"lusamine-alert\"\r\n          alerts={this.state.alerts}\r\n          actions={actions}\r\n        />\r\n        {this.props.children(this.handleTriggeredAlert)}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nAlertContainer.propTypes = {\r\n  children: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AlertContainer;\r\n","import React from 'react';\r\n\r\nimport NewTabLink from 'meiko/NewTabLink';\r\n\r\nimport './Footer.scss';\r\n\r\nconst currentYear = new Date().getFullYear();\r\n\r\nconst Footer = React.memo(() => (\r\n  <footer className=\"footer\">\r\n    <p>Pokmon is  of Nintendo, 1995-{currentYear}.</p>\r\n    <p>\r\n      Inspired by another{' '}\r\n      <NewTabLink href=\"https://richi3f.github.io/pokemon-team-planner/national_dex.html\">\r\n        Pokmon Team Planner\r\n      </NewTabLink>\r\n    </p>\r\n    <p>\r\n      Source code can be found{' '}\r\n      <NewTabLink href=\"https://github.com/bakuzan/lusamine\">here</NewTabLink>\r\n    </p>\r\n  </footer>\r\n));\r\n\r\nexport default Footer;\r\n","import { useState, useEffect } from 'react';\r\n\r\nimport createListeners from 'ayaka/createListeners';\r\n\r\nconst up = 'ArrowUp';\r\nconst down = 'ArrowDown';\r\nconst left = 'ArrowLeft';\r\nconst right = 'ArrowRight';\r\nconst b = 'KeyB';\r\nconst a = 'KeyA';\r\nconst konami = [up, up, down, down, left, right, left, right, b, a];\r\n\r\nexport function useKonami() {\r\n  const [queue, setQueue] = useState([]);\r\n\r\n  useEffect(() => {\r\n    function onKeyDown(e) {\r\n      const code = e.code;\r\n      if (konami.includes(code)) {\r\n        setQueue((p) => [...p, code]);\r\n      } else {\r\n        setQueue([]);\r\n      }\r\n    }\r\n\r\n    const listeners = createListeners('keydown', onKeyDown)();\r\n    listeners.listen();\r\n\r\n    return () => listeners.remove();\r\n  }, []);\r\n\r\n  const queueLastTen = queue.slice(-10);\r\n  return [konami.every((x, i) => x === queueLastTen[i]), () => setQueue([])];\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { ClearButton } from 'components/Buttons';\r\nimport { useKonami } from 'hooks/useKonami';\r\n\r\nimport mp3 from 'assets/pokemon-opening.mp3';\r\nimport ogg from 'assets/pokemon-opening.ogg';\r\n\r\nimport './EasterEgg.scss';\r\n\r\nfunction EasterEgg() {\r\n  const [isPlaying, setPlaying] = useState(false);\r\n  const [show, setShow] = useState(false);\r\n  const [usedKonamiCode, reset] = useKonami();\r\n\r\n  useEffect(() => {\r\n    if (usedKonamiCode && !show) {\r\n      setShow(true);\r\n    }\r\n  }, [show, usedKonamiCode]);\r\n\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"easter-egg\">\r\n      <div className=\"easter-egg__player\">\r\n        <label className=\"easter-egg__label\" htmlFor=\"easter-egg\">\r\n          {`${isPlaying ? 'Now Playing' : 'Paused'}: Pokemon Theme`}\r\n        </label>\r\n        <audio\r\n          id=\"easter-egg\"\r\n          className=\"easter-egg__audio\"\r\n          controls\r\n          autoPlay\r\n          onPlay={() => setPlaying(true)}\r\n          onPause={() => setPlaying(false)}\r\n        >\r\n          <source src={mp3} type=\"audio/mp3\" />\r\n          <source src={ogg} type=\"audio/ogg\" />\r\n        </audio>\r\n      </div>\r\n      <ClearButton\r\n        id=\"easter-egg-cancel\"\r\n        aria-label=\"Close easter egg\"\r\n        btnStyle=\"primary\"\r\n        onClick={() => {\r\n          setShow(false);\r\n          reset();\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EasterEgg;\r\n","export default {\r\n  emptyList: 'No Pokemon found using the selected filters.',\r\n  // screen sizes\r\n  large: 'large',\r\n  small: 'small',\r\n  idPrefix: {\r\n    regular: 'p',\r\n    mega: 'm',\r\n    variant: 'v',\r\n    empty: 'e'\r\n  },\r\n  typeBreakdown: {\r\n    weakTo: 'weakTo',\r\n    resists: 'resists',\r\n    unaffectedBy: 'unaffectedBy'\r\n  },\r\n  savedTeamsStorage: 'savedTeams',\r\n  settingsStorage: 'lusamineSettings',\r\n  pageTitle: {\r\n    planner: 'Pokmon team planner',\r\n    savedTeams: 'saved Pokmon teams',\r\n    settings: 'settings',\r\n    trainerTeams: 'trainer Pokmon teams',\r\n    pokedex: 'pokdex',\r\n    teamStatistics: 'saved team statistics'\r\n  },\r\n  pageDescription: {\r\n    planner:\r\n      'Pokmon team planning app for casual players. Save and share your Pokmon teams.',\r\n    savedTeams: 'View previously saved pokemon teams',\r\n    trainerTeams: 'View pokemon teams from famous trainers in the games',\r\n    settings: 'Adjustable application settings',\r\n    pokedex: 'Browse the pokedex to view information about each pokemon',\r\n    teamStatistics: 'View statistics for previously saved pokemon teams'\r\n  },\r\n  scoreModifier: {\r\n    none: 'none',\r\n    low: 'low',\r\n    medium: 'medium',\r\n    high: 'high'\r\n  }\r\n};\r\n","import { capitaliseEachWord } from 'ayaka/capitalise';\r\n\r\nexport const Pokedex = Object.freeze({\r\n  national: 'national',\r\n  kanto: 'kanto',\r\n  new: 'new',\r\n  johto: 'johto',\r\n  hoenn: 'hoenn',\r\n  hoenn_oras: 'hoenn ORAS',\r\n  sinnoh: 'sinnoh',\r\n  sinnoh_pt: 'sinnoh platinum',\r\n  unova: 'unova',\r\n  unova_n: 'unova new',\r\n  kalos: 'kalos',\r\n  alola: 'alola',\r\n  alola_u: 'alola ultra',\r\n  galar: 'galar'\r\n});\r\n\r\nexport const pokedexOptions = Object.keys(Pokedex).map((k) => ({\r\n  value: k,\r\n  text: capitaliseEachWord(Pokedex[k])\r\n}));\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport ClearableInput from 'meiko/ClearableInput';\r\nimport MultiSelect from 'meiko/MultiSelect';\r\nimport SelectBox from 'meiko/SelectBox';\r\nimport Tickbox from 'meiko/Tickbox';\r\nimport { useWindowSize } from 'meiko/hooks/useWindowSize';\r\n\r\nimport Strings from 'constants/strings';\r\nimport { pokedexOptions } from 'constants/pokedex';\r\nimport { media } from 'utils/media';\r\n\r\nimport './Filters.scss';\r\n\r\nconst FILTERS_INPUT_CLASS = 'filters__input';\r\n\r\nfunction Filters(props) {\r\n  const hideOnCertainScreens = !!props.hiddenOn;\r\n  const shouldHide = media.get(props.hiddenOn);\r\n  const size = useWindowSize();\r\n\r\n  if (shouldHide(size.width)) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <section\r\n      className={classNames('filters', {\r\n        [`filters--hide-on_${props.hiddenOn}`]: hideOnCertainScreens\r\n      })}\r\n    >\r\n      <SelectBox\r\n        id=\"active-pokedex\"\r\n        text=\"Active Pokedex\"\r\n        {...props.pokedexProps}\r\n        options={pokedexOptions}\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <ClearableInput\r\n        {...props.searchProps}\r\n        id=\"search\"\r\n        label=\"Search\"\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <MultiSelect\r\n        id=\"generations\"\r\n        name=\"generations\"\r\n        placeholder=\"Select generation(s)\"\r\n        label=\"Generation\"\r\n        {...props.generationProps}\r\n        className={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <MultiSelect\r\n        id=\"types\"\r\n        name=\"types\"\r\n        placeholder=\"Select type(s)\"\r\n        label=\"Type\"\r\n        {...props.typeProps}\r\n        className={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <MultiSelect\r\n        id=\"resists\"\r\n        name=\"resists\"\r\n        placeholder=\"Select resistance(s)\"\r\n        label=\"Resists\"\r\n        {...props.resistsProps}\r\n        className={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <MultiSelect\r\n        id=\"evolutions\"\r\n        name=\"evolutions\"\r\n        placeholder=\"Select evolution form(s)\"\r\n        label=\"Evolution Forms\"\r\n        {...props.evolutionsProps}\r\n        className={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <Tickbox\r\n        id=\"includeMega\"\r\n        name=\"includeMega\"\r\n        text=\"Include Megas\"\r\n        {...props.includeMegaProps}\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <Tickbox\r\n        id=\"includeVariants\"\r\n        name=\"includeVariants\"\r\n        text=\"Include variants\"\r\n        {...props.includeVariantsProps}\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n      <Tickbox\r\n        id=\"startersOnly\"\r\n        name=\"startersOnly\"\r\n        text=\"Starters only\"\r\n        {...props.startersOnlyProps}\r\n        containerClassName={classNames(FILTERS_INPUT_CLASS)}\r\n      />\r\n    </section>\r\n  );\r\n}\r\n\r\nconst multiselectPropTypes = PropTypes.shape({\r\n  values: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n  ),\r\n  options: PropTypes.arrayOf(PropTypes.object),\r\n  onUpdate: PropTypes.func\r\n}).isRequired;\r\n\r\nconst checkboxPropTypes = PropTypes.shape({\r\n  checked: PropTypes.bool,\r\n  onChange: PropTypes.func\r\n}).isRequired;\r\n\r\nFilters.propTypes = {\r\n  searchProps: PropTypes.shape({\r\n    value: PropTypes.string,\r\n    onChange: PropTypes.func\r\n  }).isRequired,\r\n  generationProps: multiselectPropTypes,\r\n  typeProps: multiselectPropTypes,\r\n  resistsProps: multiselectPropTypes,\r\n  evolutionsProps: multiselectPropTypes,\r\n  includeMegaProps: checkboxPropTypes,\r\n  includeVariantsProps: checkboxPropTypes,\r\n  startersOnlyProps: checkboxPropTypes,\r\n  pokedexProps: PropTypes.shape({\r\n    value: PropTypes.string,\r\n    onChange: PropTypes.func\r\n  }),\r\n  hiddenOn: PropTypes.oneOf([Strings.large, Strings.small])\r\n};\r\n\r\nexport default Filters;\r\n","export default Object.freeze({\r\n  teamMember: 'teamMember'\r\n});\r\n","import { findDOMNode } from 'react-dom';\r\nimport { DropTarget } from 'react-dnd';\r\n\r\nimport DnDType from 'constants/dndType';\r\n\r\nconst memberTarget = {\r\n  hover(props, monitor, component) {\r\n    if (!component) {\r\n      return null;\r\n    }\r\n\r\n    const { data: dragItem, index: dragIndex } = monitor.getItem();\r\n    const { data: hoverItem, index: hoverIndex } = props;\r\n\r\n    if (dragItem.id === hoverItem.id || !monitor.canDrop()) {\r\n      return;\r\n    }\r\n\r\n    const hoverBoundingRect = findDOMNode(component).getBoundingClientRect();\r\n\r\n    const hoverMiddleX = (hoverBoundingRect.right - hoverBoundingRect.left) / 2;\r\n    const clientOffset = monitor.getClientOffset();\r\n    const hoverClientX = clientOffset.x - hoverBoundingRect.left;\r\n\r\n    // Dragging left/right\r\n    if (dragIndex < hoverIndex && hoverClientX < hoverMiddleX) return;\r\n    if (dragIndex > hoverIndex && hoverClientX > hoverMiddleX) return;\r\n\r\n    props.moveDnD(dragIndex, hoverIndex);\r\n\r\n    // Prevents thrashing\r\n    monitor.getItem().index = hoverIndex;\r\n  },\r\n  canDrop(props) {\r\n    return !props.data.isEmpty;\r\n  }\r\n};\r\n\r\nfunction collectTarget(connect, monitor) {\r\n  return {\r\n    connectDropTarget: connect.dropTarget(),\r\n    isOver: monitor.isOver(),\r\n    canDrop: monitor.canDrop()\r\n  };\r\n}\r\n\r\nconst withDropTarget = DropTarget(\r\n  DnDType.teamMember,\r\n  memberTarget,\r\n  collectTarget\r\n);\r\nexport default withDropTarget;\r\n","import { DragSource } from 'react-dnd';\r\n\r\nimport DnDType from 'constants/dndType';\r\n\r\nconst memberSource = {\r\n  beginDrag(props) {\r\n    return { ...props };\r\n  },\r\n  canDrag(props) {\r\n    return !props.data.isEmpty;\r\n  }\r\n};\r\n\r\nfunction collectSource(connect, monitor) {\r\n  return {\r\n    connectDragSource: connect.dragSource(),\r\n    connectDragPreview: connect.dragPreview(),\r\n    isDragging: monitor.isDragging()\r\n  };\r\n}\r\n\r\nconst withDragSource = DragSource(\r\n  DnDType.teamMember,\r\n  memberSource,\r\n  collectSource\r\n);\r\nexport default withDragSource;\r\n","function isBrowser() {\r\n  return typeof window !== 'undefined';\r\n}\r\n\r\nexport default function isTouchDevice() {\r\n  if (isBrowser()) {\r\n    var confirmed =\r\n      'ontouchstart' in window ||\r\n      navigator.maxTouchPoints > 0 ||\r\n      navigator.msMaxTouchPoints > 0;\r\n\r\n    if (confirmed) {\r\n      var html = document.getElementsByTagName('html')[0];\r\n      html.classList.add('touchevents');\r\n    }\r\n\r\n    return confirmed;\r\n  }\r\n\r\n  return false;\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { default as MkoList } from 'meiko/List';\r\nimport Strings from 'constants/strings';\r\n\r\nconst List = ({ items, itemTemplate, ...props }) => {\r\n  const hasItems = items.length > 0;\r\n\r\n  return (\r\n    <MkoList {...props}>\r\n      {!hasItems && <li key=\"NONE\">{Strings.emptyList}</li>}\r\n      {hasItems && items.map(itemTemplate)}\r\n    </MkoList>\r\n  );\r\n};\r\n\r\nList.propTypes = {\r\n  shouldWrap: PropTypes.bool,\r\n  columns: PropTypes.number,\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([\r\n      PropTypes.object,\r\n      PropTypes.string,\r\n      PropTypes.number,\r\n      PropTypes.arrayOf(PropTypes.any)\r\n    ])\r\n  ).isRequired,\r\n  itemTemplate: PropTypes.func.isRequired\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\n\r\nexport const PokedexContext = React.createContext();\r\nexport const TypeContext = React.createContext();\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport './TypeBlock.scss';\r\n\r\nconst TypeBlock = React.memo(function TypeBlock(props) {\r\n  return (\r\n    <div\r\n      className={classNames('type', `type--${props.value}`, {\r\n        'type--center': props.center\r\n      })}\r\n      aria-label={`Type: ${props.value}`}\r\n    />\r\n  );\r\n});\r\n\r\nTypeBlock.defaultProps = {\r\n  center: false\r\n};\r\n\r\nTypeBlock.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  center: PropTypes.bool\r\n};\r\n\r\nexport default TypeBlock;\r\n","import { separateAndCapitalise } from 'ayaka/capitalise';\r\nimport Strings from 'constants/strings';\r\n\r\nexport const BREAKDOWN_ITEM_CLASS = 'breakdown-panel__item';\r\n\r\nconst getScoreModifier = (num) =>\r\n  !num\r\n    ? Strings.scoreModifier.none\r\n    : num < 3\r\n    ? Strings.scoreModifier.low\r\n    : num < 5\r\n    ? Strings.scoreModifier.medium\r\n    : Strings.scoreModifier.high;\r\n\r\nexport function getClassForScore(num) {\r\n  const modifier = getScoreModifier(num);\r\n  return `${BREAKDOWN_ITEM_CLASS}--${modifier}`;\r\n}\r\n\r\nexport function getScoreDescription(mod, score) {\r\n  const modifier = getScoreModifier(score);\r\n  return `A good score is ${mod}. This score is ${modifier}`;\r\n}\r\n\r\nexport function getScoreLabel(typeName, score) {\r\n  const modifier = getScoreModifier(score);\r\n  return `${separateAndCapitalise(typeName)}, Score ${modifier}.`;\r\n}\r\n","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport Grid from 'meiko/Grid';\r\nimport TypeBlock from 'components/TypeBlock';\r\nimport * as TBPU from './TeamBreakdownPanelUtils';\r\n\r\nimport './TeamBreakdownPanel.scss';\r\n\r\nfunction EffectiveTypeBreakdownPanel({\r\n  id,\r\n  data,\r\n  types,\r\n  panelModifier,\r\n  onMouseState = {}\r\n}) {\r\n  const listOfMemberIds = [...types.values()].reduce((p, t) => {\r\n    const ids = data.get(t.id);\r\n    if (!ids) {\r\n      return p;\r\n    }\r\n    return [...p, [t, ids]];\r\n  }, []);\r\n\r\n  return (\r\n    <Grid\r\n      className={classNames('breakdown-panel', {\r\n        [`breakdown-panel--good-is_${panelModifier}`]: true,\r\n        [`breakdown-panel--empty`]: listOfMemberIds.length === 0\r\n      })}\r\n      items={listOfMemberIds}\r\n    >\r\n      {([t, memberIds]) => {\r\n        const score = memberIds.length;\r\n        const typeStatusClass = TBPU.getClassForScore(score);\r\n        const title = TBPU.getScoreDescription(panelModifier, score);\r\n        const label = TBPU.getScoreLabel(t.name, score);\r\n        const mouseState = Object.keys(onMouseState).reduce(\r\n          (p, k) => ({ ...p, [k]: () => onMouseState[k](id, t.id, memberIds) }),\r\n          {}\r\n        );\r\n\r\n        return (\r\n          <li\r\n            key={t.id}\r\n            className={classNames(\r\n              TBPU.BREAKDOWN_ITEM_CLASS,\r\n              'list-item-bottom-spacing',\r\n              typeStatusClass\r\n            )}\r\n            title={title}\r\n            aria-label={label}\r\n            {...mouseState}\r\n          >\r\n            <TypeBlock value={t.name} />\r\n            <div\r\n              className={classNames('breakdown-panel__count')}\r\n              aria-label={`${score} members`}\r\n            >\r\n              <span aria-hidden={true}>{score}</span>\r\n            </div>\r\n          </li>\r\n        );\r\n      }}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nEffectiveTypeBreakdownPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  panelModifier: PropTypes.string,\r\n  types: PropTypes.object.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  onMouseState: PropTypes.shape({\r\n    onMouseEnter: PropTypes.func.isRequired,\r\n    onMouseLeave: PropTypes.func.isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default EffectiveTypeBreakdownPanel;\r\n","export default Object.freeze({\r\n  readMessages: [],\r\n  canDragAndDrop: true,\r\n  canUseArrows: true,\r\n  canEvolve: false,\r\n  enableSpriteScrollbox: false,\r\n  defaultPokedex: 'national'\r\n});\r\n","import constructObjectFromSearchParams from 'ayaka/constructObjectFromSearchParams';\r\nimport generateUniqueId from 'ayaka/generateUniqueId';\r\nimport isString from 'ayaka/isString';\r\nimport Store from 'ayaka/localStorage';\r\nimport Strings from 'constants/strings';\r\nimport SETTINGS_DEFAULTS from 'constants/settings';\r\n\r\nexport const getWindowScrollPosition = () =>\r\n  window.scrollY || window.pageYOffset || document.documentElement.scrollTop;\r\n\r\nexport function getUrlQueryStringAsObject(location) {\r\n  if (!location.search) {\r\n    return {};\r\n  }\r\n\r\n  return constructObjectFromSearchParams(location.search);\r\n}\r\n\r\nexport function combineValuesIntoSet(idSet, newValue) {\r\n  const ids = [...idSet];\r\n  const values = newValue ? [...ids, newValue] : ids;\r\n  return new Set(values);\r\n}\r\nexport function createIdStringFromSet(idSet, newValue) {\r\n  const values = combineValuesIntoSet(idSet, newValue);\r\n  return Array.from(values).join(',');\r\n}\r\n\r\nexport const createSetFromIdString = (str = '') =>\r\n  str ? new Set(str.split(',')) : new Set([]);\r\n\r\nexport const iterateMapToArray = (m) => Array.from(m.values());\r\nexport const iterateKeysToArray = (m) => Array.from(m.keys());\r\nexport const iterateMapToArrayEntries = (m) => Array.from(m.entries());\r\n\r\nexport const swapArrayPositions = (arr, from, to) => {\r\n  const list = arr.slice(0);\r\n  const fromValue = list[from];\r\n  list[from] = list[to];\r\n  list[to] = fromValue;\r\n  return list;\r\n};\r\n\r\nfunction arrayMove(x, from, to) {\r\n  x.splice(to < 0 ? x.length + to : to, 0, x.splice(from, 1)[0]);\r\n}\r\nexport const moveToNewArrayPosition = (arr, from, to) => {\r\n  const list = arr.slice(0);\r\n  arrayMove(list, from, to);\r\n  return list;\r\n};\r\n\r\nexport const teamsStore = new Store(Strings.savedTeamsStorage, {});\r\nteamsStore.upgrade((teams) => {\r\n  if (Object.keys(teams).length === 0) {\r\n    return {};\r\n  }\r\n\r\n  const teamKeys = Object.keys(teams);\r\n  const containsV1Data = teamKeys.some((k) => isString(teams[k]));\r\n  if (containsV1Data) {\r\n    return teamKeys.reduce((p, k) => {\r\n      const data = teams[k];\r\n      return {\r\n        ...p,\r\n        [k]: isString(data)\r\n          ? { name: generateUniqueId(), idString: data }\r\n          : data\r\n      };\r\n    }, {});\r\n  } else {\r\n    return teams;\r\n  }\r\n});\r\n\r\nexport const settingsStore = new Store(\r\n  Strings.settingsStorage,\r\n  SETTINGS_DEFAULTS\r\n);\r\nsettingsStore.upgrade((d) => ({ ...SETTINGS_DEFAULTS, ...d }));\r\n\r\nexport function selectMembersFromPokedex(dex, memberIds) {\r\n  return new Map(Array.from(memberIds).map((id) => [id, dex.get(id)]));\r\n}\r\n\r\nexport function selectMembersFromPokedexAllowDuplicates(dex, memberIds) {\r\n  return new Map(\r\n    Array.from(memberIds).map((id, i) => {\r\n      const customId = `${id}-d${i}`;\r\n      return [customId, { ...dex.get(id), id: customId }];\r\n    })\r\n  );\r\n}\r\n","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport List from 'components/List';\r\nimport { iterateKeysToArray } from 'utils/common';\r\n\r\nfunction StatBreakdownPanel({ id, nameSource, data, onMouseState = {} }) {\r\n  const keys = iterateKeysToArray(data).sort();\r\n\r\n  return (\r\n    <List\r\n      shouldWrap\r\n      columns={1}\r\n      items={keys}\r\n      itemTemplate={(key) => {\r\n        const name = nameSource(key);\r\n        const memberIds = data.get(key);\r\n        const value = memberIds.length;\r\n        const mouseState = Object.keys(onMouseState).reduce(\r\n          (p, k) => ({ ...p, [k]: () => onMouseState[k](id, key, memberIds) }),\r\n          {}\r\n        );\r\n\r\n        return (\r\n          <li key={key} className={classNames('padding-5')} {...mouseState}>\r\n            {`${name} - ${value}`}\r\n          </li>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nStatBreakdownPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  nameSource: PropTypes.func.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  onMouseState: PropTypes.shape({\r\n    onMouseEnter: PropTypes.func.isRequired,\r\n    onMouseLeave: PropTypes.func.isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default StatBreakdownPanel;\r\n","export default Object.freeze({\r\n  gen1: 1,\r\n  gen2: 2,\r\n  gen3: 3,\r\n  gen4: 4,\r\n  gen5: 5,\r\n  gen6: 6,\r\n  gen7: 7,\r\n  gen8: 8\r\n});\r\n","export default Object.freeze({\r\n  leveling: 1,\r\n  levelingHighFriendship: 2,\r\n  levelingWithMove: 3,\r\n  levelingAtLocation: 4,\r\n  levelingAtTime: 5,\r\n  levelingWithItem: 6,\r\n  levelingGender: 7,\r\n  levelingGame: 8,\r\n  levelingUniqueCondition: 9,\r\n  levelingAdditionalFactor: 10,\r\n  stone: 11,\r\n  stoneGender: 12,\r\n  trade: 13,\r\n  tradeWithItem: 14,\r\n  tradeForPokemon: 15\r\n});\r\n\r\nexport const EvolutionForms = Object.freeze({\r\n  notEvolved: 1,\r\n  fullyEvolved: 2\r\n});\r\n\r\n// Special Rules using national pokedex numbers\r\nconst BURMY = 412;\r\nconst WORMDAM = 413;\r\n\r\nconst SHELLOS = 422;\r\nconst GASTRODON = 423;\r\n\r\nconst DARMANITAN = 555;\r\n\r\nexport const evolvesToMatchedForm = [BURMY, WORMDAM, SHELLOS, GASTRODON];\r\nexport const excludeAltForm = [DARMANITAN];\r\n","import getKeyByValue from 'ayaka/getKeyByValue';\r\nimport { separateAndCapitaliseAll } from 'ayaka/capitalise';\r\nimport Strings from 'constants/strings';\r\nimport Generations from 'constants/generations';\r\nimport { EvolutionForms } from 'constants/evolutions';\r\nimport { iterateMapToArray, iterateMapToArrayEntries } from 'utils/common';\r\n\r\nfunction withFilterZeroes(m, filterZeroes) {\r\n  if (filterZeroes) {\r\n    const filteredEntries = iterateMapToArrayEntries(m).filter(\r\n      ([_, ids]) => ids.length\r\n    );\r\n    return new Map(filteredEntries);\r\n  }\r\n\r\n  return m;\r\n}\r\n\r\nexport function buildTeamWeaknessCounts(types, members, filterZeroes) {\r\n  const typesMapEmpty = [...types.values()].map((t) => [t.id, []]);\r\n  const memberTypeIds = [...members.values()].reduce(\r\n    (p, c) => [...p, { id: c.id, typeIds: c.types.map((x) => x.id) }],\r\n    []\r\n  );\r\n\r\n  const { unaffectedCounts, weakCounts, resistCounts } = memberTypeIds.reduce(\r\n    (maps, mem) => {\r\n      const unaffectedIds = mem.typeIds.reduce(\r\n        (p, tId) => [\r\n          ...p,\r\n          ...types.get(tId)[Strings.typeBreakdown.unaffectedBy]\r\n        ],\r\n        []\r\n      );\r\n      const weakIds = mem.typeIds.reduce(\r\n        (p, tId) => [...p, ...types.get(tId)[Strings.typeBreakdown.weakTo]],\r\n        []\r\n      );\r\n      const resistsIds = mem.typeIds.reduce(\r\n        (p, tId) => [...p, ...types.get(tId)[Strings.typeBreakdown.resists]],\r\n        []\r\n      );\r\n\r\n      return [...types.keys()].reduce((p, v) => {\r\n        const u = unaffectedIds.filter((x) => x === v).length;\r\n        const w = weakIds.filter((x) => x === v).length;\r\n        const r = resistsIds.filter((x) => x === v).length;\r\n\r\n        if (u > 0) {\r\n          p.unaffectedCounts.set(v, [...p.unaffectedCounts.get(v), mem.id]);\r\n        } else if (w > r) {\r\n          p.weakCounts.set(v, [...p.weakCounts.get(v), mem.id]);\r\n        } else if (w < r) {\r\n          p.resistCounts.set(v, [...p.resistCounts.get(v), mem.id]);\r\n        }\r\n\r\n        return p;\r\n      }, maps);\r\n    },\r\n    {\r\n      unaffectedCounts: new Map(typesMapEmpty.slice()),\r\n      weakCounts: new Map(typesMapEmpty.slice()),\r\n      resistCounts: new Map(typesMapEmpty.slice())\r\n    }\r\n  );\r\n\r\n  return [\r\n    {\r\n      key: Strings.typeBreakdown.weakTo,\r\n      counts: withFilterZeroes(weakCounts, filterZeroes),\r\n      goodCountModifier: Strings.scoreModifier.none\r\n    },\r\n    {\r\n      key: Strings.typeBreakdown.resists,\r\n      counts: withFilterZeroes(resistCounts, filterZeroes),\r\n      goodCountModifier: Strings.scoreModifier.high\r\n    },\r\n    {\r\n      key: Strings.typeBreakdown.unaffectedBy,\r\n      counts: withFilterZeroes(unaffectedCounts, filterZeroes),\r\n      goodCountModifier: Strings.scoreModifier.high\r\n    }\r\n  ];\r\n}\r\n\r\nfunction buildGenerationCounts(members) {\r\n  const genCounts = new Map([]);\r\n  return members.reduce((result, mem) => {\r\n    const values = result.has(mem.generation) ? result.get(mem.generation) : [];\r\n\r\n    return result.set(mem.generation, [...values, mem.id]);\r\n  }, genCounts);\r\n}\r\n\r\nfunction buildEvolutionFormCounts(members) {\r\n  const counts = new Map([\r\n    [EvolutionForms.notEvolved, []],\r\n    [EvolutionForms.fullyEvolved, []]\r\n  ]);\r\n\r\n  return members.reduce((result, mem) => {\r\n    const key = mem.evolutions.length\r\n      ? EvolutionForms.notEvolved\r\n      : EvolutionForms.fullyEvolved;\r\n\r\n    const values = result.get(key);\r\n    return result.set(key, [...values, mem.id]);\r\n  }, counts);\r\n}\r\n\r\nexport function buildStatCounts(members) {\r\n  const items = iterateMapToArray(members);\r\n  return [\r\n    {\r\n      key: 'Generations',\r\n      getKeyName: (val) => {\r\n        const name = getKeyByValue(Generations, val);\r\n        return separateAndCapitaliseAll(name);\r\n      },\r\n      counts: buildGenerationCounts(items)\r\n    },\r\n    {\r\n      key: 'Evolutions',\r\n      getKeyName: (val) => {\r\n        const name = getKeyByValue(EvolutionForms, val);\r\n        return separateAndCapitaliseAll(name);\r\n      },\r\n      counts: buildEvolutionFormCounts(items)\r\n    }\r\n  ];\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { separateAndCapitalise } from 'ayaka/capitalise';\r\nimport generateUniqueId from 'ayaka/generateUniqueId';\r\nimport { TypeContext } from 'context';\r\nimport { Button } from 'components/Buttons';\r\nimport List from 'components/List';\r\nimport EffectiveTypePanel from 'components/TeamBreakdownPanel/EffectiveTypePanel';\r\nimport StatBreakdownPanel from 'components/TeamBreakdownPanel/StatPanel';\r\nimport * as TBU from './TeamBreakdownUtils';\r\n\r\nimport './TeamBreakdown.scss';\r\n\r\nclass TeamBreakdown extends React.Component {\r\n  static contextType = TypeContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isCollapsed: true,\r\n      uniqueId: generateUniqueId()\r\n    };\r\n\r\n    this.handleToggle = this.handleToggle.bind(this);\r\n    this.handleMouseEnterLeave = this.handleMouseEnterLeave.bind(this);\r\n  }\r\n\r\n  handleToggle() {\r\n    this.setState((prev) => ({ isCollapsed: !prev.isCollapsed }));\r\n  }\r\n\r\n  handleMouseEnterLeave(...values) {\r\n    const { onMouseState } = this.props;\r\n    if (onMouseState) {\r\n      onMouseState(...values);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let types = this.context;\r\n    const {\r\n      className,\r\n      contentClassName,\r\n      alwaysOpen,\r\n      filterZeroes,\r\n      typeBreakdownOnly,\r\n      members\r\n    } = this.props;\r\n\r\n    const teamId = this.props.id;\r\n    const isCollapsed = !alwaysOpen && this.state.isCollapsed;\r\n    const renderNonTypes = !typeBreakdownOnly;\r\n    const noMembers = members.size === 0;\r\n    const enableToggle = !alwaysOpen && !noMembers;\r\n    const showContent = (!isCollapsed && !noMembers) || alwaysOpen;\r\n    const breakdownDescription = `breakdownDescription_${this.state.uniqueId}`;\r\n\r\n    const mouseState = {\r\n      onMouseEnter: this.handleMouseEnterLeave,\r\n      onMouseLeave: this.handleMouseEnterLeave\r\n    };\r\n\r\n    const statCounts = TBU.buildStatCounts(members);\r\n    const weaknessCounts = TBU.buildTeamWeaknessCounts(\r\n      types,\r\n      members,\r\n      filterZeroes\r\n    );\r\n\r\n    return (\r\n      <div\r\n        className={classNames('team-breakdown', className)}\r\n        aria-describedby={breakdownDescription}\r\n      >\r\n        <p id={breakdownDescription} className=\"for-screenreader-only\">\r\n          This is a breakdown of meta information about{' '}\r\n          {this.props.teamName || 'the team'}. This includes generation counts,\r\n          form counts, and various type weaknesses and strengths.\r\n        </p>\r\n        {!alwaysOpen && (\r\n          <Button\r\n            id={`toggle-breakdown${teamId ? `_${teamId}` : ''}`}\r\n            isAction\r\n            className={classNames('team-breakdown__action')}\r\n            disabled={!enableToggle}\r\n            onClick={this.handleToggle}\r\n          >\r\n            {isCollapsed ? `Show team breakdown` : `Hide team breakdown`}\r\n          </Button>\r\n        )}\r\n        {showContent && (\r\n          <div\r\n            className={classNames('team-breakdown__content', contentClassName)}\r\n          >\r\n            {renderNonTypes && (\r\n              <List\r\n                className={classNames(\r\n                  'team-breakdown__list',\r\n                  'stat-breakdown-list'\r\n                )}\r\n                items={statCounts}\r\n                itemTemplate={(item) => (\r\n                  <li\r\n                    key={item.key}\r\n                    aria-label={`${item.key} breakdown`}\r\n                    className={classNames(\r\n                      'team-breakdown__item',\r\n                      'stat-breakdown-list__item'\r\n                    )}\r\n                  >\r\n                    <div className={classNames('breakdown-item-title')}>\r\n                      <div\r\n                        className={classNames('breakdown-item-title__text')}\r\n                        aria-hidden={true}\r\n                      >\r\n                        {item.key}\r\n                      </div>\r\n                    </div>\r\n                    <StatBreakdownPanel\r\n                      id={item.key}\r\n                      nameSource={item.getKeyName}\r\n                      data={item.counts}\r\n                      onMouseState={{ ...mouseState }}\r\n                    />\r\n                  </li>\r\n                )}\r\n              />\r\n            )}\r\n            <List\r\n              columns={1}\r\n              className={classNames(\r\n                'team-breakdown__list',\r\n                'type-breakdown-list'\r\n              )}\r\n              items={weaknessCounts}\r\n              itemTemplate={(item) => {\r\n                const effectiveBreakdownTitle = separateAndCapitalise(item.key);\r\n                const effectiveTypePanelLabel = `\"${effectiveBreakdownTitle}\" breakdown. A good score is ${item.goodCountModifier}.`;\r\n\r\n                return (\r\n                  <li\r\n                    key={item.key}\r\n                    aria-label={effectiveTypePanelLabel}\r\n                    className={classNames(\r\n                      'team-breakdown__item',\r\n                      'type-breakdown-list__item'\r\n                    )}\r\n                  >\r\n                    <div className={classNames('breakdown-item-title')}>\r\n                      <div\r\n                        className={classNames('breakdown-item-title__text')}\r\n                        aria-hidden={true}\r\n                      >\r\n                        {effectiveBreakdownTitle}\r\n                      </div>\r\n                    </div>\r\n                    <EffectiveTypePanel\r\n                      id={item.key}\r\n                      panelModifier={item.goodCountModifier}\r\n                      types={types}\r\n                      data={item.counts}\r\n                      onMouseState={{ ...mouseState }}\r\n                    />\r\n                  </li>\r\n                );\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTeamBreakdown.defaultProps = {\r\n  alwaysOpen: false,\r\n  filterZeroes: false,\r\n  typeBreakdownOnly: false\r\n};\r\n\r\nTeamBreakdown.propTypes = {\r\n  className: PropTypes.string,\r\n  contentClassName: PropTypes.string,\r\n  alwaysOpen: PropTypes.bool,\r\n  filterZeroes: PropTypes.bool,\r\n  typeBreakdownOnly: PropTypes.bool,\r\n  teamName: PropTypes.string,\r\n  members: PropTypes.instanceOf(Map),\r\n  onMouseState: PropTypes.func\r\n};\r\n\r\nexport default TeamBreakdown;\r\n","const MEGA = 'mega-';\r\nconst MEGA_X = '-x';\r\nconst MEGA_Y = '-y';\r\nconst ALOLA = 'alola-';\r\n\r\nconst constructNameClass = (className) => (name, form) => {\r\n  let pokemonName = name\r\n    .replace(/ /g, '-')\r\n    .replace(/[.':]/g, '')\r\n    .replace(//g, '-male')\r\n    .replace(//g, '');\r\n\r\n  if (pokemonName.includes(MEGA)) {\r\n    pokemonName = `${pokemonName.replace(MEGA, '')}-mega`;\r\n    if (pokemonName.includes(MEGA_X)) {\r\n      pokemonName = `${pokemonName.replace(MEGA_X, '')}-x`;\r\n    } else if (pokemonName.includes(MEGA_Y)) {\r\n      pokemonName = `${pokemonName.replace(MEGA_Y, '')}-y`;\r\n    }\r\n  } else if (pokemonName.includes(ALOLA)) {\r\n    pokemonName = `${pokemonName.replace(ALOLA, '')}-alola`;\r\n  }\r\n\r\n  return `${className}__pokemon--${pokemonName}${form ? `-${form}` : ''}`;\r\n};\r\n\r\nconst constructNameClassForSprite = constructNameClass('sprite');\r\n\r\nconst constructNameClassForArtCard = constructNameClass('art-card');\r\n\r\nconst indexToText = (i) => (i === 0 ? 'position-first' : 'position-second');\r\nconst constructTypeClasses = (className) => (types) => {\r\n  return types\r\n    .reduce((p, c, i) => `${p} ${className}--${c.name}_${indexToText(i)}`, '')\r\n    .trim();\r\n};\r\n\r\nconst constructTypeClassesForSprite = constructTypeClasses('sprite');\r\n\r\nconst constructTypeClassesForArtCard = constructTypeClasses('art-card');\r\n\r\nexport function buildSelectorsForSprite(data) {\r\n  const types = constructTypeClassesForSprite(data.types);\r\n  const name = constructNameClassForSprite(data.name);\r\n  return {\r\n    types,\r\n    name\r\n  };\r\n}\r\n\r\nexport function buildSelectorsForArtCard(data) {\r\n  const types = constructTypeClassesForArtCard(data.types);\r\n  const name = constructNameClassForArtCard(data.name, data.form);\r\n  return {\r\n    types,\r\n    name\r\n  };\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { capitaliseEachWord } from 'ayaka/capitalise';\r\nimport { buildSelectorsForArtCard } from 'utils/selectors';\r\n\r\nimport './ArtCard.scss';\r\n\r\nfunction ArtCard({ className, containerClass, data }) {\r\n  const backgroundPosition = data.artPosition;\r\n  const artCardClasses = buildSelectorsForArtCard(data);\r\n\r\n  return (\r\n    <div\r\n      className={classNames('art-card', artCardClasses.types, containerClass)}\r\n    >\r\n      <div\r\n        className={classNames(\r\n          'art-card__pokemon',\r\n          className,\r\n          artCardClasses.name\r\n        )}\r\n        style={backgroundPosition}\r\n        aria-label={capitaliseEachWord(\r\n          `${data.name}${\r\n            data.form ? ` (${capitaliseEachWord(data.form)})` : ''\r\n          }`\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nArtCard.propTypes = {\r\n  containerClass: PropTypes.string,\r\n  data: PropTypes.object\r\n};\r\n\r\nexport default ArtCard;\r\n","export default Object.freeze({\r\n  moveLeft: -1,\r\n  moveRight: 1,\r\n  moveUp: -1,\r\n  moveDown: 1\r\n});\r\n","export default Object.freeze({\r\n  MAX_SIZE: 6,\r\n  START_INDEX: 0,\r\n  END_INDEX: 5\r\n});\r\n","import generateUniqueId from 'ayaka/generateUniqueId';\r\nimport Strings from 'constants/strings';\r\n\r\nconst defaultIdSuffix = (o) => o.nationalPokedexNumber;\r\nconst constructId = (c, fn = defaultIdSuffix) => (dataMap, obj) => {\r\n  let num = 0;\r\n  let id = `${c}_${fn(obj)}`;\r\n\r\n  while (dataMap && dataMap.has(id)) {\r\n    num += 1;\r\n    id = `${c}_${fn(obj)}_${num}`;\r\n  }\r\n\r\n  return id;\r\n};\r\n\r\nexport const generatePokemonId = constructId(Strings.idPrefix.regular);\r\nexport const generateVariantPokemonId = constructId(\r\n  Strings.idPrefix.variant,\r\n  // Only suffix variants after gen 7 to prevent saved teams breaking\r\n  (o) =>\r\n    o.regionId > 7\r\n      ? `${o.nationalPokedexNumber}_r${o.regionId}`\r\n      : defaultIdSuffix(o)\r\n);\r\nexport const generateMegaPokemonId = constructId(\r\n  Strings.idPrefix.mega,\r\n  (o) => `${o.nationalPokedexNumber}${o.suffix}`\r\n);\r\nexport const generateEmptyPokemonId = (id) =>\r\n  constructId(Strings.idPrefix.empty, () => generateUniqueId())(null, id);\r\n","export default Object.freeze({\r\n    normal: 1,\r\n    grass: 2,\r\n    fire: 3,\r\n    water: 4,\r\n    fighting: 5,\r\n    flying: 6,\r\n    poison: 7,\r\n    ground: 8,\r\n    rock: 9,\r\n    bug: 10,\r\n    ghost: 11,\r\n    electric: 12,\r\n    psychic: 13,\r\n    ice: 14,\r\n    dragon: 15,\r\n    dark: 16,\r\n    steel: 17,\r\n    fairy: 18\r\n});","export default Object.freeze({\r\n  kanto: 1,\r\n  johto: 2,\r\n  hoenn: 3,\r\n  sinnoh: 4,\r\n  unova: 5,\r\n  kalos: 6,\r\n  alola: 7,\r\n  galar: 8\r\n});\r\n","import Types from './types';\r\nimport Regions from './regions';\r\nimport Evolutions from './evolutions';\r\nimport Strings from './strings';\r\nimport Generations from './generations';\r\nimport Party from './party';\r\nimport Routes from './routes';\r\n\r\nexport default {\r\n  Types,\r\n  Regions,\r\n  Evolutions,\r\n  Strings,\r\n  Generations,\r\n  Party,\r\n  Routes\r\n};\r\n","import { generateEmptyPokemonId } from 'data/idGenerators';\r\nimport Constants from 'constants/index';\r\nconst { Party, Generations, Strings } = Constants;\r\n\r\nconst GEN2_START = 152;\r\nconst GEN3_START = 252;\r\nconst GEN4_START = 387;\r\nconst GEN5_START = 494;\r\nconst GEN6_START = 650;\r\nconst GEN7_START = 722;\r\nconst GEN8_START = 810;\r\nexport function getGeneration(dexNum) {\r\n  if (dexNum < GEN2_START) return Generations.gen1;\r\n  if (dexNum < GEN3_START) return Generations.gen2;\r\n  if (dexNum < GEN4_START) return Generations.gen3;\r\n  if (dexNum < GEN5_START) return Generations.gen4;\r\n  if (dexNum < GEN6_START) return Generations.gen5;\r\n  if (dexNum < GEN7_START) return Generations.gen6;\r\n  if (dexNum < GEN8_START) return Generations.gen7;\r\n  return Generations.gen8;\r\n}\r\n\r\nfunction createEmptyPokemon() {\r\n  const id = generateEmptyPokemonId();\r\n  return [\r\n    id,\r\n    {\r\n      id,\r\n      nationalPokedexNumber: 0,\r\n      name: 'empty',\r\n      types: [],\r\n      evolutions: [],\r\n      generation: null,\r\n      isEmpty: true\r\n    }\r\n  ];\r\n}\r\n\r\nexport const generateEmptySlots = () => {\r\n  const emptySlots = Array(Party.MAX_SIZE).fill(null).map(createEmptyPokemon);\r\n\r\n  return new Map(emptySlots);\r\n};\r\n\r\nconst checkPokemonId = (check) => (mon) => mon.id.startsWith(`${check}_`);\r\n\r\nexport const isEmptyPokemon = (mon) => mon.nationalPokedexNumber === 0;\r\nexport const isMegaPokemon = checkPokemonId(Strings.idPrefix.mega);\r\nexport const isVariantPokemon = checkPokemonId(Strings.idPrefix.variant);\r\nexport const isAltFormPokemon = (mon) =>\r\n  mon.id.split('_').length === 3 && !isVariantPokemon(mon);\r\n\r\nconst isTrainerTeamMember = (mon) => mon.id.includes('-d');\r\n\r\nexport function isNotBasePokemon(mon) {\r\n  return (\r\n    isMegaPokemon(mon) ||\r\n    isVariantPokemon(mon) ||\r\n    isAltFormPokemon(mon) ||\r\n    isTrainerTeamMember(mon)\r\n  );\r\n}\r\n\r\nexport const isBasePokemon = (mon) => !isNotBasePokemon(mon);\r\n\r\nconst getIdParts = (id) => id.split('_').slice(2);\r\n\r\nexport function isVariantRegionMatch(p1, p2, matchForms = true) {\r\n  const [r1, f1] = getIdParts(p1.id);\r\n  const [r2, f2] = getIdParts(p2.id);\r\n\r\n  return (\r\n    isVariantPokemon(p1) &&\r\n    isVariantPokemon(p2) &&\r\n    r1 === r2 &&\r\n    ((matchForms && f1 === f2) || !matchForms)\r\n  );\r\n}\r\n\r\nexport const hasForm = (mon) => mon.form !== '';\r\n","export function merge(...a) {\r\n  return a.reduce((p, c) => [...p, ...c], []);\r\n}\r\n\r\nexport function distinct(k, a) {\r\n  return a.filter((b, i, arr) => arr.findIndex((c) => c[k] === b[k]) === i);\r\n}\r\n","import { isMegaPokemon, isVariantPokemon } from 'utils/derivedData';\r\nimport { merge, distinct } from 'utils/lists';\r\n\r\nexport const orderKeys = ['nationalPokedexNumber', 'id'];\r\n\r\nexport function formsForNPN(mons, npn) {\r\n  return mons.filter(\r\n    (x) =>\r\n      x.nationalPokedexNumber === npn &&\r\n      !isMegaPokemon(x) &&\r\n      !isVariantPokemon(x)\r\n  );\r\n}\r\n\r\nexport function includeForms(pokemon, initial) {\r\n  const forms = initial.reduce(\r\n    (p, x) => [...p, ...formsForNPN(pokemon, x.nationalPokedexNumber)],\r\n    []\r\n  );\r\n\r\n  return distinct('id', merge(initial, forms));\r\n}\r\n\r\nexport function resolveVariantId(npn, rSuff, rnSuff) {\r\n  let id = `v_${npn}`;\r\n  if (rSuff) {\r\n    id += `_${rSuff}`;\r\n  }\r\n  if (rnSuff) {\r\n    id += `_${rnSuff}`;\r\n  }\r\n  return id;\r\n}\r\n","import orderBy from 'ayaka/orderBy';\r\nimport { evolvesToMatchedForm, excludeAltForm } from 'constants/evolutions';\r\nimport {\r\n  isVariantPokemon,\r\n  isVariantRegionMatch,\r\n  isAltFormPokemon,\r\n  isBasePokemon,\r\n  hasForm\r\n} from 'utils/derivedData';\r\nimport { iterateMapToArray } from 'utils/common';\r\n\r\nimport { includeForms, orderKeys } from './helpers';\r\n\r\nexport default function getEvolves(dex, data, exhaustive) {\r\n  const { nationalPokedexNumber: npn, evolutions: baseEvolutions } = data;\r\n  const pokemon = iterateMapToArray(dex);\r\n  const isVariant = isVariantPokemon(data);\r\n  const hasAForm = hasForm(data);\r\n  let evolutions = [...baseEvolutions];\r\n\r\n  const regionals = pokemon.filter(\r\n    (x) => x.nationalPokedexNumber === npn && isVariantPokemon(x)\r\n  );\r\n\r\n  if (exhaustive) {\r\n    const otherEvos = regionals.reduce((p, c) => [...p, ...c.evolutions], []);\r\n    evolutions = [...evolutions, ...otherEvos].filter(\r\n      (o, i, arr) =>\r\n        arr.findIndex(\r\n          (x) => x.evolvesTo === o.evolvesTo && x.regionId === o.regionId\r\n        ) === i\r\n    );\r\n  }\r\n\r\n  const hasRegional = evolutions.some((e) => e.regionId);\r\n  let evolves = evolutions\r\n    .filter((e) => exhaustive || !hasRegional || (hasRegional && e.regionId))\r\n    .reduce((p, x) => {\r\n      const vs = pokemon.filter(\r\n        (m) =>\r\n          m.nationalPokedexNumber === x.evolvesTo &&\r\n          (isVariant === isVariantRegionMatch(data, m) || x.regionId)\r\n      );\r\n\r\n      const hasV = vs.some(isVariantPokemon);\r\n\r\n      let xMons = [];\r\n      if (isVariant && !exhaustive) {\r\n        xMons = vs.filter((v) => hasV === isVariantPokemon(v));\r\n      } else if (hasV && (!regionals.length || exhaustive)) {\r\n        xMons = vs;\r\n      } else {\r\n        xMons = vs.filter((x) => isBasePokemon(x) || isAltFormPokemon(x));\r\n      }\r\n\r\n      const evos = xMons.filter(\r\n        (x) =>\r\n          (!evolvesToMatchedForm.includes(x.nationalPokedexNumber) &&\r\n            !(excludeAltForm.includes(x.nationalPokedexNumber) && x.form)) ||\r\n          (evolvesToMatchedForm.includes(x.nationalPokedexNumber) &&\r\n            x.form === data.form)\r\n      );\r\n\r\n      return [...p, ...evos];\r\n    }, []);\r\n\r\n  // Special temporary state \"sideways\" evolves\r\n  // E.g. Darmanitan -> Darmanitan (Zen)\r\n  if (!exhaustive && excludeAltForm.includes(npn)) {\r\n    evolves.push(\r\n      ...pokemon.filter(\r\n        (m) =>\r\n          npn === m.nationalPokedexNumber &&\r\n          isVariant === isVariantPokemon(m) &&\r\n          !hasAForm &&\r\n          hasAForm !== hasForm(m)\r\n      )\r\n    );\r\n  }\r\n\r\n  evolves = exhaustive ? includeForms(pokemon, evolves) : evolves;\r\n  return orderBy(evolves, orderKeys).map((x) => ['Evolve to ', x]);\r\n}\r\n","import orderBy from 'ayaka/orderBy';\r\nimport { evolvesToMatchedForm, excludeAltForm } from 'constants/evolutions';\r\nimport {\r\n  isVariantPokemon,\r\n  isVariantRegionMatch,\r\n  isMegaPokemon,\r\n  hasForm\r\n} from 'utils/derivedData';\r\nimport { iterateMapToArray } from 'utils/common';\r\n\r\nimport { orderKeys, resolveVariantId } from './helpers';\r\n\r\nexport default function getDevolves(dex, data, exhaustive) {\r\n  const { nationalPokedexNumber: npn, generation } = data;\r\n  const isVariant = isVariantPokemon(data);\r\n  const isExcludeAltForm = excludeAltForm.includes(npn) && hasForm(data);\r\n\r\n  const [rSuff, rNumSuff] = data.id.split('_').slice(2);\r\n  const dexAsArray = iterateMapToArray(dex);\r\n  let devolves = [];\r\n\r\n  // Special temporary state \"sideways\" devolves\r\n  // E.g. Darmanitan (Zen) -> Darmanitan\r\n  if (!exhaustive && isExcludeAltForm) {\r\n    devolves = dexAsArray.filter((x) => {\r\n      const matchingVariance = isVariant\r\n        ? isVariantRegionMatch(data, x, false)\r\n        : !isVariantPokemon(x);\r\n\r\n      return (\r\n        matchingVariance &&\r\n        excludeAltForm.includes(x.nationalPokedexNumber) &&\r\n        !hasForm(x)\r\n      );\r\n    });\r\n  } else if (!exhaustive && isMegaPokemon(data)) {\r\n    devolves = []; // Handled by getMegaTransitions\r\n  } else {\r\n    devolves = dexAsArray.filter((x) => {\r\n      const nonVariantMatch =\r\n        !isVariant &&\r\n        (!isVariantPokemon(x) ||\r\n          (isVariantPokemon(x) &&\r\n            x.evolutions.some((e) => e.evolvesTo === npn && e.regionId)) ||\r\n          exhaustive);\r\n\r\n      const variantMatch =\r\n        isVariant &&\r\n        (isVariantRegionMatch(data, x) ||\r\n          !dex.has(resolveVariantId(x.nationalPokedexNumber, rSuff, rNumSuff)));\r\n\r\n      const matchedFormCondition =\r\n        !evolvesToMatchedForm.includes(x.nationalPokedexNumber) ||\r\n        (evolvesToMatchedForm.includes(x.nationalPokedexNumber) &&\r\n          x.form === data.form);\r\n\r\n      const hasRegional = x.evolutions.some((e) => e.regionId);\r\n      const hasEvolutionCondition = x.evolutions.some(\r\n        (e) =>\r\n          e.evolvesTo === npn && (!hasRegional || e.regionId === generation)\r\n      );\r\n\r\n      return (\r\n        (nonVariantMatch || variantMatch) &&\r\n        hasEvolutionCondition &&\r\n        matchedFormCondition\r\n      );\r\n    });\r\n  }\r\n\r\n  return orderBy(devolves, orderKeys).map((x) => ['Devolve to ', x]);\r\n}\r\n","import { isMegaPokemon, isVariantPokemon } from 'utils/derivedData';\r\n\r\nexport default function getMegaTransitions(dex, data) {\r\n  const { nationalPokedexNumber: npn } = data;\r\n\r\n  if (isVariantPokemon(data)) {\r\n    return [];\r\n  }\r\n\r\n  const isMega = isMegaPokemon(data);\r\n  const megaIds = isMega\r\n    ? [`p_${npn}`]\r\n    : [`m_${npn}`, `m_${npn}x`, `m_${npn}y`];\r\n\r\n  return [...megaIds]\r\n    .map((pkmId) => [isMega ? 'Devolve to ' : 'Evolve to ', dex.get(pkmId)])\r\n    .filter((x) => !!x[1]);\r\n}\r\n","import orderBy from 'ayaka/orderBy';\r\n\r\nimport { isVariantPokemon, isEmptyPokemon } from 'utils/derivedData';\r\nimport { iterateMapToArray } from 'utils/common';\r\n\r\nimport getEvolves from './getEvolves';\r\nimport getDevolves from './getDevolves';\r\nimport getMegaTransitions from './getMegaTransitions';\r\nimport { formsForNPN, orderKeys } from './helpers';\r\n\r\nexport default function generateEvolutionOptions(\r\n  dex,\r\n  data,\r\n  exhaustive = false\r\n) {\r\n  if (isEmptyPokemon(data)) {\r\n    return {\r\n      devolves: [],\r\n      evolves: [],\r\n      forms: [],\r\n      megas: [],\r\n      variants: [],\r\n      asList() {\r\n        return [];\r\n      },\r\n      count() {\r\n        return 0;\r\n      }\r\n    };\r\n  }\r\n\r\n  const variants = [data];\r\n  let forms = [];\r\n\r\n  if (exhaustive) {\r\n    const { nationalPokedexNumber: npn } = data;\r\n    const pokemon = iterateMapToArray(dex);\r\n\r\n    const regionals = pokemon.filter(\r\n      (x) => x.nationalPokedexNumber === npn && isVariantPokemon(x)\r\n    );\r\n\r\n    variants.push(...regionals);\r\n    forms = formsForNPN(pokemon, npn);\r\n  }\r\n\r\n  return {\r\n    devolves: getDevolves(dex, data, exhaustive),\r\n    evolves: getEvolves(dex, data, exhaustive),\r\n    forms: orderBy(forms, orderKeys),\r\n    megas: getMegaTransitions(dex, data),\r\n    variants: orderBy(variants, orderKeys),\r\n    asList() {\r\n      return [...this.devolves, ...this.evolves, ...this.megas];\r\n    },\r\n    count() {\r\n      return this.asList().length;\r\n    }\r\n  };\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React, { useState, useContext, useMemo } from 'react';\r\n\r\nimport { capitaliseEachWord } from 'ayaka/capitalise';\r\nimport generateUniqueId from 'ayaka/generateUniqueId';\r\nimport Icons from 'meiko/constants/icons';\r\nimport ArtCard from 'components/ArtCard';\r\nimport {\r\n  ClearButton,\r\n  LeftButton,\r\n  RightButton,\r\n  Button,\r\n  IconButton,\r\n  ButtonisedNavLink\r\n} from 'components/Buttons';\r\nimport { withDragAndDrop } from 'components/DragAndDrop';\r\nimport TypeBlock from 'components/TypeBlock';\r\nimport List from 'components/List';\r\nimport Routes from 'constants/routes';\r\nimport Orders from 'constants/orders';\r\nimport Party from 'constants/party';\r\nimport { PokedexContext } from 'context';\r\n\r\nimport generateEvolutionOptions from 'utils/generateEvolutionOptions';\r\nimport { isNotBasePokemon } from 'utils/derivedData';\r\nimport pokeball from 'assets/pokeball.png';\r\n\r\nimport './TeamMember.scss';\r\n\r\nconst TeamMember = React.memo(\r\n  React.forwardRef(function TeamMember(\r\n    {\r\n      className,\r\n      index,\r\n      partyEndIndex,\r\n      data,\r\n      isHighlighted,\r\n      isDragging,\r\n      isOver,\r\n      remove,\r\n      move,\r\n      evolve,\r\n      canDrop,\r\n      ...props\r\n    },\r\n    ref\r\n  ) {\r\n    const { pokedex } = useContext(PokedexContext);\r\n    const [memberId] = useState(() => `${data.id}_${generateUniqueId()}`);\r\n    const [displayEvolveMenu, setDisplayEvolveMenu] = useState(false);\r\n\r\n    const hasData = !data.isEmpty;\r\n    const hasCustomActions = !!props.renderCustomActions;\r\n    const canRemove = hasData && !!remove;\r\n    const canReOrder = hasData && !!move;\r\n    const canEvolve = hasData && !!evolve;\r\n\r\n    const isFirst = index === Party.START_INDEX;\r\n    const isLast = index === partyEndIndex;\r\n\r\n    const evolutions = useMemo(() => generateEvolutionOptions(pokedex, data), [\r\n      pokedex,\r\n      data\r\n    ]);\r\n    const disableEvolve = evolutions.count() === 0;\r\n\r\n    if (displayEvolveMenu) {\r\n      return (\r\n        <li\r\n          ref={ref}\r\n          id={memberId}\r\n          className={classNames(\r\n            'team-member',\r\n            {\r\n              'team-member--highlighted': isHighlighted,\r\n              'team-member--empty': !hasData,\r\n              'team-member--dragging': isDragging,\r\n              'team-member--is-over': isOver && canDrop\r\n            },\r\n            className\r\n          )}\r\n        >\r\n          <div className={classNames('team-member__back-container')}>\r\n            <IconButton\r\n              className=\"team-member__action back-button\"\r\n              icon={Icons.left}\r\n              title=\"Back to member card\"\r\n              aria-label=\"Back to member card\"\r\n              onClick={() => setDisplayEvolveMenu(false)}\r\n            />\r\n          </div>\r\n          <List\r\n            columns={1}\r\n            items={evolutions.asList()}\r\n            itemTemplate={([text, x]) => {\r\n              const num = x.nationalPokedexNumber;\r\n              const form = x.form ? ` (${capitaliseEachWord(x.form)})` : '';\r\n              const fullName = capitaliseEachWord(`${x.name}${form}`);\r\n              const evolveTarget = `${text} #${num} ${fullName}`;\r\n\r\n              return (\r\n                <li key={x.id}>\r\n                  <Button\r\n                    className=\"team-member__evolution-button\"\r\n                    aria-label={`${text} ${x.name}`}\r\n                    onClick={() => evolve(data.id, x.id)}\r\n                  >\r\n                    {evolveTarget}\r\n                  </Button>\r\n                </li>\r\n              );\r\n            }}\r\n          />\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const idSource = isNotBasePokemon(data)\r\n      ? `p_${data.nationalPokedexNumber}`\r\n      : data.id;\r\n\r\n    const pokedexUrl = `${Routes.base}${Routes.pokedex}/${idSource}`;\r\n\r\n    return (\r\n      <li\r\n        ref={ref}\r\n        id={memberId}\r\n        className={classNames(\r\n          'team-member',\r\n          {\r\n            'team-member--highlighted': isHighlighted,\r\n            'team-member--empty': !hasData,\r\n            'team-member--dragging': isDragging,\r\n            'team-member--is-over': isOver && canDrop\r\n          },\r\n          className\r\n        )}\r\n      >\r\n        <div className={classNames('team-member__clear-container')}>\r\n          {hasData && (\r\n            <div\r\n              className={classNames('team-member__npn', {\r\n                'team-member__npn--with-remove': canRemove\r\n              })}\r\n            >\r\n              <p\r\n                id={`pokedexDescription_${memberId}`}\r\n                className=\"for-screenreader-only\"\r\n              >\r\n                Click the national pokedex number of{' '}\r\n                {capitaliseEachWord(data.name)} to go to the corresponding\r\n                pokedex page.\r\n              </p>\r\n              <ButtonisedNavLink\r\n                className=\"team-member__pokedex-link\"\r\n                to={pokedexUrl}\r\n                aria-describedby={`pokedexDescription_${memberId}`}\r\n              >\r\n                {`#${data.nationalPokedexNumber}`}\r\n              </ButtonisedNavLink>\r\n            </div>\r\n          )}\r\n          {canRemove && (\r\n            <ClearButton\r\n              className=\"team-member__action\"\r\n              title=\"Remove member from team\"\r\n              aria-label=\"Remove member from team\"\r\n              onClick={() => remove(data.id)}\r\n            />\r\n          )}\r\n        </div>\r\n        <ArtCard\r\n          className={classNames({ 'team-member__art': hasData })}\r\n          data={data}\r\n        />\r\n        <div className={classNames('team-member__name-bubble')}>\r\n          {capitaliseEachWord(data.name)}\r\n        </div>\r\n        <div className={classNames('team-member__types')}>\r\n          {data.types.map((type) => (\r\n            <TypeBlock key={type.id} value={type.name} />\r\n          ))}\r\n        </div>\r\n        <div\r\n          className={classNames('team-member__action-container')}\r\n          aria-describedby={`memberActions_${memberId}`}\r\n        >\r\n          <p id={`memberActions_${memberId}`} className=\"for-screenreader-only\">\r\n            Here are a range of team member actions including the ability to\r\n            move the team member left or right in the team, and evolve/devolve\r\n            the team member. These actions can be enabled/disabled in the\r\n            settings page.\r\n          </p>\r\n          {hasCustomActions && props.renderCustomActions({ data })}\r\n          {canReOrder && (\r\n            <LeftButton\r\n              className=\"team-member__action\"\r\n              disabled={isFirst}\r\n              onClick={() => move(data.id, Orders.moveLeft)}\r\n            />\r\n          )}\r\n          {canEvolve && (\r\n            <Button\r\n              className=\"team-member__action team-member__evolve\"\r\n              title=\"Open evolve member list\"\r\n              aria-label=\"Open evolve member list\"\r\n              disabled={disableEvolve}\r\n              onClick={() => setDisplayEvolveMenu(true)}\r\n            >\r\n              <img src={pokeball} alt=\"pokeball\" width={24} height={24} />\r\n            </Button>\r\n          )}\r\n          {canReOrder && (\r\n            <RightButton\r\n              className=\"team-member__action\"\r\n              disabled={isLast}\r\n              onClick={() => move(data.id, Orders.moveRight)}\r\n            />\r\n          )}\r\n        </div>\r\n      </li>\r\n    );\r\n  })\r\n);\r\n\r\nTeamMember.propTypes = {\r\n  className: PropTypes.string,\r\n  data: PropTypes.object.isRequired,\r\n  isHighlighted: PropTypes.bool,\r\n  remove: PropTypes.func,\r\n  move: PropTypes.func,\r\n  partyEndIndex: PropTypes.number,\r\n  renderCustomActions: PropTypes.func\r\n};\r\n\r\nexport default TeamMember;\r\nexport const TeamMemberDraggable = withDragAndDrop(TeamMember, ArtCard);\r\n","import React from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport { default as TouchBackend } from 'react-dnd-touch-backend';\r\n\r\nimport withDropTarget from './Target';\r\nimport withDragSource from './Source';\r\nimport isTouchDevice from './supportsTouch';\r\n\r\nexport function getBackend() {\r\n  if (isTouchDevice()) {\r\n    return TouchBackend;\r\n  } else {\r\n    return HTML5Backend;\r\n  }\r\n}\r\n\r\nexport function withDragAndDrop(WrappedComponent, PlaceholderComponent) {\r\n  class DragAndDropWrapper extends React.Component {\r\n    render() {\r\n      const {\r\n        connectDropTarget,\r\n        connectDragSource,\r\n        connectDragPreview,\r\n        ...props\r\n      } = this.props;\r\n\r\n      return (\r\n        <WrappedComponent\r\n          {...props}\r\n          ref={(instance) => {\r\n            const element = findDOMNode(instance);\r\n            connectDragSource(element);\r\n            connectDropTarget(element);\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return withDragSource(withDropTarget(DragAndDropWrapper));\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { DndProvider } from 'react-dnd';\r\n\r\nimport { getBackend } from '../DragAndDrop';\r\nimport List from 'components/List';\r\nimport TeamBreakdown from 'components/TeamBreakdown';\r\nimport TeamMember, { TeamMemberDraggable } from 'components/TeamMember';\r\nimport { generateEmptySlots } from 'utils/derivedData';\r\nimport {\r\n  iterateMapToArray,\r\n  iterateKeysToArray,\r\n  swapArrayPositions,\r\n  moveToNewArrayPosition,\r\n  settingsStore\r\n} from 'utils/common';\r\n\r\nimport './Team.scss';\r\n\r\nconst DNDBackend = getBackend();\r\n\r\nconst highlightDefaultState = {\r\n  dataType: null,\r\n  dataId: null,\r\n  memberIds: []\r\n};\r\n\r\nclass Team extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      emptyMembers: generateEmptySlots(),\r\n      members: new Map([]),\r\n      settings: settingsStore.get(),\r\n      highlight: { ...highlightDefaultState }\r\n    };\r\n\r\n    this.handleMemberRemove = this.handleMemberRemove.bind(this);\r\n    this.handleMemberMove = this.handleMemberMove.bind(this);\r\n    this.handleMemberEvolve = this.handleMemberEvolve.bind(this);\r\n    this.handleMemberDnD = this.handleMemberDnD.bind(this);\r\n    this.handleMouseState = this.handleMouseState.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const members = iterateKeysToArray(nextProps.members);\r\n    const oldMembers = iterateKeysToArray(prevState.members);\r\n\r\n    if (members !== oldMembers) {\r\n      return {\r\n        members: nextProps.members\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  padPartyToSixMembers(members) {\r\n    const emptys = iterateMapToArray(this.state.emptyMembers);\r\n    const memArr = iterateMapToArray(members);\r\n    return [...memArr, ...emptys].slice(0, 6);\r\n  }\r\n\r\n  handleMemberRemove(dataId) {\r\n    const members = new Map([...this.state.members.entries()]);\r\n    members.delete(dataId);\r\n    const memberIds = new Set(iterateKeysToArray(members));\r\n    this.props.onMembersUpdate(memberIds);\r\n  }\r\n\r\n  handleMemberMove(dataId, direction) {\r\n    const members = iterateKeysToArray(this.state.members);\r\n    const oldIndex = members.findIndex((x) => x === dataId);\r\n    const newIndex = oldIndex + direction;\r\n    const newOrderMembers = swapArrayPositions(members, oldIndex, newIndex);\r\n    const memberIds = new Set(newOrderMembers);\r\n    this.props.onMembersUpdate(memberIds);\r\n  }\r\n\r\n  handleMemberEvolve(dataId, evolveToId) {\r\n    const members = iterateKeysToArray(this.state.members);\r\n    const newMembers = members.map((x) => (x === dataId ? evolveToId : x));\r\n    const memberIds = new Set(newMembers);\r\n    this.props.onMembersUpdate(memberIds);\r\n  }\r\n\r\n  handleMemberDnD(dragIndex, hoverIndex) {\r\n    if (dragIndex === hoverIndex) {\r\n      return; // ignore these\r\n    }\r\n\r\n    const members = iterateKeysToArray(this.state.members);\r\n    const newOrderMembers = moveToNewArrayPosition(\r\n      members,\r\n      dragIndex,\r\n      hoverIndex\r\n    );\r\n    const memberIds = new Set(newOrderMembers);\r\n    this.props.onMembersUpdate(memberIds);\r\n  }\r\n\r\n  handleMouseState(dataType, dataId, memberIds) {\r\n    this.setState((prev) => {\r\n      const isSame =\r\n        prev.highlight.dataType === dataType &&\r\n        prev.highlight.dataId === dataId;\r\n\r\n      return isSame\r\n        ? { highlight: { ...highlightDefaultState } }\r\n        : { highlight: { dataType, dataId, memberIds } };\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { highlight, settings } = this.state;\r\n\r\n    const highlightMembers = highlight.memberIds;\r\n    const lastMemberIndex = this.state.members.size - 1;\r\n    const members = this.padPartyToSixMembers(this.state.members);\r\n\r\n    const canRemove = !!this.props.onMembersUpdate;\r\n    const canReOrder = !!this.props.onMembersUpdate;\r\n    const canEvolve = !!this.props.onMembersUpdate && settings.canEvolve;\r\n\r\n    const removeMember = canRemove ? this.handleMemberRemove : null;\r\n    const evolveMember = canEvolve ? this.handleMemberEvolve : null;\r\n    const moveMember =\r\n      canReOrder && settings.canUseArrows ? this.handleMemberMove : null;\r\n    const [moveMemberDnD, Member] =\r\n      canReOrder && settings.canDragAndDrop\r\n        ? [this.handleMemberDnD, TeamMemberDraggable]\r\n        : [null, TeamMember];\r\n\r\n    return (\r\n      <DndProvider backend={DNDBackend} context={window}>\r\n        <div>\r\n          {this.props.name && (\r\n            <div className=\"team-name\">{this.props.name}</div>\r\n          )}\r\n          <List\r\n            className={classNames('team')}\r\n            items={members}\r\n            itemTemplate={(item, i) => (\r\n              <Member\r\n                key={item.id}\r\n                index={i}\r\n                partyEndIndex={lastMemberIndex}\r\n                data={item}\r\n                isHighlighted={highlightMembers.includes(item.id)}\r\n                remove={removeMember}\r\n                move={moveMember}\r\n                moveDnD={moveMemberDnD}\r\n                evolve={evolveMember}\r\n              />\r\n            )}\r\n          />\r\n          <TeamBreakdown\r\n            id={this.props.id}\r\n            teamName={`team ${this.props.name || 'nameless'}`}\r\n            members={this.state.members}\r\n            onMouseState={this.handleMouseState}\r\n          />\r\n        </div>\r\n      </DndProvider>\r\n    );\r\n  }\r\n}\r\n\r\nTeam.propTypes = {\r\n  id: PropTypes.string,\r\n  name: PropTypes.string,\r\n  types: PropTypes.object.isRequired,\r\n  members: PropTypes.object,\r\n  onMembersUpdate: PropTypes.func\r\n};\r\n\r\nexport default Team;\r\n","import { capitalise, separateAndCapitaliseAll } from 'ayaka/capitalise';\r\nimport Types from 'constants/types';\r\nimport Generations from 'constants/generations';\r\nimport { EvolutionForms } from 'constants/evolutions';\r\nimport { isMegaPokemon, isVariantPokemon } from 'utils/derivedData';\r\n\r\nconst padInt = (n) => `${n}`.padStart(3, '0');\r\n\r\nfunction isExcludedEvolutionType(pEvolutions, evolutionFilters) {\r\n  const length = evolutionFilters.length;\r\n  if (length === 2) return false;\r\n  if (length === 0) return true;\r\n\r\n  const filter = evolutionFilters[0];\r\n  return (\r\n    (filter === EvolutionForms.notEvolved && !pEvolutions.length) ||\r\n    (filter === EvolutionForms.fullyEvolved && pEvolutions.length)\r\n  );\r\n}\r\n\r\nfunction applyDexFilters(item, filters, typeMatches) {\r\n  const {\r\n    currentTeamIds,\r\n    generations,\r\n    types,\r\n    resists,\r\n    evolutions,\r\n    search,\r\n    includeMega,\r\n    includeVariants,\r\n    startersOnly\r\n  } = filters;\r\n  if (!includeMega && isMegaPokemon(item)) {\r\n    return true;\r\n  }\r\n  if (!includeVariants && isVariantPokemon(item)) {\r\n    return true;\r\n  }\r\n  if (startersOnly && !item.isStarter) {\r\n    return true;\r\n  }\r\n\r\n  const npn = padInt(item.nationalPokedexNumber);\r\n\r\n  return (\r\n    currentTeamIds.has(item.id) ||\r\n    ![npn, item.name, item.form].some((x) => x.includes(search)) ||\r\n    !generations.includes(item.generation) ||\r\n    !item.types.some((x) => types.includes(x.id)) ||\r\n    !item.types.some((x) => {\r\n      const { resists: resistsForType, unaffectedBy } = typeMatches.get(x.id);\r\n      return (\r\n        resists.some((r) => resistsForType.includes(r)) ||\r\n        resists.some((r) => unaffectedBy.includes(r))\r\n      );\r\n    }) ||\r\n    isExcludedEvolutionType(item.evolutions, evolutions)\r\n  );\r\n}\r\n\r\nexport function iteratePokedexToList(\r\n  { pokedex, regions },\r\n  filters,\r\n  typeMatches\r\n) {\r\n  const dexKey = regions[filters.activePokedex];\r\n  const dex = !dexKey\r\n    ? Array.from(pokedex)\r\n    : dexKey.reduce((p, x) => {\r\n        const region = x.region > 7 ? `_r${x.region}` : '';\r\n        const m = x.isVariant\r\n          ? pokedex.get(`v_${x.nationalPokedexNumber}${region}${x.formSuffix}`)\r\n          : pokedex.get(`p_${x.nationalPokedexNumber}${x.formSuffix}`);\r\n\r\n        if (!m) {\r\n          return p;\r\n        }\r\n\r\n        return [...p, [m.id, m]];\r\n      }, []);\r\n\r\n  return dex.reduce((acc, [_, item]) => {\r\n    if (applyDexFilters(item, filters, typeMatches)) {\r\n      return acc;\r\n    }\r\n\r\n    return [...acc, item];\r\n  }, []);\r\n}\r\n\r\nconst getAllEnumValues = (obj) => Object.keys(obj).map((k) => obj[k]);\r\n\r\nconst getEnumOptions = (obj, fn) =>\r\n  Object.keys(obj).map((k) => ({\r\n    value: obj[k],\r\n    text: fn(k)\r\n  }));\r\n\r\nexport const generationOptions = getEnumOptions(\r\n  Generations,\r\n  (k) => `${capitalise(k.slice(0, 3))} ${k.slice(-1)}`\r\n);\r\n\r\nexport const generationDefaults = getAllEnumValues(Generations);\r\n\r\nexport const typeOptions = getEnumOptions(Types, (k) => capitalise(k));\r\nexport const typeDefaults = getAllEnumValues(Types);\r\n\r\nexport const evolutionOptions = getEnumOptions(EvolutionForms, (k) =>\r\n  separateAndCapitaliseAll(k)\r\n);\r\n\r\nexport const evolutionDefaults = getAllEnumValues(EvolutionForms);\r\n\r\nexport const selectRandomSetOfIds = (dexData, filters, typeMatches) => {\r\n  const randomTeam = new Set([]);\r\n  const pokemon = iteratePokedexToList(dexData, filters, typeMatches);\r\n\r\n  return Array(6)\r\n    .fill(null)\r\n    .reduce((team) => {\r\n      const randomIndex = Math.floor(Math.random() * pokemon.length);\r\n      const selected = pokemon[randomIndex];\r\n\r\n      return team.add(selected.id);\r\n    }, randomTeam);\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { capitaliseEachWord } from 'ayaka/capitalise';\r\nimport Tooltip from 'meiko/Tooltip';\r\n\r\nimport { buildSelectorsForSprite } from 'utils/selectors';\r\n\r\nimport './Sprite.scss';\r\n\r\nconst Sprite = React.memo(function(props) {\r\n  const { data, onClick } = props;\r\n  const backgroundPosition = data.spritePosition;\r\n\r\n  const spriteId = `sprite-${data.id}`;\r\n  const spriteClasses = buildSelectorsForSprite(data);\r\n  const hasClick = !!onClick;\r\n  const spriteClick = hasClick ? () => onClick(data.id) : null;\r\n  const capitalisedName = capitaliseEachWord(\r\n    `${data.name}${data.form ? ` (${capitaliseEachWord(data.form)})` : ''}`\r\n  );\r\n\r\n  return (\r\n    <div className={classNames('margin-one', 'sprite', spriteClasses.types)}>\r\n      <p id={`describe_${spriteId}`} className=\"for-screenreader-only\">\r\n        Click {capitalisedName} to add as a current team member.\r\n      </p>\r\n      <Tooltip\r\n        contentId={`tooltip_${spriteId}`}\r\n        className=\"sprite__tooltip\"\r\n        usePosition=\"above\"\r\n        attachTo=\"main\"\r\n        delay={500}\r\n        text={capitalisedName}\r\n        center\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          onClick={spriteClick}\r\n          id={spriteId}\r\n          className={classNames(\r\n            'sprite__pokemon',\r\n            {\r\n              'sprite__pokemon--can-click': hasClick\r\n            },\r\n            spriteClasses.name\r\n          )}\r\n          style={backgroundPosition}\r\n          aria-labelledby={`tooltip_${spriteId}`}\r\n          aria-describedby={`describe_${spriteId}`}\r\n        />\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n});\r\n\r\nSprite.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func\r\n};\r\n\r\nexport default Sprite;\r\n","import { useState, useCallback, useLayoutEffect } from 'react';\r\n\r\nfunction addEvent(event, cb) {\r\n  window.addEventListener(event, cb);\r\n  return () => window.removeEventListener(event, cb);\r\n}\r\n\r\nexport function useDimensions() {\r\n  const [dimensions, setDimensions] = useState({});\r\n  const [node, setNode] = useState(null);\r\n\r\n  const ref = useCallback((node) => {\r\n    setNode(node);\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    if (node) {\r\n      function measure() {\r\n        window.requestAnimationFrame(() =>\r\n          setDimensions(node.getBoundingClientRect())\r\n        );\r\n      }\r\n\r\n      measure();\r\n\r\n      const removeResize = addEvent('resize', measure);\r\n\r\n      return () => {\r\n        removeResize();\r\n      };\r\n    }\r\n  }, [node]);\r\n\r\n  return [ref, dimensions, node];\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { FixedSizeGrid as Grid } from 'react-window';\r\n\r\nimport chunk from 'ayaka/chunk';\r\nimport Sprite from 'components/Sprite';\r\nimport { useDimensions } from 'hooks/useDimensions';\r\n\r\nconst ITEM_SIZE = 46;\r\nconst GRID_HEIGHT = 370;\r\nconst FALLBACK_WIDTH = 460;\r\n\r\nfunction TeamPlannerGrid({ items, onItemClick }) {\r\n  const [ref, { width = FALLBACK_WIDTH }] = useDimensions();\r\n  const enableSpriteScrollbox = true;\r\n\r\n  if (!items.length) {\r\n    return (\r\n      <div\r\n        className={classNames('team-planner__no-results', {\r\n          'team-planner__no-results--scrollbox': enableSpriteScrollbox\r\n        })}\r\n      >\r\n        No pokemon available for the current filters.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const itemsCount = items.length;\r\n  const columnCount = Math.floor(width / ITEM_SIZE);\r\n  const rowCount = Math.ceil(itemsCount / columnCount);\r\n  const matrix = chunk(items, columnCount);\r\n\r\n  return (\r\n    <div\r\n      className={classNames('team-planner__sprite-list', {\r\n        'team-planner__sprite-list--scrollbox': enableSpriteScrollbox\r\n      })}\r\n    >\r\n      <div ref={ref}>\r\n        <Grid\r\n          style={{ position: 'static', overflowX: `hidden` }}\r\n          columnCount={columnCount}\r\n          columnWidth={ITEM_SIZE}\r\n          height={GRID_HEIGHT}\r\n          rowCount={rowCount}\r\n          rowHeight={ITEM_SIZE}\r\n          width={width}\r\n        >\r\n          {({ columnIndex, rowIndex, style }) => {\r\n            const item = matrix[rowIndex][columnIndex];\r\n\r\n            if (!item) {\r\n              return null;\r\n            }\r\n\r\n            return (\r\n              <div key={item.id} style={style}>\r\n                <Sprite data={item} onClick={onItemClick} />\r\n              </div>\r\n            );\r\n          }}\r\n        </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SpriteType = PropTypes.shape({\r\n  id: PropTypes.string,\r\n  name: PropTypes.string,\r\n  spritePosition: PropTypes.shape({\r\n    backgroundPosition: PropTypes.string\r\n  })\r\n});\r\n\r\nTeamPlannerGrid.propTypes = {\r\n  items: PropTypes.arrayOf(SpriteType).isRequired,\r\n  onItemClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TeamPlannerGrid;\r\n","import classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport generateUniqueId from 'ayaka/generateUniqueId';\r\nimport ClearableInput from 'meiko/ClearableInput';\r\nimport toasterService from 'meiko/utils/toasterService';\r\nimport { Button } from 'components/Buttons';\r\nimport Filters from 'components/Filters';\r\nimport Team from 'components/Team';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport Constants from 'constants/index';\r\nimport { Pokedex } from 'constants/pokedex';\r\nimport {\r\n  getUrlQueryStringAsObject,\r\n  createSetFromIdString,\r\n  createIdStringFromSet,\r\n  selectMembersFromPokedex,\r\n  teamsStore,\r\n  settingsStore\r\n} from 'utils/common';\r\nimport { getPartySizeAlertMessage } from 'utils/feedback';\r\nimport * as TPU from './TeamPlannerUtils';\r\n\r\nimport './TeamPlanner.scss';\r\nimport TeamPlannerGrid from './TeamPlannerGrid';\r\n\r\nconst { Strings, Party, Routes } = Constants;\r\n\r\nconst resolvePokedex = (m) =>\r\n  m.params.pokedexKey ||\r\n  settingsStore.getKey('defaultPokedex') ||\r\n  Pokedex.national;\r\n\r\nclass PlannerPage extends React.Component {\r\n  static contextType = PokedexContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentTeamName: '',\r\n      search: '',\r\n      generations: TPU.generationDefaults,\r\n      types: TPU.typeDefaults,\r\n      resists: TPU.typeDefaults,\r\n      evolutions: TPU.evolutionDefaults,\r\n      includeMega: true,\r\n      includeVariants: true,\r\n      startersOnly: false\r\n    };\r\n\r\n    this.handleNameInput = this.handleNameInput.bind(this);\r\n    this.handleSearchInput = this.handleSearchInput.bind(this);\r\n    this.handleMultiSelectFilter = this.handleMultiSelectFilter.bind(this);\r\n    this.handleTickboxFilter = this.handleTickboxFilter.bind(this);\r\n    this.handleSpriteSelection = this.handleSpriteSelection.bind(this);\r\n    this.handleMembersUpdate = this.handleMembersUpdate.bind(this);\r\n    this.handleClearTeam = this.handleClearTeam.bind(this);\r\n    this.handleRandomTeam = this.handleRandomTeam.bind(this);\r\n    this.handleSaveTeam = this.handleSaveTeam.bind(this);\r\n    this.handleChangePokedex = this.handleChangePokedex.bind(this);\r\n  }\r\n\r\n  updateTeamQueryString(memberIds, newId) {\r\n    const { location, history } = this.props;\r\n    const idStr = createIdStringFromSet(memberIds, newId);\r\n\r\n    history.push(`${location.pathname}?team=${idStr}`);\r\n  }\r\n\r\n  handleNameInput(e) {\r\n    this.setState({ currentTeamName: e.target.value });\r\n  }\r\n\r\n  handleSearchInput(e) {\r\n    this.setState({ search: e.target.value.toLowerCase() });\r\n  }\r\n\r\n  handleMultiSelectFilter(value, name) {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  handleTickboxFilter(e) {\r\n    const { name, checked } = e.target;\r\n    this.setState({ [name]: checked });\r\n  }\r\n\r\n  handleSpriteSelection(dataId) {\r\n    const currentTeamIds = createSetFromIdString(\r\n      getUrlQueryStringAsObject(this.props.location).team\r\n    );\r\n\r\n    if (currentTeamIds.size === Party.MAX_SIZE) {\r\n      return this.props.sendAlert(getPartySizeAlertMessage());\r\n    }\r\n\r\n    this.updateTeamQueryString(currentTeamIds, dataId);\r\n  }\r\n\r\n  handleMembersUpdate(membersIds) {\r\n    this.updateTeamQueryString(membersIds);\r\n  }\r\n\r\n  handleClearTeam() {\r\n    this.updateTeamQueryString(new Set([]));\r\n  }\r\n\r\n  handleRandomTeam(dexData, typeMatches) {\r\n    return () => {\r\n      const idString = getUrlQueryStringAsObject(this.props.location).team;\r\n      const currentTeamIds = createSetFromIdString(idString);\r\n      const activePokedex = resolvePokedex(this.props.match);\r\n      const filters = { ...this.state, currentTeamIds, activePokedex };\r\n\r\n      const randomSetOfIds = TPU.selectRandomSetOfIds(\r\n        dexData,\r\n        filters,\r\n        typeMatches\r\n      );\r\n\r\n      this.updateTeamQueryString(randomSetOfIds);\r\n    };\r\n  }\r\n\r\n  handleSaveTeam() {\r\n    const idString = getUrlQueryStringAsObject(this.props.location).team;\r\n    const currentTeamIds = createSetFromIdString(idString);\r\n\r\n    if (currentTeamIds.size === 0) {\r\n      return;\r\n    }\r\n\r\n    const teamId = generateUniqueId();\r\n    const teamName = this.state.currentTeamName || 'Team';\r\n\r\n    const saveTeamData = {\r\n      [teamId]: {\r\n        name: teamName,\r\n        idString\r\n      }\r\n    };\r\n\r\n    teamsStore.set(saveTeamData);\r\n    toasterService.success(\r\n      'Team saved.',\r\n      `${teamName} has been persisted locally.`\r\n    );\r\n  }\r\n\r\n  handleChangePokedex(e) {\r\n    const { value } = e.target;\r\n    this.props.history.push(`${Routes.base}/${value}`);\r\n  }\r\n\r\n  render() {\r\n    let pokeData = this.context;\r\n    const { location, match } = this.props;\r\n    const activePokedex = resolvePokedex(match);\r\n    const { team } = getUrlQueryStringAsObject(location);\r\n    const currentTeamIds = createSetFromIdString(team);\r\n\r\n    const dexFilters = { ...this.state, currentTeamIds, activePokedex };\r\n\r\n    const filterProps = {\r\n      pokedexProps: {\r\n        value: activePokedex,\r\n        onChange: this.handleChangePokedex\r\n      },\r\n      searchProps: {\r\n        value: dexFilters.search,\r\n        onChange: this.handleSearchInput\r\n      },\r\n      generationProps: {\r\n        values: dexFilters.generations,\r\n        options: TPU.generationOptions,\r\n        onUpdate: this.handleMultiSelectFilter\r\n      },\r\n      typeProps: {\r\n        values: dexFilters.types,\r\n        options: TPU.typeOptions,\r\n        onUpdate: this.handleMultiSelectFilter\r\n      },\r\n      resistsProps: {\r\n        values: dexFilters.resists,\r\n        options: TPU.typeOptions,\r\n        onUpdate: this.handleMultiSelectFilter\r\n      },\r\n      evolutionsProps: {\r\n        values: dexFilters.evolutions,\r\n        options: TPU.evolutionOptions,\r\n        onUpdate: this.handleMultiSelectFilter\r\n      },\r\n      includeMegaProps: {\r\n        checked: dexFilters.includeMega,\r\n        onChange: this.handleTickboxFilter\r\n      },\r\n      includeVariantsProps: {\r\n        checked: dexFilters.includeVariants,\r\n        onChange: this.handleTickboxFilter\r\n      },\r\n      startersOnlyProps: {\r\n        checked: dexFilters.startersOnly,\r\n        onChange: this.handleTickboxFilter\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"team-planner\">\r\n        <div\r\n          className={classNames(\r\n            'team-planner__container',\r\n            'team-planner__container--width_20',\r\n            'team-planner__container--hide-on_small'\r\n          )}\r\n        >\r\n          <Filters hiddenOn={Strings.small} {...filterProps} />\r\n        </div>\r\n        <TypeContext.Consumer>\r\n          {(typeMatches) => {\r\n            const filteredSprites = TPU.iteratePokedexToList(\r\n              pokeData,\r\n              dexFilters,\r\n              typeMatches\r\n            );\r\n\r\n            return (\r\n              <div className=\"team-planner__container team-planner__container--width_80\">\r\n                <p id=\"actionsDescription\" className=\"for-screenreader-only\">\r\n                  Here are actions applicaable to the team creator. You can\r\n                  randomise the team creator members selecting from those\r\n                  available under the current filters, save the current team to\r\n                  the teams tab, or clear all the current team members.\r\n                </p>\r\n                <div\r\n                  className=\"team-planner__button-actions\"\r\n                  aria-describedby=\"actionsDescription\"\r\n                >\r\n                  <Button\r\n                    id=\"randomise-team\"\r\n                    isAction\r\n                    onClick={this.handleRandomTeam(pokeData, typeMatches)}\r\n                  >\r\n                    Randomise\r\n                  </Button>\r\n                  <Button id=\"save-team\" isAction onClick={this.handleSaveTeam}>\r\n                    Save team\r\n                  </Button>\r\n                  <Button\r\n                    id=\"clear-team\"\r\n                    isAction\r\n                    onClick={this.handleClearTeam}\r\n                  >\r\n                    Clear team\r\n                  </Button>\r\n                </div>\r\n                <p\r\n                  id=\"teamCreatorDescription\"\r\n                  className=\"for-screenreader-only\"\r\n                >\r\n                  Create a savable pokemon team with a custom name. Drag and\r\n                  drop or use the direction arrows to reorder team members.\r\n                  Individual pokemon can be evolved or devolved using the\r\n                  evolution button between the reorder buttons.\r\n                </p>\r\n                <div\r\n                  className=\"team-planner__team-creator\"\r\n                  aria-describedby=\"teamCreatorDescription\"\r\n                >\r\n                  <ClearableInput\r\n                    id=\"current-team-name\"\r\n                    name=\"currentTeamName\"\r\n                    label=\"Team Name\"\r\n                    value={this.state.currentTeamName}\r\n                    onChange={this.handleNameInput}\r\n                  />\r\n                  <Team\r\n                    types={typeMatches}\r\n                    members={selectMembersFromPokedex(\r\n                      pokeData.pokedex,\r\n                      currentTeamIds\r\n                    )}\r\n                    onMembersUpdate={this.handleMembersUpdate}\r\n                  />\r\n                </div>\r\n                <Filters hiddenOn={Strings.large} {...filterProps} />\r\n\r\n                <TeamPlannerGrid\r\n                  items={filteredSprites}\r\n                  onItemClick={this.handleSpriteSelection}\r\n                />\r\n              </div>\r\n            );\r\n          }}\r\n        </TypeContext.Consumer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlannerPage;\r\n","import generateUniqueId from 'ayaka/generateUniqueId';\r\n\r\nexport function getPartySizeAlertMessage() {\r\n  return {\r\n    id: generateUniqueId(),\r\n    type: 'error',\r\n    message: 'Maximum party size reached',\r\n    detail: 'To add another pokemon, please remove one from your team first'\r\n  };\r\n}\r\n","import React from 'react';\r\n\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport Routes from 'constants/routes';\r\n\r\nimport './TeamViewerMessage.scss';\r\n\r\nconst TeamViewerMessage = () => (\r\n  <div className=\"no-data-message\">\r\n    <div className=\"no-data-message__text\">You have no saved teams</div>\r\n    <ButtonisedNavLink to={Routes.base} link>\r\n      Create a team\r\n    </ButtonisedNavLink>\r\n    <ButtonisedNavLink to={Routes.lusamineTeam} link>\r\n      Load an example team\r\n    </ButtonisedNavLink>\r\n  </div>\r\n);\r\n\r\nexport default TeamViewerMessage;\r\n","import generateUniqueId from 'ayaka/generateUniqueId';\r\nimport Routes from 'constants/routes';\r\n\r\nexport function createTeamUrl(idString) {\r\n  return `${Routes.base}/?team=${idString}`;\r\n}\r\n\r\nexport function mapSavedTeamsToDisplayModel(savedTeams) {\r\n  return Object.keys(savedTeams).map((id) => {\r\n    const { name, idString } = savedTeams[id];\r\n    return {\r\n      id,\r\n      name,\r\n      idString,\r\n      memberIds: idString.split(',')\r\n    };\r\n  });\r\n}\r\n\r\nexport function mapTrainerTeamsToDisplayModel(trainerTeams) {\r\n  return trainerTeams.map((item) => ({\r\n    id: generateUniqueId(),\r\n    ...item,\r\n    idString: item.memberIds.join(',')\r\n  }));\r\n}\r\n","import classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport {\r\n  ClearButton,\r\n  ButtonisedNavLink,\r\n  UpButton,\r\n  DownButton\r\n} from 'components/Buttons';\r\nimport Team from 'components/Team';\r\nimport TeamViewerMessage from 'components/TeamViewerMessage';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport Routes from 'constants/routes';\r\nimport Orders from 'constants/orders';\r\nimport * as TVU from './utils';\r\nimport {\r\n  teamsStore,\r\n  selectMembersFromPokedex,\r\n  moveToNewArrayPosition\r\n} from 'utils/common';\r\n\r\nclass TeamViewer extends React.Component {\r\n  static contextType = PokedexContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadedTeams: false,\r\n      savedTeams: null\r\n    };\r\n\r\n    this.handleDeleteTeam = this.handleDeleteTeam.bind(this);\r\n    this.handleMoveTeam = this.handleMoveTeam.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      loadedTeams: true,\r\n      savedTeams: teamsStore.get()\r\n    });\r\n  }\r\n\r\n  handleDeleteTeam(teamId) {\r\n    const { savedTeams } = this.state;\r\n    const teams = Object.keys(savedTeams)\r\n      .filter((k) => k !== teamId)\r\n      .reduce(\r\n        (p, c) => ({\r\n          ...p,\r\n          [c]: savedTeams[c]\r\n        }),\r\n        {}\r\n      );\r\n\r\n    const updatedTeams = teamsStore.replace(teams);\r\n    this.setState({ savedTeams: updatedTeams });\r\n  }\r\n\r\n  handleMoveTeam(teamId, direction) {\r\n    const { savedTeams } = this.state;\r\n\r\n    const teamKeys = Object.keys(savedTeams);\r\n    const teamIndex = teamKeys.findIndex((x) => x === teamId);\r\n    const newIndex = teamIndex + direction;\r\n\r\n    const teams = moveToNewArrayPosition(teamKeys, teamIndex, newIndex).reduce(\r\n      (p, c) => ({\r\n        ...p,\r\n        [c]: savedTeams[c]\r\n      }),\r\n      {}\r\n    );\r\n\r\n    const updatedTeams = teamsStore.replace(teams);\r\n    this.setState({ savedTeams: updatedTeams });\r\n  }\r\n\r\n  render() {\r\n    let { pokedex } = this.context;\r\n    const { savedTeams } = this.state;\r\n\r\n    if (!this.state.loadedTeams) {\r\n      return null;\r\n    }\r\n\r\n    if (!savedTeams || Object.keys(savedTeams).length === 0) {\r\n      return <TeamViewerMessage />;\r\n    }\r\n\r\n    const teams = TVU.mapSavedTeamsToDisplayModel(savedTeams);\r\n    const teamCount = teams.length;\r\n    const showTeamStatisticsLink = teamCount > 2;\r\n    const canReOrder = teamCount > 1;\r\n\r\n    return (\r\n      <TypeContext.Consumer>\r\n        {(typeMatches) => (\r\n          <div className=\"team-viewer\">\r\n            {showTeamStatisticsLink && (\r\n              <div className=\"team-viewer__navigation\">\r\n                <ButtonisedNavLink\r\n                  to={`${Routes.base}${Routes.teamStatistics}`}\r\n                  link\r\n                >\r\n                  See team statistics\r\n                </ButtonisedNavLink>\r\n              </div>\r\n            )}\r\n            {teams.map((t, i) => {\r\n              const isFirst = i === 0;\r\n              const isLast = i === teamCount - 1;\r\n\r\n              return (\r\n                <div\r\n                  key={t.id}\r\n                  className={classNames('team-viewer__team saved-team')}\r\n                >\r\n                  <p id={`loadTeam_${t.id}`} className=\"for-screenreader-only\">\r\n                    Click to open this team in the team creator where you can\r\n                    edit a new copy.\r\n                  </p>\r\n                  <div className=\"team-viewer__controls\">\r\n                    {canReOrder && (\r\n                      <UpButton\r\n                        className=\"saved-team__action\"\r\n                        disabled={isFirst}\r\n                        onClick={() => this.handleMoveTeam(t.id, Orders.moveUp)}\r\n                      />\r\n                    )}\r\n                    {canReOrder && (\r\n                      <DownButton\r\n                        className=\"saved-team__action\"\r\n                        disabled={isLast}\r\n                        onClick={() =>\r\n                          this.handleMoveTeam(t.id, Orders.moveDown)\r\n                        }\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"saved-team__inner\">\r\n                    <div className={classNames('saved-team__actions')}>\r\n                      <ButtonisedNavLink\r\n                        to={TVU.createTeamUrl(t.idString)}\r\n                        link\r\n                        aria-describedby={`loadTeam_${t.id}`}\r\n                      >\r\n                        Load team\r\n                      </ButtonisedNavLink>\r\n                      <ClearButton\r\n                        title=\"Delete Team\"\r\n                        aria-label=\"Delete Team\"\r\n                        onClick={() => this.handleDeleteTeam(t.id)}\r\n                      />\r\n                    </div>\r\n                    <Team\r\n                      id={t.id}\r\n                      name={t.name}\r\n                      types={typeMatches}\r\n                      members={selectMembersFromPokedex(pokedex, t.memberIds)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </TypeContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TeamViewer;\r\n","import getKeyByValue from 'ayaka/getKeyByValue';\r\n\r\nimport Regions from 'constants/regions';\r\nimport { getGeneration } from 'utils/derivedData';\r\n\r\nfunction mapTypesToPokemon(typeIds, types) {\r\n  return typeIds.map((id) => {\r\n    const type = types.find((x) => x.id === id);\r\n    return {\r\n      id: type.id,\r\n      name: type.name\r\n    };\r\n  });\r\n}\r\n\r\nfunction mapEvolutionsToPokemon(evolutions) {\r\n  return evolutions\r\n    .map((e) => ({\r\n      evolvesTo: e.evolvesTo,\r\n      mechanism: e.mechanism,\r\n      regionId: e.regionId ?? null\r\n    }))\r\n    .filter((o, i, arr) => {\r\n      const index = arr.findIndex(\r\n        (x) => x.evolvesTo === o.evolvesTo && x.regionId === o.regionId\r\n      );\r\n\r\n      return index === i;\r\n    });\r\n}\r\n\r\nexport function mapPokemonData(id, data, types, evolutions, isStarter) {\r\n  return {\r\n    id,\r\n    nationalPokedexNumber: data.nationalPokedexNumber,\r\n    name: data.name,\r\n    form: data.form,\r\n    types: mapTypesToPokemon(data.typeIds, types),\r\n    evolutions: mapEvolutionsToPokemon(evolutions),\r\n    generation: getGeneration(data.nationalPokedexNumber),\r\n    isStarter\r\n  };\r\n}\r\n\r\nexport function mapMegaPokemonData(id, data, types, basePokemon) {\r\n  const suffix = data.suffix ? ` ${data.suffix}` : '';\r\n  return {\r\n    id,\r\n    nationalPokedexNumber: data.nationalPokedexNumber,\r\n    name: `mega ${basePokemon.name}${suffix}`,\r\n    form: '',\r\n    types: mapTypesToPokemon(data.typeIds, types),\r\n    evolutions: [],\r\n    generation: getGeneration(data.nationalPokedexNumber)\r\n  };\r\n}\r\n\r\nexport function mapVariantsPokemonData(\r\n  id,\r\n  data,\r\n  types,\r\n  evolutions,\r\n  basePokemon\r\n) {\r\n  const regionName = getKeyByValue(Regions, data.regionId);\r\n  return {\r\n    id,\r\n    nationalPokedexNumber: data.nationalPokedexNumber,\r\n    name: `${regionName} ${basePokemon.name}`,\r\n    form: data.form ?? '',\r\n    types: mapTypesToPokemon(data.typeIds, types),\r\n    evolutions: mapEvolutionsToPokemon(evolutions),\r\n    generation: getGeneration(data.nationalPokedexNumber)\r\n  };\r\n}\r\n","export default Object.freeze({\r\n  p: 1,\r\n  m: 2,\r\n  v: 3\r\n});\r\n","import IdPrefixes from 'constants/idPrefixes';\r\n\r\nconst getIdPrefix = (id) => id.split('_')[0];\r\n\r\nexport default function sortCombinedData([aId, a], [bId, b]) {\r\n  const aNPN = a.nationalPokedexNumber;\r\n  const bNPN = b.nationalPokedexNumber;\r\n  if (aNPN < bNPN) return -1;\r\n  if (aNPN > bNPN) return 1;\r\n\r\n  const aPrefix = getIdPrefix(aId);\r\n  const bPrefix = getIdPrefix(bId);\r\n  const aEnum = IdPrefixes[aPrefix];\r\n  const bEnum = IdPrefixes[bPrefix];\r\n  if (aEnum < bEnum) return -1;\r\n  if (aEnum > bEnum) return 1;\r\n  return 0;\r\n}\r\n","import * as Mappers from './mappers';\r\nimport * as IdGenerators from './idGenerators';\r\nimport sortCombinedData from 'utils/sorters';\r\n\r\nimport pokemon from './raw/pokemon.json';\r\nimport types from './raw/types.json';\r\nimport evolutions from './raw/evolutions.json';\r\nimport starters from './raw/starters.json';\r\n\r\nexport function transformPokemonData(data) {\r\n  return data.reduce((p, c) => {\r\n    const id = IdGenerators.generatePokemonId(p, c);\r\n    const isStarter = starters.includes(c.nationalPokedexNumber);\r\n    const pokemonTypes = types.filter((x) => c.typeIds.includes(x.id));\r\n    const pokemonEvolutions = evolutions.filter(\r\n      (x) =>\r\n        x.nationalPokedexNumber === c.nationalPokedexNumber &&\r\n        (!x.regionId || x.regionId === c.regionId)\r\n    );\r\n\r\n    return p.set(\r\n      id,\r\n      Mappers.mapPokemonData(id, c, pokemonTypes, pokemonEvolutions, isStarter)\r\n    );\r\n  }, new Map());\r\n}\r\n\r\nexport function transformMegaPokemonData(data) {\r\n  return data.reduce((p, c) => {\r\n    const id = IdGenerators.generateMegaPokemonId(p, c);\r\n    const basePokemon = pokemon.find(\r\n      (x) => x.nationalPokedexNumber === c.nationalPokedexNumber\r\n    );\r\n    const pokemonTypes = types.filter((x) => c.typeIds.includes(x.id));\r\n\r\n    return p.set(\r\n      id,\r\n      Mappers.mapMegaPokemonData(id, c, pokemonTypes, basePokemon)\r\n    );\r\n  }, new Map());\r\n}\r\n\r\nexport function transformVariantPokemonData(data) {\r\n  return data.reduce((p, c) => {\r\n    const id = IdGenerators.generateVariantPokemonId(p, c);\r\n    const basePokemon = pokemon.find(\r\n      (x) =>\r\n        x.nationalPokedexNumber === c.nationalPokedexNumber &&\r\n        (!c.form || x.form === c.form)\r\n    );\r\n    const pokemonTypes = types.filter((x) => c.typeIds.includes(x.id));\r\n    const pokemonEvolutions = evolutions.filter(\r\n      (x) =>\r\n        x.nationalPokedexNumber === c.nationalPokedexNumber &&\r\n        (!x.regionId || x.regionId === c.regionId)\r\n    );\r\n\r\n    return p.set(\r\n      id,\r\n      Mappers.mapVariantsPokemonData(\r\n        id,\r\n        c,\r\n        pokemonTypes,\r\n        pokemonEvolutions,\r\n        basePokemon\r\n      )\r\n    );\r\n  }, new Map());\r\n}\r\n\r\nfunction reduceMapsToArray(combined, aMap) {\r\n  return [...combined, ...Array.from(aMap)];\r\n}\r\n\r\nexport function combineAndSortMaps(mapper, ...maps) {\r\n  const combinedData = maps\r\n    .reduce(reduceMapsToArray, [])\r\n    .sort(sortCombinedData)\r\n    .map(mapper);\r\n\r\n  return new Map([...combinedData]);\r\n}\r\n","import {\r\n  transformPokemonData,\r\n  transformMegaPokemonData,\r\n  transformVariantPokemonData,\r\n  combineAndSortMaps\r\n} from './transformers';\r\n\r\nimport pokemon from './raw/pokemon.json';\r\nimport megas from './raw/megaEvolutions.json';\r\nimport regionalVariants from './raw/regionalVariants.json';\r\nimport types from './raw/types.json';\r\nimport trainerTeams from './raw/trainerTeams.json';\r\n\r\nimport kanto from './raw/regionalPokedex/kanto.json';\r\nimport johto_og from './raw/regionalPokedex/new.json';\r\nimport johto from './raw/regionalPokedex/johto.json';\r\nimport hoenn from './raw/regionalPokedex/hoenn.json';\r\nimport hoenn_oras from './raw/regionalPokedex/hoenn_oras.json';\r\nimport sinnoh from './raw/regionalPokedex/sinnoh.json';\r\nimport sinnoh_pt from './raw/regionalPokedex/sinnoh_pt.json';\r\nimport unova from './raw/regionalPokedex/unova.json';\r\nimport unova_n from './raw/regionalPokedex/unova_n.json';\r\nimport kalos_ce from './raw/regionalPokedex/kalos_ce.json';\r\nimport kalos_co from './raw/regionalPokedex/kalos_co.json';\r\nimport kalos_mo from './raw/regionalPokedex/kalos_mo.json';\r\nimport alola from './raw/regionalPokedex/alola.json';\r\nimport alola_u from './raw/regionalPokedex/alola_u.json';\r\nimport galar from './raw/regionalPokedex/galar.json';\r\n\r\nconst SPRITES_PER_ROW = 30;\r\nconst ART_PER_ROW = 30;\r\n\r\nexport function constructPokedex() {\r\n  const pokemonMap = transformPokemonData(pokemon);\r\n  const megasMap = transformMegaPokemonData(megas);\r\n  const variantsMap = transformVariantPokemonData(regionalVariants);\r\n\r\n  const pokedex = combineAndSortMaps(\r\n    ([id, mon], order) => {\r\n      const sOffset = -40;\r\n      const aOffset = -96;\r\n      const sy = -2 + sOffset * Math.floor(order / SPRITES_PER_ROW);\r\n      const sx = -1 + sOffset * (order % SPRITES_PER_ROW);\r\n      const ay = 0 + aOffset * Math.floor((order + 1) / ART_PER_ROW);\r\n      const ax = -1 + aOffset * ((order + 1) % ART_PER_ROW);\r\n\r\n      return [\r\n        id,\r\n        {\r\n          ...mon,\r\n          spritePosition: { backgroundPosition: `${sx}px ${sy}px` },\r\n          artPosition: { backgroundPosition: `${ax}px ${ay}px` }\r\n        }\r\n      ];\r\n    },\r\n    pokemonMap,\r\n    megasMap,\r\n    variantsMap\r\n  );\r\n\r\n  return {\r\n    pokedex,\r\n    regions: {\r\n      kanto,\r\n      new: johto_og,\r\n      johto,\r\n      hoenn,\r\n      hoenn_oras,\r\n      sinnoh,\r\n      sinnoh_pt,\r\n      unova,\r\n      unova_n,\r\n      kalos: [...kalos_ce, ...kalos_co, ...kalos_mo],\r\n      alola,\r\n      alola_u,\r\n      galar\r\n    }\r\n  };\r\n}\r\n\r\nexport function getTypeMatchups() {\r\n  return types.reduce((p, c) => {\r\n    p.set(c.id, c);\r\n    return p;\r\n  }, new Map());\r\n}\r\n\r\nexport function getTrainerTeams() {\r\n  return trainerTeams;\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { useContext, useState } from 'react';\r\n\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport Team from 'components/Team';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport * as TVU from './utils';\r\nimport { selectMembersFromPokedexAllowDuplicates } from 'utils/common';\r\nimport { getTrainerTeams } from 'data';\r\n\r\nfunction TrainerTeamViewer() {\r\n  const { pokedex } = useContext(PokedexContext);\r\n  const typeMatches = useContext(TypeContext);\r\n  const [teams] = useState(\r\n    TVU.mapTrainerTeamsToDisplayModel(getTrainerTeams())\r\n  );\r\n\r\n  return (\r\n    <div className=\"team-viewer\">\r\n      {teams.map((t) => (\r\n        <div key={t.id} className={classNames('team-viewer__team saved-team')}>\r\n          <p id={`loadTeam_${t.id}`} className=\"for-screenreader-only\">\r\n            Click to open this team in the team creator where you can edit a new\r\n            copy.\r\n          </p>\r\n          <div className=\"saved-team__inner\">\r\n            <div className={classNames('saved-team__actions')}>\r\n              <ButtonisedNavLink\r\n                to={TVU.createTeamUrl(t.idString)}\r\n                link\r\n                aria-describedby={`loadTeam_${t.id}`}\r\n              >\r\n                Load team\r\n              </ButtonisedNavLink>\r\n            </div>\r\n            <Team\r\n              id={t.id}\r\n              name={t.name}\r\n              types={typeMatches}\r\n              members={selectMembersFromPokedexAllowDuplicates(\r\n                pokedex,\r\n                t.memberIds\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrainerTeamViewer;\r\n","import React from 'react';\r\n\r\nimport { capitalise } from 'ayaka/capitalise';\r\nimport Tabs from 'meiko/Tabs';\r\nimport SavedTeams from './SavedTeams';\r\nimport TrainerTeams from './TrainerTeams';\r\n\r\nimport { getUrlQueryStringAsObject } from 'utils/common';\r\n\r\nimport './TeamViewer.scss';\r\n\r\nfunction TeamViewer({ match, location, history, ...props }) {\r\n  function handleTabChange(name) {\r\n    history.replace(`${match.url}?tab=${name}`);\r\n  }\r\n\r\n  const query = getUrlQueryStringAsObject(location);\r\n  const activeTab = capitalise(query.tab || 'Saved');\r\n\r\n  return (\r\n    <Tabs.Container activeTab={activeTab} onChange={handleTabChange}>\r\n      <Tabs.View name=\"Saved\">\r\n        {(isActive) => isActive && <SavedTeams {...props} />}\r\n      </Tabs.View>\r\n      <Tabs.View name=\"Trainer\">\r\n        {(isActive) => isActive && <TrainerTeams {...props} />}\r\n      </Tabs.View>\r\n    </Tabs.Container>\r\n  );\r\n}\r\n\r\nexport default TeamViewer;\r\n","import React from 'react';\r\n\r\nimport SelectBox from 'meiko/SelectBox';\r\nimport Tickbox from 'meiko/Tickbox';\r\nimport SETTINGS_DEFAULTS from 'constants/settings';\r\nimport { pokedexOptions } from 'constants/pokedex';\r\nimport { settingsStore } from 'utils/common';\r\n\r\nclass Settings extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ...SETTINGS_DEFAULTS\r\n    };\r\n\r\n    this.handleUserInput = this.handleUserInput.bind(this);\r\n    this.handleSelectChange = this.handleSelectChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ ...settingsStore.get() });\r\n  }\r\n\r\n  handleUserInput(e) {\r\n    const { name, checked } = e.target;\r\n    this.setState({ [name]: checked }, () =>\r\n      settingsStore.set({\r\n        ...SETTINGS_DEFAULTS,\r\n        ...this.state\r\n      })\r\n    );\r\n  }\r\n\r\n  handleSelectChange(e) {\r\n    const { value } = e.target;\r\n    this.setState({ defaultPokedex: value }, () =>\r\n      settingsStore.set({\r\n        ...SETTINGS_DEFAULTS,\r\n        ...this.state\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const settings = this.state;\r\n\r\n    return (\r\n      <div className=\"settings\">\r\n        <Tickbox\r\n          id=\"can-dnd\"\r\n          containerClassName=\"settings__input\"\r\n          name=\"canDragAndDrop\"\r\n          text={`Enable Drag and Drop\\nMove team members by dragging the cards to the desired spot.`}\r\n          checked={settings.canDragAndDrop}\r\n          onChange={this.handleUserInput}\r\n        />\r\n        <Tickbox\r\n          id=\"can-use-arrows\"\r\n          containerClassName=\"settings__input\"\r\n          name=\"canUseArrows\"\r\n          text={`Enable Team Member Arrows\\nMove team members with arrow buttons to the desired spot.`}\r\n          checked={settings.canUseArrows}\r\n          onChange={this.handleUserInput}\r\n        />\r\n        <Tickbox\r\n          id=\"can-evolve\"\r\n          containerClassName=\"settings__input\"\r\n          name=\"canEvolve\"\r\n          text={`Enable Team Member Evolve\\nChange team members with their evolutions with this shortcut.`}\r\n          checked={settings.canEvolve}\r\n          onChange={this.handleUserInput}\r\n        />\r\n        <SelectBox\r\n          id=\"default-pokedex\"\r\n          containerClassName=\"settings__input settings__input--select-box\"\r\n          text=\"Default Pokedex\"\r\n          value={settings.defaultPokedex}\r\n          options={pokedexOptions}\r\n          onChange={this.handleSelectChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport TeamMember from 'components/TeamMember';\r\n\r\nfunction PokedexMember({ currentPath, ...props }) {\r\n  return (\r\n    <TeamMember\r\n      className=\"pokedex__member\"\r\n      {...props}\r\n      renderCustomActions={({ data }) => (\r\n        <ButtonisedNavLink to={`${currentPath}?typeSourceId=${data.id}`}>\r\n          See type breakdown\r\n        </ButtonisedNavLink>\r\n      )}\r\n    />\r\n  );\r\n}\r\n\r\nPokedexMember.propTypes = {\r\n  currentPath: PropTypes.string.isRequired\r\n};\r\n\r\nexport default PokedexMember;\r\n","import React, { useContext, useMemo } from 'react';\r\n\r\nimport { capitaliseEachWord } from 'ayaka/capitalise';\r\nimport orderBy from 'ayaka/orderBy';\r\nimport { default as MkoList } from 'meiko/List';\r\nimport SelectBox from 'meiko/SelectBox';\r\nimport { useWindowSize } from 'meiko/hooks/useWindowSize';\r\n\r\nimport { Button } from 'components/Buttons';\r\nimport TeamMember from 'components/TeamMember';\r\nimport TeamBreakdown from 'components/TeamBreakdown';\r\nimport List from 'components/List';\r\nimport PokedexMember from './PokedexMember';\r\n\r\nimport { PokedexContext } from 'context';\r\nimport Routes from 'constants/routes';\r\nimport { getUrlQueryStringAsObject } from 'utils/common';\r\nimport generateEvolutionOptions from 'utils/generateEvolutionOptions';\r\nimport { orderKeys } from 'utils/generateEvolutionOptions/helpers';\r\nimport { isXS } from 'utils/media';\r\nimport { merge, distinct } from 'utils/lists';\r\nimport buildControlText from './buildControlText';\r\nimport generateVanillaDex from './generateVanillaDex';\r\n\r\nimport './Pokedex.scss';\r\n\r\nconst FIRST_ID = `p_1`;\r\n\r\nfunction Pokedex({ match, location, history }) {\r\n  const { pokedex } = useContext(PokedexContext);\r\n  const { baseDex, dexOptions, lastId } = useMemo(\r\n    () => generateVanillaDex(pokedex),\r\n    [pokedex]\r\n  );\r\n\r\n  const size = useWindowSize();\r\n  const isXSmall = isXS(size.width);\r\n\r\n  const { params } = match;\r\n  const activeId = params.id || FIRST_ID;\r\n  const activeMon = baseDex.get(activeId);\r\n\r\n  const { typeSourceId } = getUrlQueryStringAsObject(location);\r\n  const typeSourceMon = pokedex.get(typeSourceId) || activeMon;\r\n\r\n  const isFirst = activeId === FIRST_ID;\r\n  const isLast = activeId === lastId;\r\n\r\n  function changeActivePokemon(e) {\r\n    const newId = e.target.value;\r\n    history.push(`${Routes.base}${Routes.pokedex}/${newId}`);\r\n  }\r\n\r\n  if (!activeMon) {\r\n    return (\r\n      <div className=\"pokedex pokedex--not-found\">\r\n        <div className=\"pokedex__not-found-message\">\r\n          No Pokemon was found. Select a valid one below.\r\n        </div>\r\n        <SelectBox\r\n          id=\"active-pokemon\"\r\n          containerClassName=\"pokedex__options\"\r\n          text=\"Active Pokemon\"\r\n          value={activeId}\r\n          options={dexOptions}\r\n          onChange={changeActivePokemon}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const [backward, forward] = buildControlText(baseDex, dexOptions, activeId);\r\n  const evoOptions = generateEvolutionOptions(pokedex, activeMon, true);\r\n  const { devolves, evolves, megas, variants, forms } = evoOptions;\r\n\r\n  const hasDevolves = !!devolves.length;\r\n  const hasEvolves = !!evolves.length;\r\n  const hasMegas = !!megas.length;\r\n\r\n  function move(direction) {\r\n    const index = dexOptions.findIndex((x) => x.value === activeId);\r\n    const mon = dexOptions[index + direction];\r\n    history.push(`${Routes.base}${Routes.pokedex}/${mon.value}`);\r\n  }\r\n\r\n  return (\r\n    <div className=\"pokedex\">\r\n      <div className=\"pokedex__controls\">\r\n        <Button\r\n          className=\"pokedex__nav-button\"\r\n          title={backward.label}\r\n          aria-label={backward.label}\r\n          disabled={isFirst}\r\n          onClick={() => move(-1)}\r\n        >\r\n          <span aria-hidden=\"true\">{isFirst ? '' : backward.text}</span>\r\n        </Button>\r\n        {!isXSmall && (\r\n          <SelectBox\r\n            id=\"active-pokemon\"\r\n            containerClassName=\"pokedex__options\"\r\n            text=\"Active Pokemon\"\r\n            value={activeId}\r\n            options={dexOptions}\r\n            onChange={changeActivePokemon}\r\n          />\r\n        )}\r\n        <Button\r\n          className=\"pokedex__nav-button\"\r\n          title={forward.label}\r\n          aria-label={forward.label}\r\n          disabled={isLast}\r\n          onClick={() => move(1)}\r\n        >\r\n          <span aria-hidden=\"true\">{isLast ? '' : forward.text}</span>\r\n        </Button>\r\n        {isXSmall && (\r\n          <SelectBox\r\n            id=\"active-pokemon\"\r\n            containerClassName=\"pokedex__options\"\r\n            text=\"Active Pokemon\"\r\n            value={activeId}\r\n            options={dexOptions}\r\n            onChange={changeActivePokemon}\r\n          />\r\n        )}\r\n      </div>\r\n      {activeMon && (\r\n        <MkoList>\r\n          {[<TeamMember key=\"activeMember\" data={activeMon} />]}\r\n        </MkoList>\r\n      )}\r\n      <div className=\"pokedex__information pokemon-information\">\r\n        <MkoList className=\"pokemon-information__block pokemon-information__block--large evolution-tree\">\r\n          {hasDevolves && (\r\n            <li>\r\n              <List\r\n                className=\"evolution-tree__list\"\r\n                columns={1}\r\n                items={devolves}\r\n                itemTemplate={([_, item]) => (\r\n                  <PokedexMember\r\n                    key={item.id}\r\n                    data={item}\r\n                    currentPath={match.url}\r\n                  />\r\n                )}\r\n              />\r\n            </li>\r\n          )}\r\n          {hasDevolves && (\r\n            <li className=\"evolution-tree__arrow\" aria-label=\"Evolves to\" />\r\n          )}\r\n          <li>\r\n            <List\r\n              className=\"evolution-tree__list\"\r\n              columns={1}\r\n              items={orderBy(distinct('id', merge(variants, forms)), orderKeys)}\r\n              itemTemplate={(item) => (\r\n                <PokedexMember\r\n                  key={item.id}\r\n                  data={item}\r\n                  currentPath={match.url}\r\n                />\r\n              )}\r\n            />\r\n          </li>\r\n          {hasEvolves && (\r\n            <li className=\"evolution-tree__arrow\" aria-label=\"Evolves to\" />\r\n          )}\r\n          {hasEvolves && (\r\n            <li>\r\n              <List\r\n                className=\"evolution-tree__list\"\r\n                columns={1}\r\n                items={evolves}\r\n                itemTemplate={([_, item]) => (\r\n                  <PokedexMember\r\n                    key={item.id}\r\n                    data={item}\r\n                    currentPath={match.url}\r\n                  />\r\n                )}\r\n              />\r\n            </li>\r\n          )}\r\n          {hasMegas && (\r\n            <li className=\"evolution-tree__megas\">\r\n              <List\r\n                className=\"evolution-tree__list\"\r\n                columns={1}\r\n                items={megas}\r\n                itemTemplate={([_, item]) => (\r\n                  <PokedexMember\r\n                    key={item.id}\r\n                    data={item}\r\n                    currentPath={match.url}\r\n                  />\r\n                )}\r\n              />\r\n            </li>\r\n          )}\r\n        </MkoList>\r\n        <section className=\"pokemon-information__block pokemon-information__block--column\">\r\n          <header>\r\n            <h2 className=\"pokemon-information__title\">\r\n              {capitaliseEachWord(\r\n                `${typeSourceMon.name}${\r\n                  typeSourceMon.form\r\n                    ? ` (${capitaliseEachWord(typeSourceMon.form)})`\r\n                    : ''\r\n                } type breakdown`\r\n              )}\r\n            </h2>\r\n          </header>\r\n          <TeamBreakdown\r\n            className=\"pokedex-breakdown\"\r\n            contentClassName=\"pokedex-breakdown__content\"\r\n            alwaysOpen\r\n            filterZeroes\r\n            typeBreakdownOnly\r\n            teamName={typeSourceMon.name}\r\n            members={new Map([[typeSourceMon.id, typeSourceMon]])}\r\n          />\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pokedex;\r\n","import { capitaliseEachWord } from 'ayaka/capitalise';\r\nimport { iterateMapToArray } from 'utils/common';\r\nimport {\r\n  isMegaPokemon,\r\n  isVariantPokemon,\r\n  isAltFormPokemon\r\n} from 'utils/derivedData';\r\n\r\nexport default function generateVanillaDex(dex) {\r\n  const values = iterateMapToArray(dex);\r\n  const basePokemon = values.filter(\r\n    (x) => !(isMegaPokemon(x) || isVariantPokemon(x) || isAltFormPokemon(x))\r\n  );\r\n\r\n  let lastId = 0;\r\n  const baseDex = basePokemon.reduce((p, c) => {\r\n    const id = c.id;\r\n    lastId = id;\r\n    return p.set(id, c);\r\n  }, new Map([]));\r\n\r\n  return {\r\n    baseDex,\r\n    dexOptions: iterateMapToArray(baseDex).map((x) => ({\r\n      value: x.id,\r\n      text: `${capitaliseEachWord(x.name)} (#${x.nationalPokedexNumber})`\r\n    })),\r\n    lastId\r\n  };\r\n}\r\n","import { capitaliseEachWord } from 'ayaka/capitalise';\r\n\r\nexport default function buildControlText(dex, dexOptions, activeId) {\r\n  const index = dexOptions.findIndex((x) => x.value === activeId);\r\n\r\n  return [-1, 1].map((direction) => {\r\n    const data = dexOptions[index + direction];\r\n\r\n    if (!data) {\r\n      return { label: 'End of pokedex', text: '' };\r\n    }\r\n\r\n    const mon = dex.get(data.value);\r\n\r\n    const isPre = direction < 0;\r\n    const pref = isPre ? '< ' : '';\r\n    const suff = isPre ? '' : ' >';\r\n\r\n    const npn = mon.nationalPokedexNumber;\r\n    const monName = capitaliseEachWord(mon.name);\r\n\r\n    const text = `${pref}#${npn} - ${monName}${suff}`;\r\n    const label = `Go to #${npn}, ${monName}`;\r\n\r\n    return { label, text };\r\n  });\r\n}\r\n","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport './Table.scss';\r\n\r\nfunction Table({ className, headers, children, hovered, striped, ...props }) {\r\n  return (\r\n    <table\r\n      className={classNames(\r\n        'table',\r\n        { 'table--hovered': hovered, 'table--striped': striped },\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <thead>{headers}</thead>\r\n      <tbody>{children}</tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nTable.defaultProps = {\r\n  hovered: false,\r\n  striped: false\r\n};\r\n\r\nTable.propTypes = {\r\n  headers: PropTypes.element.isRequired,\r\n  children: PropTypes.arrayOf(PropTypes.element),\r\n  hovered: PropTypes.bool,\r\n  striped: PropTypes.bool\r\n};\r\n\r\nexport default Table;\r\n","import React from 'react';\r\nimport Table from 'components/Table';\r\n\r\nfunction StatsTable({ label, ...props }) {\r\n  return (\r\n    <div className=\"statistics\">\r\n      <h3 className=\"statistics__title\">{label}</h3>\r\n      <Table hovered striped {...props} className=\"statistics__table\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StatsTable;\r\n","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { capitaliseEachWord } from 'ayaka/capitalise';\r\nimport { Button } from 'meiko/Button';\r\nimport ArtCard from 'components/ArtCard';\r\n\r\nimport './PokemonContent.scss';\r\n\r\nconst COLLAPSED_PROPS = {\r\n  'aria-label': 'Click to collapse pokemon breakdown',\r\n  title: 'Collapse',\r\n  icon: '-'\r\n};\r\n\r\nconst EXPANDED_PROPS = {\r\n  'aria-label': 'Click to expand pokemon breakdown',\r\n  title: 'Expand',\r\n  icon: '+'\r\n};\r\n\r\nfunction PokemonContent({ data, isExpanded, onToggle }) {\r\n  const hasToggle = !!onToggle;\r\n  const expandProps = isExpanded ? COLLAPSED_PROPS : EXPANDED_PROPS;\r\n\r\n  return (\r\n    <div\r\n      className={classNames('pokemon-content', {\r\n        'pokemon-content--no-toggle': !hasToggle\r\n      })}\r\n    >\r\n      {hasToggle && (\r\n        <Button\r\n          className=\"team-statistics__toggler\"\r\n          {...expandProps}\r\n          onClick={onToggle}\r\n        />\r\n      )}\r\n      <div>\r\n        <ArtCard containerClass=\"team-statistics__card\" data={data} />\r\n        <div>{capitaliseEachWord(data.name)}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nPokemonContent.defaultProps = {\r\n  isExpanded: false,\r\n  onToggle: null\r\n};\r\n\r\nPokemonContent.propTypes = {\r\n  isExpanded: PropTypes.bool,\r\n  data: PropTypes.object.isRequired,\r\n  onToggle: PropTypes.func\r\n};\r\n\r\nexport default PokemonContent;\r\n","const defaultGetter = (x) => x;\r\n\r\nexport default function groupBy(list, keyGetter = defaultGetter) {\r\n  const map = new Map();\r\n\r\n  list.forEach((item) => {\r\n    const key = keyGetter(item);\r\n    const collection = map.get(key);\r\n    if (!collection) {\r\n      map.set(key, [item]);\r\n    } else {\r\n      collection.push(item);\r\n    }\r\n  });\r\n\r\n  return map;\r\n}\r\n","import { isMegaPokemon } from 'utils/derivedData';\r\nimport groupBy from 'utils/groupBy';\r\n\r\nfunction combineTeamPokemon(pokedex, savedTeams) {\r\n  return Object.keys(savedTeams).flatMap((key) =>\r\n    savedTeams[key].idString.split(',').map((id) => pokedex.get(id))\r\n  );\r\n}\r\n\r\nfunction separateEvolutionForms(pokemon) {\r\n  return [\r\n    {\r\n      label: `Not Fully Evolved`,\r\n      count: pokemon.filter((x) => x.evolutions.length > 0).length\r\n    },\r\n    {\r\n      label: `Fully Evolved`,\r\n      count: pokemon.filter(\r\n        (x) => x.evolutions.length === 0 && !isMegaPokemon(x)\r\n      ).length\r\n    },\r\n    {\r\n      label: `Fully Evolved (Mega)`,\r\n      count: pokemon.filter(isMegaPokemon).length\r\n    }\r\n  ].sort((a, b) => b.count - a.count);\r\n}\r\n\r\nexport const mapToSortedArray = (m) =>\r\n  Array.from(m)\r\n    .map(([key, items]) => [key, items.length])\r\n    .sort(([_, a], [__, b]) => b - a);\r\n\r\nexport default function calculateCounts(pokedex, teams) {\r\n  const teamsCount = teams ? Object.keys(teams).length : 0;\r\n  const displayViewerMessage = teamsCount === 0;\r\n\r\n  if (displayViewerMessage) {\r\n    return {};\r\n  }\r\n\r\n  const allTeamPokemon = combineTeamPokemon(pokedex, teams);\r\n  const totalPokemonCount = allTeamPokemon.length;\r\n  const pokemon = groupBy(allTeamPokemon, (x) => x.nationalPokedexNumber);\r\n  const groupedPokemon = Array.from(pokemon)\r\n    .map(([key, items]) => [key, items.length])\r\n    .sort(([_, a], [__, b]) => b - a);\r\n\r\n  const evolutionForms = separateEvolutionForms(allTeamPokemon);\r\n  const types = mapToSortedArray(\r\n    groupBy(allTeamPokemon.flatMap((x) => x.types.map((t) => t.id)))\r\n  );\r\n  const generations = mapToSortedArray(\r\n    groupBy(allTeamPokemon.map((x) => x.generation))\r\n  );\r\n\r\n  return {\r\n    totalPokemonCount,\r\n    pokemon,\r\n    groupedPokemon,\r\n    types,\r\n    generations,\r\n    evolutionForms\r\n  };\r\n}\r\n","import React, { useState, useContext, useMemo } from 'react';\r\n\r\nimport TeamViewerMessage from 'components/TeamViewerMessage';\r\nimport TypeBlock from 'components/TypeBlock';\r\nimport StatsTable from './StatsTable';\r\nimport PokemonContent from './PokemonContent';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport { teamsStore } from 'utils/common';\r\nimport groupBy from 'utils/groupBy';\r\nimport calculateCounts, { mapToSortedArray } from './calculateCounts';\r\n\r\nimport './TeamStatistics.scss';\r\n\r\nfunction TeamStatistics() {\r\n  const { pokedex } = useContext(PokedexContext);\r\n  const typesData = useContext(TypeContext);\r\n  const [savedTeams] = useState(teamsStore.get());\r\n  const [expandedPokemonRow, setExpandedPokemon] = useState(new Set([]));\r\n\r\n  const teamsCount = savedTeams ? Object.keys(savedTeams).length : 0;\r\n  const displayViewerMessage = teamsCount === 0;\r\n\r\n  const {\r\n    totalPokemonCount,\r\n    groupedPokemon,\r\n    pokemon,\r\n    types,\r\n    generations,\r\n    evolutionForms\r\n  } = useMemo(() => calculateCounts(pokedex, savedTeams), [\r\n    pokedex,\r\n    savedTeams\r\n  ]);\r\n\r\n  if (displayViewerMessage) {\r\n    return <TeamViewerMessage />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"team-statistics\">\r\n      <div>\r\n        <h2 className=\"team-statistics__title\">Team Statistics</h2>\r\n        <p className=\"team-statistics__description\">\r\n          This page shows the detailed breakdown for all currently saved teams.\r\n          {`\\n`} It should also be noted that type counts include a count for\r\n          each type, meaning that a pokemon with 2 types are counted once for\r\n          each type.{`\\n`} The current statistics are representative of{' '}\r\n          {totalPokemonCount} pokemon across {teamsCount} teams.\r\n        </p>\r\n      </div>\r\n      <div className=\"team-statistics__data\">\r\n        <StatsTable\r\n          label=\"Pokemon\"\r\n          striped={false}\r\n          hovered={false}\r\n          headers={\r\n            <tr>\r\n              <th className=\"center-align\">Pokemon</th>\r\n              <th className=\"right-align\">Count</th>\r\n            </tr>\r\n          }\r\n        >\r\n          {groupedPokemon.map(([key, count]) => {\r\n            const npn = `p_${key}`;\r\n            const p = pokedex.get(npn);\r\n            const isExpanded = expandedPokemonRow.has(key);\r\n            const pokemonSublist = mapToSortedArray(\r\n              groupBy(pokemon.get(key), (x) => x.id)\r\n            );\r\n\r\n            return (\r\n              <React.Fragment key={key}>\r\n                <tr key={key}>\r\n                  <td className=\"center-align\">\r\n                    <PokemonContent\r\n                      isExpanded={isExpanded}\r\n                      data={p}\r\n                      onToggle={() => {\r\n                        setExpandedPokemon(\r\n                          (expanded) =>\r\n                            new Set(\r\n                              expanded.delete(key)\r\n                                ? expanded\r\n                                : expanded.add(key)\r\n                            )\r\n                        );\r\n                      }}\r\n                    />\r\n                  </td>\r\n                  <td className=\"right-align\">{count}</td>\r\n                </tr>\r\n                {isExpanded &&\r\n                  pokemonSublist.map(([subKey, count]) => {\r\n                    const subP = pokedex.get(subKey);\r\n\r\n                    return (\r\n                      <tr key={subKey} className=\"statistics__expanded-row\">\r\n                        <td className=\"center-align\">\r\n                          <PokemonContent data={subP} />\r\n                        </td>\r\n                        <td className=\"right-align\">{count}</td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </StatsTable>\r\n        <div>\r\n          <div className=\"team-statistics__data-inner\">\r\n            <StatsTable\r\n              label=\"Types\"\r\n              headers={\r\n                <tr>\r\n                  <th className=\"center-align\">Type</th>\r\n                  <th className=\"right-align\">Count</th>\r\n                </tr>\r\n              }\r\n            >\r\n              {types.map(([key, count]) => {\r\n                const t = typesData.get(key);\r\n                return (\r\n                  <tr key={key}>\r\n                    <td>\r\n                      <TypeBlock center value={t.name} />\r\n                    </td>\r\n                    <td className=\"right-align\">{count}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </StatsTable>\r\n            <StatsTable\r\n              label=\"Generations\"\r\n              headers={\r\n                <tr>\r\n                  <th>Generation</th>\r\n                  <th className=\"right-align\">Count</th>\r\n                </tr>\r\n              }\r\n            >\r\n              {generations.map(([key, count]) => (\r\n                <tr key={key}>\r\n                  <td>{key}</td>\r\n                  <td className=\"right-align\">{count}</td>\r\n                </tr>\r\n              ))}\r\n            </StatsTable>\r\n            <StatsTable\r\n              label=\"Evolutions\"\r\n              headers={\r\n                <tr>\r\n                  <th>Evolution</th>\r\n                  <th className=\"right-align\">Count</th>\r\n                </tr>\r\n              }\r\n            >\r\n              {evolutionForms.map(({ label, count }) => (\r\n                <tr key={label}>\r\n                  <td>{label}</td>\r\n                  <td className=\"right-align\">{count}</td>\r\n                </tr>\r\n              ))}\r\n            </StatsTable>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TeamStatistics;\r\n","import { capitaliseEachWord } from 'ayaka/capitalise';\r\nimport Strings from 'constants/strings';\r\n\r\nexport const RouteKeyWords = {\r\n  TEAMS: 'teams',\r\n  SETTINGS: 'settings',\r\n  POKEDEX: 'pokedex',\r\n  STATISTICS: 'team-statistics'\r\n};\r\n\r\nexport default function getPageTitleForCurrentPath(pathname, search) {\r\n  const path = `${pathname}${search}`;\r\n\r\n  let key = 'planner';\r\n\r\n  if (path.includes(RouteKeyWords.TEAMS)) {\r\n    key = path.includes('Trainer') ? 'trainerTeams' : 'savedTeams';\r\n  } else if (path.includes(RouteKeyWords.SETTINGS)) {\r\n    key = 'settings';\r\n  } else if (path.includes(RouteKeyWords.POKEDEX)) {\r\n    key = 'pokedex';\r\n  } else if (path.includes(RouteKeyWords.STATISTICS)) {\r\n    key = 'teamStatistics';\r\n  }\r\n\r\n  const pageHeader = capitaliseEachWord(Strings.pageTitle[key]);\r\n  return {\r\n    pageTitle: pageHeader,\r\n    pageHeader: pageHeader.replace('Pokmon ', ''),\r\n    pageDescription: Strings.pageDescription[key]\r\n  };\r\n}\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Alert from 'meiko/Alert';\r\nimport AppInformation from 'meiko/AppInformation';\r\nimport Toaster from 'meiko/Toaster';\r\nimport { useGlobalStyles } from 'meiko/hooks/useGlobalStyles';\r\n\r\nimport { ButtonisedNavLink } from 'components/Buttons';\r\nimport AppHelmet from 'components/Helmet';\r\nimport HeaderBar from 'components/HeaderBar';\r\nimport AlertContainer from 'components/AlertContainer';\r\nimport Footer from 'components/Footer';\r\nimport EasterEgg from 'components/EasterEgg';\r\nimport TeamPlanner from 'views/TeamPlanner';\r\nimport TeamViewer from 'views/TeamViewer';\r\nimport Settings from 'views/Settings';\r\nimport Pokedex from 'views/Pokedex';\r\nimport TeamStatistics from 'views/TeamStatistics';\r\n\r\nimport Routes from 'constants/routes';\r\nimport { PokedexContext, TypeContext } from 'context';\r\nimport { constructPokedex, getTypeMatchups } from 'data';\r\nimport { settingsStore } from 'utils/common';\r\nimport logData from 'utils/logData';\r\nimport getPageTitleForCurrentPath from 'utils/getPageTitle';\r\n\r\nconst BRANCH = process.env.REACT_APP_BRANCH;\r\nconst VERSION = process.env.REACT_APP_VERSION;\r\n\r\nconst systemMessages = [];\r\n\r\nfunction App({ match, location }) {\r\n  useGlobalStyles();\r\n\r\n  const [{ pokedex, regions }] = useState(constructPokedex());\r\n  const [typeMatchups] = useState(getTypeMatchups());\r\n  const [userMessages, setUserMessages] = useState(systemMessages);\r\n\r\n  const { pathname, search } = location;\r\n  const { pageTitle, pageHeader, pageDescription } = useMemo(\r\n    () => getPageTitleForCurrentPath(pathname, search),\r\n    [pathname, search]\r\n  );\r\n\r\n  const settings = settingsStore.get();\r\n  const messages = userMessages.filter(\r\n    (x) => !settings.readMessages.includes(x.id)\r\n  );\r\n  const hasMessages = messages.length > 0;\r\n\r\n  logData({ pokedex, regions, typeMatchups });\r\n\r\n  return (\r\n    <PokedexContext.Provider value={{ pokedex, regions }}>\r\n      <TypeContext.Provider value={typeMatchups}>\r\n        <div className=\"theme theme--default\">\r\n          <AppHelmet title={pageTitle} description={pageDescription} />\r\n\r\n          <HeaderBar pageTitle={pageHeader} />\r\n          {hasMessages && (\r\n            <Alert\r\n              messageClassName=\"lusamine-alert\"\r\n              alerts={messages}\r\n              actions={{\r\n                dismissAlertMessage: (messageId) => {\r\n                  setUserMessages([]);\r\n                  const settings = settingsStore.get();\r\n                  settingsStore.set({\r\n                    readMessages: [...settings.readMessages, messageId]\r\n                  });\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n          <EasterEgg />\r\n          <AlertContainer>\r\n            {(triggerAlert) => (\r\n              <main>\r\n                <Switch>\r\n                  <Route\r\n                    path={`${match.url}${Routes.teams}`}\r\n                    component={TeamViewer}\r\n                  />\r\n                  <Route\r\n                    path={`${match.url}${Routes.teamStatistics}`}\r\n                    component={TeamStatistics}\r\n                  />\r\n                  <Route\r\n                    path={`${match.url}${Routes.settings}`}\r\n                    component={Settings}\r\n                  />\r\n                  <Route\r\n                    path={`${match.url}${Routes.pokedex}/:id?`}\r\n                    component={Pokedex}\r\n                  />\r\n                  <Route\r\n                    path={`${match.url}/:pokedexKey?`}\r\n                    render={(props) => (\r\n                      <TeamPlanner {...props} sendAlert={triggerAlert} />\r\n                    )}\r\n                  />\r\n                  <Route\r\n                    path=\"*\"\r\n                    render={() => (\r\n                      <div>\r\n                        <AppHelmet\r\n                          title=\"Page not found\"\r\n                          description=\"Unknown route\"\r\n                        />\r\n                        <p>Page not found</p>\r\n                        <p>You appear lost...</p>\r\n                        <ButtonisedNavLink to={match.url} link>\r\n                          Return to the homepage\r\n                        </ButtonisedNavLink>\r\n                      </div>\r\n                    )}\r\n                  />\r\n                </Switch>\r\n                <Toaster />\r\n              </main>\r\n            )}\r\n          </AlertContainer>\r\n          <Footer />\r\n          <AppInformation branch={BRANCH} version={VERSION} />\r\n        </div>\r\n      </TypeContext.Provider>\r\n    </PokedexContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export default function logData({ pokedex, regions, typeMatchups }) {\r\n  const pokemon = Array.from(pokedex).map(([_, x]) => x);\r\n\r\n  let forms = pokemon.filter((x) => !!x.form);\r\n  const pkmWithForms = pokemon.filter((x) =>\r\n    forms.some(\r\n      (f) => f.nationalPokedexNumber === x.nationalPokedexNumber && !x.form\r\n    )\r\n  );\r\n\r\n  forms = new Map(\r\n    [...forms, ...pkmWithForms]\r\n      .sort((a, b) => (a.id > b.id ? 1 : a.id < b.id ? -1 : 0))\r\n      .map((x) => [x.id, x])\r\n  );\r\n\r\n  console.groupCollapsed('App Data');\r\n  console.log('%c pokedex', 'color: royalblue', pokedex);\r\n  console.log('%c regions', 'color: firebrick', regions);\r\n  console.log('%c   forms', 'color: purple', forms);\r\n  console.log('%c   types', 'color: forestgreen', typeMatchups);\r\n  console.groupEnd();\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import art from 'assets/art.webp';\r\nimport sprites from 'assets/sprites.webp';\r\nimport types from 'assets/types.webp';\r\n\r\nfunction preload(url) {\r\n  const img = new Image();\r\n  img.src = url;\r\n}\r\n\r\nexport default function preloadImages() {\r\n  [art, sprites, types].forEach(preload);\r\n}\r\n","function getElement(selector) {\r\n  const el = document.getElementById(selector);\r\n  if (!el) {\r\n    console.warn(`${selector} not found.`);\r\n  }\r\n\r\n  return el;\r\n}\r\n\r\nconst clickOn = (selector) => () => {\r\n  const el = getElement(selector);\r\n  el && el.click();\r\n};\r\n\r\nexport default {\r\n  navigate: {\r\n    planner: clickOn('planner'),\r\n    teams: clickOn('teams'),\r\n    settings: clickOn('settings'),\r\n    pokedex: clickOn('pokedex')\r\n  },\r\n  planner: {\r\n    randomise: clickOn('randomise-team'),\r\n    save: clickOn('save-team'),\r\n    clear: clickOn('clear-team'),\r\n    toggleBreakdown: clickOn('toggle-breakdown'),\r\n    add: (id) => clickOn(`sprite-${id}`)(),\r\n    remove: (id) => {\r\n      const baseUrl = `${window.location.origin}${window.location.pathname}`;\r\n      const newSearch = window.location.search\r\n        .replace(id, '')\r\n        .replace(',,', ',')\r\n        .replace('=,', '=');\r\n\r\n      window.location.href = `${baseUrl}${newSearch}`;\r\n    }\r\n  },\r\n  settings: {\r\n    toggleCanDnD: clickOn('can-dnd')\r\n  }\r\n};\r\n","import './styles/index.scss';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport App from 'components/App';\r\nimport ScrollToTop from 'components/ScrollToTop';\r\nimport Routes from 'constants/routes';\r\n\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport preloadImages from './preloadImages';\r\nimport Driver from './driver';\r\n\r\npreloadImages();\r\nwindow.Lusamine = Driver;\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <ScrollToTop />\r\n    <Switch>\r\n      <Redirect exact from=\"/\" to={Routes.base} />\r\n      <Route path={Routes.base} component={App} />\r\n    </Switch>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\nregisterServiceWorker();\r\n","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/pokemon-opening.7140bc35.mp3\";"],"sourceRoot":""}